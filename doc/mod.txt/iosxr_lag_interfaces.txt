SYNOPSIS                   *iosxr_lag_interfaces*

     • This module manages the attributes of LAG/Ether-Bundle interfaces on IOS-XR devices.

PARAMETERS                   *iosxr_lag_interfaces-parameters*

            Parameter          Choices/Defaults                                                                       Comments
   config                                       A provided Link Aggregation Group (LAG) configuration.
   list / elements=dictionary
    links                                       This dict contains configurable options related to LAG/Ether-Bundle links.
    dictionary
             max_active                         Specifies the limit on the number of links that can be active in the LAG/Ether-Bundle.
             integer                            Refer to vendor documentation for valid values.
             min_active                         Specifies the minimum number of active links needed to bring up the LAG/Ether-Bundle.
             integer                            Refer to vendor documentation for valid values.
    load_balancing_hash          Choices:       Specifies the hash function used for traffic forwarded over the LAG/Ether-Bundle.
    string                       • dst-ip       Option 'dst-ip' uses the destination IP as the hash function.
                                 • src-ip       Option 'src-ip' uses the source IP as the hash function.
    members                                     List of member interfaces for the LAG/Ether-Bundle.
    list / elements=dictionary
             member                             Name of the member interface.
             string
                                 Choices:       Specifies the mode of the operation for the member interface.
             mode                • on           Mode 'active' runs LACP in active mode.
             string              • active       Mode 'on' does not run LACP over the port.
                                 • passive      Mode 'passive' runs LACP in passive mode over the port.
                                 • inherit      Mode 'inherit' runs LACP as configured in the bundle.
                                 Choices:       LAG mode.
    mode                         • on           Mode 'active' runs LACP in active mode over the port.
    string                       • active       Mode 'on' does not run LACP over the port.
                                 • passive      Mode 'passive' runs LACP in passive mode over the port.
    name                                        Name/Identifier of the LAG/Ether-Bundle to configure.
    string / required
                                 Choices:
   state                         • merged ←
   string                        • replaced     The state of the configuration after module completion.
                                 • overridden
                                 • deleted

NOTES                   *iosxr_lag_interfaces-notes*

   Note

     • Tested against IOS-XR 6.1.3.
     • This module works with connection network_cli. See the IOS-XR Platform Options.

EXAMPLES                   *iosxr_lag_interfaces-examples*

 # Using merged
 #
 #
 # ------------
 # Before state
 # ------------
 #
 # RP/0/0/CPU0:iosxr01#show run int
 # Sun Jul  7 19:42:59.416 UTC
 # interface Loopback888
 #  description test for ansible
 #  shutdown
 # !
 # interface MgmtEth0/0/CPU0/0
 #  ipv4 address 192.0.2.11 255.255.255.0
 # !
 # interface GigabitEthernet0/0/0/1
 #  description "GigabitEthernet - 1"
 # !
 # interface GigabitEthernet0/0/0/2
 #  description "GigabitEthernet - 2"
 # !
 # interface GigabitEthernet0/0/0/3
 #  description "GigabitEthernet - 3"
 # !
 # interface GigabitEthernet0/0/0/4
 #  description "GigabitEthernet - 4"
 # !
 #
 #
 - name: Merge provided configuration with device configuration
   iosxr_lag_interfaces:
     config:
       - name: Bundle-Ether10
         members:
           - member: GigabitEthernet0/0/0/1
             mode: inherit
           - member: GigabitEthernet0/0/0/3
             mode: inherit
         mode: active
         links:
           max_active: 5
           min_active: 2
         load_balancing_hash: src-ip

       - name: Bundle-Ether12
         members:
           - member: GigabitEthernet0/0/0/2
             mode: passive
           - member: GigabitEthernet0/0/0/4
             mode: passive
         load_balancing_hash: dst-ip
     state: merged
 #
 #
 # -----------
 # After state
 # -----------
 #
 # RP/0/0/CPU0:iosxr01#show run int
 # Sun Jul  7 20:51:17.685 UTC
 # interface Bundle-Ether10
 #  lacp mode active
 #  bundle load-balancing hash src-ip
 #  bundle maximum-active links 5
 #  bundle minimum-active links 2
 # !
 # interface Bundle-Ether12
 #  bundle load-balancing hash dst-ip
 # !
 # interface Loopback888
 #  description test for ansible
 #  shutdown
 # !
 # interface MgmtEth0/0/CPU0/0
 #  ipv4 address 192.0.2.11 255.255.255.0
 # !
 # interface GigabitEthernet0/0/0/1
 #  description 'GigabitEthernet - 1"
 #  bundle id 10 mode inherit
 # !
 # interface GigabitEthernet0/0/0/2
 #  description "GigabitEthernet - 2"
 #   bundle id 12 mode passive
 # !
 # interface GigabitEthernet0/0/0/3
 #  description "GigabitEthernet - 3"
 #  bundle id 10 mode inherit
 # !
 # interface GigabitEthernet0/0/0/4
 #  description "GigabitEthernet - 4"
 #  bundle id 12 mode passive
 # !
 #


 # Using replaced
 #
 #
 # -------------
 # Before state
 # -------------
 #
 #
 # RP/0/0/CPU0:iosxr01#sho run int
 # Sun Jul  7 20:58:06.527 UTC
 # interface Bundle-Ether10
 #  lacp mode active
 #  bundle load-balancing hash src-ip
 #  bundle maximum-active links 5
 #  bundle minimum-active links 2
 # !
 # interface Bundle-Ether12
 #  bundle load-balancing hash dst-ip
 # !
 # interface Loopback888
 #  description test for ansible
 #  shutdown
 # !
 # interface MgmtEth0/0/CPU0/0
 #  ipv4 address 192.0.2.11 255.255.255.0
 # !
 # interface GigabitEthernet0/0/0/1
 #  description 'GigabitEthernet - 1"
 #  bundle id 10 mode inherit
 # !
 # interface GigabitEthernet0/0/0/2
 #  description "GigabitEthernet - 2"
 #  bundle id 12 mode passive
 # !
 # interface GigabitEthernet0/0/0/3
 #  description "GigabitEthernet - 3"
 #  bundle id 10 mode inherit
 # !
 # interface GigabitEthernet0/0/0/4
 #  description "GigabitEthernet - 4"
 #  bundle id 12 mode passive
 # !
 #
 #
 - name: Replace device configuration of listed Bundles with provided configurations
   iosxr_lag_interfaces:
     config:
       - name: Bundle-Ether12
         members:
           - name: GigabitEthernet0/0/0/2
         mode: passive

       - name: Bundle-Ether11
         members:
           - name: GigabitEthernet0/0/0/4
         load_balancing_hash: src-ip
     state: replaced
 #
 #
 # -----------
 # After state
 # -----------
 #
 #
 # RP/0/0/CPU0:iosxr01#sh run int
 # Sun Jul  7 21:22:27.397 UTC
 # interface Bundle-Ether10
 #  lacp mode active
 #  bundle load-balancing hash src-ip
 #  bundle maximum-active links 5
 #  bundle minimum-active links 2
 # !
 # interface Bundle-Ether11
 #  bundle load-balancing hash src-ip
 # !
 # interface Bundle-Ether12
 #  lacp mode passive
 # !
 # interface Loopback888
 #  description test for ansible
 #  shutdown
 # !
 # interface MgmtEth0/0/CPU0/0
 #  ipv4 address 192.0.2.11 255.255.255.0
 # !
 # interface GigabitEthernet0/0/0/1
 #  description 'GigabitEthernet - 1"
 #  bundle id 10 mode inherit
 # !
 # interface GigabitEthernet0/0/0/2
 #  description "GigabitEthernet - 2"
 #  bundle id 12 mode on
 # !
 # interface GigabitEthernet0/0/0/3
 #  description "GigabitEthernet - 3"
 #  bundle id 10 mode inherit
 # !
 # interface GigabitEthernet0/0/0/4
 #  description "GigabitEthernet - 4"
 #  bundle id 11 mode on
 # !
 #
 #


 # Using overridden
 #
 #
 # ------------
 # Before state
 # ------------
 #
 #
 # RP/0/0/CPU0:iosxr01#sh run int
 # Sun Jul  7 21:22:27.397 UTC
 # interface Bundle-Ether10
 #  lacp mode active
 #  bundle load-balancing hash src-ip
 #  bundle maximum-active links 5
 #  bundle minimum-active links 2
 # !
 # interface Bundle-Ether11
 #  bundle load-balancing hash src-ip
 # !
 # interface Bundle-Ether12
 #  lacp mode passive
 # !
 # interface Loopback888
 #  description test for ansible
 #  shutdown
 # !
 # interface MgmtEth0/0/CPU0/0
 #  ipv4 address 192.0.2.11 255.255.255.0
 # !
 # interface GigabitEthernet0/0/0/1
 #  description 'GigabitEthernet - 1"
 #  bundle id 10 mode inherit
 # !
 # interface GigabitEthernet0/0/0/2
 #  description "GigabitEthernet - 2"
 #  bundle id 12 mode on
 # !
 # interface GigabitEthernet0/0/0/3
 #  description "GigabitEthernet - 3"
 #  bundle id 10 mode inherit
 # !
 # interface GigabitEthernet0/0/0/4
 #  description "GigabitEthernet - 4"
 #  bundle id 11 mode on
 # !
 #
 #

 - name: Overrides all device configuration with provided configuration
   iosxr_lag_interfaces:
     config:
       - name: Bundle-Ether10
         members:
           - member: GigabitEthernet0/0/0/1
             mode: inherit
           - member: GigabitEthernet0/0/0/2
             mode: inherit
         mode: active
         load_balancing_hash: dst-ip
     state: overridden
 #
 #
 # ------------
 # After state
 # ------------
 #
 #
 # RP/0/0/CPU0:iosxr01#sh run int
 # Sun Jul  7 21:43:04.802 UTC
 # interface Bundle-Ether10
 #  lacp mode active
 #  bundle load-balancing hash dst-ip
 # !
 # interface Bundle-Ether11
 # !
 # interface Bundle-Ether12
 # !
 # interface Loopback888
 #  description test for ansible
 #  shutdown
 # !
 # interface MgmtEth0/0/CPU0/0
 #  ipv4 address 192.0.2.11 255.255.255.0
 # !
 # interface GigabitEthernet0/0/0/1
 #  description 'GigabitEthernet - 1"
 #  bundle id 10 mode inherit
 # !
 # interface GigabitEthernet0/0/0/2
 #  description "GigabitEthernet - 2"
 #  bundle id 10 mode inherit
 # !
 # interface GigabitEthernet0/0/0/3
 #  description "GigabitEthernet - 3"
 # !
 # interface GigabitEthernet0/0/0/4
 #  description "GigabitEthernet - 4"
 # !
 #
 #


 # Using deleted
 #
 #
 # ------------
 # Before state
 # ------------
 #
 # RP/0/0/CPU0:iosxr01#sh run int
 # Sun Jul  7 21:22:27.397 UTC
 # interface Bundle-Ether10
 #  lacp mode active
 #  bundle load-balancing hash src-ip
 #  bundle maximum-active links 5
 #  bundle minimum-active links 2
 # !
 # interface Bundle-Ether11
 #  bundle load-balancing hash src-ip
 # !
 # interface Bundle-Ether12
 #  lacp mode passive
 # !
 # interface Loopback888
 #  description test for ansible
 #  shutdown
 # !
 # interface MgmtEth0/0/CPU0/0
 #  ipv4 address 192.0.2.11 255.255.255.0
 # !
 # interface GigabitEthernet0/0/0/1
 #  description 'GigabitEthernet - 1"
 #  bundle id 10 mode inherit
 # !
 # interface GigabitEthernet0/0/0/2
 #  description "GigabitEthernet - 2"
 #  bundle id 12 mode on
 # !n
 # interface GigabitEthernet0/0/0/3
 #  description "GigabitEthernet - 3"
 #  bundle id 10 mode inherit
 # !
 # interface GigabitEthernet0/0/0/4
 #  description "GigabitEthernet - 4"
 #  bundle id 11 mode on
 # !
 #
 #

 - name: Delete attributes of given bundles and removes member interfaces from them (Note - This won't delete the bundles themselves)
   iosxr_lag_interfaces:
     config:
       - name: Bundle-Ether10
       - name: Bundle-Ether11
       - name: Bundle-Ether12
     state: deleted

 #
 #
 # ------------
 # After state
 # ------------
 #
 # RP/0/0/CPU0:iosxr01#sh run int
 # Sun Jul  7 21:49:50.004 UTC
 # interface Bundle-Ether10
 # !
 # interface Bundle-Ether11
 # !
 # interface Bundle-Ether12
 # !
 # interface Loopback888
 #  description test for ansible
 #  shutdown
 # !
 # interface MgmtEth0/0/CPU0/0
 #  ipv4 address 192.0.2.11 255.255.255.0
 # !
 # interface GigabitEthernet0/0/0/1
 #  description 'GigabitEthernet - 1"
 # !
 # interface GigabitEthernet0/0/0/2
 #  description "GigabitEthernet - 2"
 # !
 # interface GigabitEthernet0/0/0/3
 #  description "GigabitEthernet - 3"
 # !
 # interface GigabitEthernet0/0/0/4
 #  description "GigabitEthernet - 4"
 # !
 #
 #

 # Using deleted (without config)
 #
 #
 # ------------
 # Before state
 # ------------
 #
 # RP/0/0/CPU0:an-iosxr#sh run int
 # Sun Aug 18 19:49:51.908 UTC
 # interface Bundle-Ether10
 #  lacp mode active
 #  bundle load-balancing hash src-ip
 #  bundle maximum-active links 10
 #  bundle minimum-active links 2
 # !
 # interface Bundle-Ether11
 #  bundle load-balancing hash dst-ip
 # !
 # interface MgmtEth0/0/CPU0/0
 #  ipv4 address 192.0.2.11 255.255.255.0
 # !
 # interface GigabitEthernet0/0/0/0
 #  shutdown
 # !
 # interface GigabitEthernet0/0/0/1
 #  bundle id 10 mode inherit
 #  shutdown
 # !
 # interface GigabitEthernet0/0/0/2
 #  bundle id 10 mode passive
 #  shutdown
 # !
 # interface GigabitEthernet0/0/0/3
 #  bundle id 11 mode passive
 #  shutdown
 # !
 # interface GigabitEthernet0/0/0/4
 #  bundle id 11 mode passive
 #  shutdown
 # !
 #

 - name: Delete attributes of all bundles and removes member interfaces from them (Note - This won't delete the bundles themselves)
   iosxr_lag_interfaces:
     state: deleted

 #
 #
 # ------------
 # After state
 # ------------
 #
 #
 # RP/0/0/CPU0:an-iosxr#sh run int
 # Sun Aug 18 19:54:22.389 UTC
 # interface Bundle-Ether10
 # !
 # interface Bundle-Ether11
 # !
 # interface MgmtEth0/0/CPU0/0
 #  ipv4 address 10.8.38.69 255.255.255.0
 # !
 # interface GigabitEthernet0/0/0/0
 #  shutdown
 # !
 # interface GigabitEthernet0/0/0/1
 #  shutdown
 # !
 # interface GigabitEthernet0/0/0/2
 #  shutdown
 # !
 # interface GigabitEthernet0/0/0/3
 #  shutdown
 # !
 # interface GigabitEthernet0/0/0/4
 #  shutdown
 # !

RETURN VALUES                   *iosxr_lag_interfaces-return values*

   Common return values are documented here, the following are the fields unique to this module:

     Key      Returned                                                                                   Description
   after                 The configuration as structured data after module completion.
   list     when changed Sample:
                         The configuration returned will always be in the same format of the parameters above.
   before                The configuration as structured data prior to module invocation.
   list     always       Sample:
                         The configuration returned will always be in the same format of the parameters above.
   commands              The set of commands pushed to the remote device.
   list     always       Sample:
                         ['interface Bundle-Ether10', 'bundle minimum-active links 2', 'bundle load-balancing hash src-ip']

STATUS                   *iosxr_lag_interfaces-status*

     • This module is not guaranteed to have a backwards compatible interface. [preview]
     • This module is maintained by the Ansible Network Team. [network]

RED HAT SUPPORT                   *iosxr_lag_interfaces-red hat support*

     • Nilashish Chakraborty (@NilashishC)

   Hint

   If you notice any issues in this documentation, you can edit this document to improve it.

   ══════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════

MORE INFO                          *iosxr_lag_interfaces-moreinfo*
>
All arguments are omni-completed, but if you really want to see the online docs:
https://docs.ansible.com/ansible/latest/modules/iosxr_lag_interfaces_module.html
