SYNOPSIS                   *proxysql_replication_hostgroups*

     • Each row in mysql_replication_hostgroups represent a pair of writer_hostgroup and reader_hostgroup. ProxySQL will monitor the value of read_only for all the servers in specified hostgroups,
       and based on the value of read_only will assign the server to the writer or reader hostgroups.

REQUIREMENTS                   *proxysql_replication_hostgroups-requirements*

   The below requirements are needed on the host that executes this module.

     • PyMySQL (Python 2.7 and Python 3.X), or
     • MySQLdb (Python 2.x)

PARAMETERS                   *proxysql_replication_hostgroups-parameters*

      Parameter     Choices/Defaults                                                                             Comments
   comment                           Text field that can be used for any purposes defined by the user.
   -
   config_file      Default:         Specify a config file from which login_user and login_password are to be read.
   path             ""
   load_to_runtime    Choices:
   boolean            • no           Dynamically load config to runtime memory.
                      • yes ←
   login_host       Default:         The host used to connect to ProxySQL admin interface.
   string           "127.0.0.1"
   login_password                    The password used to authenticate to ProxySQL admin interface.
   string
   login_port       Default:         The port used to connect to ProxySQL admin interface.
   integer          6032
   login_user                        The username used to authenticate to ProxySQL admin interface.
   string
   reader_hostgroup                  Id of the reader hostgroup.
   - / required
   save_to_disk       Choices:
   boolean            • no           Save config to sqlite db on disk to persist the configuration.
                      • yes ←
   state              Choices:
   -                  • present ←    When present - adds the replication hostgroup, when absent - removes the replication hostgroup.
                      • absent
   writer_hostgroup                  Id of the writer hostgroup.
   - / required

EXAMPLES                   *proxysql_replication_hostgroups-examples*

 ---
 # This example adds a replication hostgroup, it saves the mysql server config
 # to disk, but avoids loading the mysql server config to runtime (this might be
 # because several replication hostgroup are being added and the user wants to
 # push the config to runtime in a single batch using the
 # M(proxysql_manage_config) module).  It uses supplied credentials to connect
 # to the proxysql admin interface.

 - proxysql_replication_hostgroups:
     login_user: 'admin'
     login_password: 'admin'
     writer_hostgroup: 1
     reader_hostgroup: 2
     state: present
     load_to_runtime: False

 # This example removes a replication hostgroup, saves the mysql server config
 # to disk, and dynamically loads the mysql server config to runtime.  It uses
 # credentials in a supplied config file to connect to the proxysql admin
 # interface.

 - proxysql_replication_hostgroups:
     config_file: '~/proxysql.cnf'
     writer_hostgroup: 3
     reader_hostgroup: 4
     state: absent

RETURN VALUES                   *proxysql_replication_hostgroups-return values*

   Common return values are documented here, the following are the fields unique to this module:

      Key              Returned                                                                                  Description
              On create/update will      The replication hostgroup modified or removed from proxysql
   stdout     return the newly modified  Sample:
   dictionary group, on delete it will   {'changed': True, 'msg': 'Added server to mysql_hosts', 'repl_group': {'comment': '', 'reader_hostgroup': '1', 'writer_hostgroup': '2'}, 'state': 'present'}
              return the deleted record.

STATUS                   *proxysql_replication_hostgroups-status*

     • This module is guaranteed to have backward compatible interface changes going forward. [stableinterface]
     • This module is maintained by the Ansible Community. [community]

     • Ben Mildren (@bmildren)

   Hint

   If you notice any issues in this documentation, you can edit this document to improve it.

   ══════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════

MORE INFO                          *proxysql_replication_hostgroups-moreinfo*
>
All arguments are omni-completed, but if you really want to see the online docs:
https://docs.ansible.com/ansible/latest/modules/proxysql_replication_hostgroups_module.html
