SYNOPSIS                   *cs_vpn_connection*

     • Create and remove VPN connections.

REQUIREMENTS                   *cs_vpn_connection-requirements*

   The below requirements are needed on the host that executes this module.

     • python >= 2.6
     • cs >= 0.6.10

PARAMETERS                   *cs_vpn_connection-parameters*

        Parameter       Choices/Defaults                                                                           Comments
   account                               Account the VPN connection is related to.
   string
                          Choices:       HTTP method used to query the API endpoint.
   api_http_method        • get          If not given, the CLOUDSTACK_METHOD env variable is considered.
   string                 • post         As the last option, the value is taken from the ini config file, also see the notes.
                                         Fallback value is get if not specified.
   api_key                               API key of the CloudStack API.
   string                                If not given, the CLOUDSTACK_KEY env variable is considered.
                                         As the last option, the value is taken from the ini config file, also see the notes.
   api_region           Default:         Name of the ini section in the cloustack.ini file.
   string               "cloudstack"     If not given, the CLOUDSTACK_REGION env variable is considered.
   api_secret                            Secret key of the CloudStack API.
   string                                If not set, the CLOUDSTACK_SECRET env variable is considered.
                                         As the last option, the value is taken from the ini config file, also see the notes.
                                         HTTP timeout in seconds.
   api_timeout                           If not given, the CLOUDSTACK_TIMEOUT env variable is considered.
   integer                               As the last option, the value is taken from the ini config file, also see the notes.
                                         Fallback value is 10 seconds if not specified.
   api_url                               URL of the CloudStack API e.g. https://cloud.example.com/client/api.
   string                                If not given, the CLOUDSTACK_ENDPOINT env variable is considered.
                                         As the last option, the value is taken from the ini config file, also see the notes.
   domain                                Domain the VPN connection is related to.
   string
   force                  Choices:       Activate the VPN gateway if not already activated on state=present.
   boolean                • no ←         Also see cs_vpn_gateway.
                          • yes
   passive                Choices:       State of the VPN connection.
   boolean                • no ←         Only considered when state=present.
                          • yes
   poll_async             Choices:
   boolean                • no           Poll async jobs until job has finished.
                          • yes ←
   project                               Name of the project the VPN connection is related to.
   string
   state                  Choices:
   string                 • present ←    State of the VPN connection.
                          • absent
   vpc                                   Name of the VPC the VPN connection is related to.
   string / required
   vpn_customer_gateway                  Name of the VPN customer gateway.
   string / required
   zone                                  Name of the zone the VPC is related to.
   string                                If not set, default zone is used.

NOTES                   *cs_vpn_connection-notes*

   Note

     • Ansible uses the cs library’s configuration method if credentials are not provided by the arguments api_url, api_key, api_secret. Configuration is read from several locations, in the
       following order. The CLOUDSTACK_ENDPOINT, CLOUDSTACK_KEY, CLOUDSTACK_SECRET and CLOUDSTACK_METHOD. CLOUDSTACK_TIMEOUT environment variables. A CLOUDSTACK_CONFIG environment variable pointing
       to an .ini file. A cloudstack.ini file in the current working directory. A .cloudstack.ini file in the users home directory. Optionally multiple credentials and endpoints can be specified
       using ini sections in cloudstack.ini. Use the argument api_region to select the section name, default section is cloudstack. See https://github.com/exoscale/cs for more information.
     • A detailed guide about cloudstack modules can be found in the CloudStack Cloud Guide.
     • This module supports check mode.

EXAMPLES                   *cs_vpn_connection-examples*

 - name: Create a VPN connection with activated VPN gateway
   cs_vpn_connection:
     vpn_customer_gateway: my vpn connection
     vpc: my vpc
   delegate_to: localhost

 - name: Create a VPN connection and force VPN gateway activation
   cs_vpn_connection:
     vpn_customer_gateway: my vpn connection
     vpc: my vpc
     force: yes
   delegate_to: localhost

 - name: Remove a vpn connection
   cs_vpn_connection:
     vpn_customer_gateway: my vpn connection
     vpc: my vpc
     state: absent
   delegate_to: localhost

RETURN VALUES                   *cs_vpn_connection-return values*

   Common return values are documented here, the following are the fields unique to this module:

        Key       Returned                                                                                Description
   account                 Account the VPN connection is related to.
   string         success  Sample:
                           example account
   cidrs                   List of CIDRs of the customer gateway.
   list           success  Sample:
                           ['10.10.10.0/24']
   created                 Date the connection was created.
   string         success  Sample:
                           2014-12-01T14:57:57+0100
   domain                  Domain the VPN connection is related to.
   string         success  Sample:
                           example domain
   dpd                     Whether dead pear detection is enabled or not.
   boolean        success  Sample:
                           True
   esp_lifetime            Lifetime in seconds of phase 2 VPN connection.
   integer        success  Sample:
                           86400
   esp_policy              IKE policy of the VPN connection.
   string         success  Sample:
                           aes256-sha1;modp1536
   force_encap             Whether encapsulation for NAT traversal is enforced or not.
   boolean        success  Sample:
                           True
   gateway                 IP address of the VPN customer gateway.
   string         success  Sample:
                           10.101.214.10
   id                      UUID of the VPN connection.
   string         success  Sample:
                           04589590-ac63-4ffc-93f5-b698b8ac38b6
   ike_lifetime            Lifetime in seconds of phase 1 VPN connection.
   integer        success  Sample:
                           86400
   ike_policy              ESP policy of the VPN connection.
   string         success  Sample:
                           aes256-sha1;modp1536
   passive        success  Whether the connection is passive or not.
   boolean
   project                 Name of project the VPN connection is related to.
   string         success  Sample:
                           Production
   public_ip               IP address of the VPN gateway.
   string         success  Sample:
                           10.100.212.10
   state                   State of the VPN connection.
   string         success  Sample:
                           Connected
   vpn_gateway_id          UUID of the VPN gateway.
   string         success  Sample:
                           04589590-ac63-93f5-4ffc-b698b8ac38b6

STATUS                   *cs_vpn_connection-status*

     • This module is not guaranteed to have a backwards compatible interface. [preview]
     • This module is maintained by the Ansible Community. [community]

     • René Moser (@resmo)

   Hint

   If you notice any issues in this documentation, you can edit this document to improve it.

   ══════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════

MORE INFO                          *cs_vpn_connection-moreinfo*
>
All arguments are omni-completed, but if you really want to see the online docs:
https://docs.ansible.com/ansible/latest/modules/cs_vpn_connection_module.html
