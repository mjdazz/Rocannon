SYNOPSIS                   *nios_nsgroup*

     • Adds and/or removes nameserver groups form Infoblox NIOS servers. This module manages NIOS nsgroup objects using the Infoblox. WAPI interface over REST.

REQUIREMENTS                   *nios_nsgroup-requirements*

   The below requirements are needed on the host that executes this module.

     • infoblox_client

PARAMETERS                   *nios_nsgroup-parameters*

            Parameter          Choices/Defaults                                                                       Comments
   comment                                      Configures a text string comment to be associated with the instance of this object. The provided text string will be configured on the object
   -                                            instance.
   extattrs                                     Allows for the configuration of Extensible Attributes on the instance of the object. This argument accepts a set of key / value pairs for
   -                                            configuration.
   external_primaries                           Configures a list of external nameservers (non-members of the grid). This option is required when setting use_external_primaries to true.
   -
    address                                     Configures the IP address of the external nameserver
    - / required
    name                                        Set a label for the external nameserver
    - / required
    stealth                      Choices:
    boolean                      • no ←         Configure the external nameserver as stealth server (without NS record) in the zones.
                                 • yes
    tsig_key                                    Set a DNS TSIG key for the nameserver to secure zone transfers (AFXRs).
    -
    tsig_key_alg                 Choices:
    -                            • HMAC-MD5 ←   Provides the algorithm used for the tsig_key in use.
                                 • HMAC-SHA256
    tsig_key_name                               Sets a label for the tsig_key value
    -
   external_secondaries                         Allows to provide a list of external secondary nameservers, that are not members of the grid.
   -
    address                                     Configures the IP address of the external nameserver
    - / required
    name                                        Set a label for the external nameserver
    - / required
    stealth                      Choices:
    boolean                      • no ←         Configure the external nameserver as stealth server (without NS record) in the zones.
                                 • yes
    tsig_key                                    Set a DNS TSIG key for the nameserver to secure zone transfers (AFXRs).
    -
    tsig_key_alg                 Choices:
    -                            • HMAC-MD5 ←   Provides the algorithm used for the tsig_key in use.
                                 • HMAC-SHA256
    tsig_key_name                               Sets a label for the tsig_key value
    -
   grid_primary                                 This host is to be used as primary server in this nameserver group. It must be a grid member. This option is required when setting
   -                                            use_external_primaries to false.
    enable_preferred_primaries   Choices:
    boolean                      • no ←         This flag represents whether the preferred_primaries field values of this member are used (see Infoblox WAPI docs).
                                 • yes
    grid_replicate               Choices:
    boolean                      • no ←         Use DNS zone transfers if set to True or ID Grid Replication if set to False.
                                 • yes
    lead                         Choices:
    boolean                      • no ←         This flag controls if the grid lead secondary nameserver performs zone transfers to non lead secondaries.
                                 • yes
    name                                        Provide the name of the grid member to identify the host.
    - / required
    stealth                      Choices:
    boolean                      • no ←         Configure the external nameserver as stealth server (without NS record) in the zones.
                                 • yes
   grid_secondaries                             Configures the list of grid member hosts that act as secondary nameservers. This option is required when setting use_external_primaries to true.
   -
    enable_preferred_primaries   Choices:
    boolean                      • no ←         This flag represents whether the preferred_primaries field values of this member are used (see Infoblox WAPI docs).
                                 • yes
    grid_replicate               Choices:
    boolean                      • no ←         Use DNS zone transfers if set to True or ID Grid Replication if set to False
                                 • yes
    lead                         Choices:
    boolean                      • no ←         This flag controls if the grid lead secondary nameserver performs zone transfers to non lead secondaries.
                                 • yes
    name                                        Provide the name of the grid member to identify the host.
    - / required
    preferred_primaries                         Provide a list of elements like in external_primaries to set the precedence of preferred primary nameservers.
    -
    stealth                      Choices:
    boolean                      • no ←         Configure the external nameserver as stealth server (without NS record) in the zones.
                                 • yes
   is_grid_default               Choices:
   boolean                       • no ←         If set to True this nsgroup will become the default nameserver group for new zones.
                                 • yes
   name                                         Specifies the name of the NIOS nameserver group to be managed.
   - / required
   provider                                     A dict object containing connection details.
   dictionary
    host                                        Specifies the DNS host name or address for connecting to the remote instance of NIOS WAPI over REST
    string / required                           Value can also be specified using INFOBLOX_HOST environment variable.
    http_request_timeout       Default:         The amount of time before to wait before receiving a response
    integer                    10               Value can also be specified using INFOBLOX_HTTP_REQUEST_TIMEOUT environment variable.
    max_results                Default:         Specifies the maximum number of objects to be returned, if set to a negative number the appliance will return an error when the number of returned
    integer                    1000             objects would exceed the setting.
                                                Value can also be specified using INFOBLOX_MAX_RESULTS environment variable.
    max_retries                Default:         Configures the number of attempted retries before the connection is declared usable
    integer                    3                Value can also be specified using INFOBLOX_MAX_RETRIES environment variable.
    password                                    Specifies the password to use to authenticate the connection to the remote instance of NIOS.
    string                                      Value can also be specified using INFOBLOX_PASSWORD environment variable.
    username                                    Configures the username to use to authenticate the connection to the remote instance of NIOS.
    string                                      Value can also be specified using INFOBLOX_USERNAME environment variable.
    validate_certs               Choices:       Boolean value to enable or disable verifying SSL certificates
    boolean                      • no ←         Value can also be specified using INFOBLOX_SSL_VERIFY environment variable.
                                 • yes          aliases: ssl_verify
    wapi_version               Default:         Specifies the version of WAPI to use
    string                     "2.1"            Value can also be specified using INFOBLOX_WAP_VERSION environment variable.
                                                Until ansible 2.8 the default WAPI was 1.4
   state                         Choices:       Configures the intended state of the instance of the object on the NIOS server. When this value is set to present, the object is configured on the
   -                             • present ←    device and when this value is set to absent the value is removed (if necessary) from the device.
                                 • absent
   use_external_primary          Choices:       This flag controls whether the group is using an external primary nameserver. Note that modification of this field requires passing values for
   boolean                       • no ←         grid_secondaries and external_primaries.
                                 • yes

NOTES                   *nios_nsgroup-notes*

   Note

     • This module must be run locally, which can be achieved by specifying connection: local.
     • Please read the Infoblox Guide for more detailed information on how to use Infoblox with Ansible.

EXAMPLES                   *nios_nsgroup-examples*

 - name: create simple infoblox nameserver group
   nios_nsgroup:
     name: my-simple-group
     comment: "this is a simple nameserver group"
     grid_primary:
       - name: infoblox-test.example.com
     state: present
     provider:
       host: "{{ inventory_hostname_short }}"
       username: admin
       password: admin
   connection: local

 - name: create infoblox nameserver group with external primaries
   nios_nsgroup:
     name: my-example-group
     use_external_primary: true
     comment: "this is my example nameserver group"
     external_primaries: "{{ ext_nameservers }}"
     grid_secondaries:
       - name: infoblox-test.example.com
         lead: True
         preferred_primaries: "{{ ext_nameservers }}"
     state: present
     provider:
       host: "{{ inventory_hostname_short }}"
       username: admin
       password: admin
   connection: local

 - name: delete infoblox nameserver group
   nios_nsgroup:
     name: my-simple-group
     comment: "this is a simple nameserver group"
     grid_primary:
       - name: infoblox-test.example.com
     state: absent
     provider:
       host: "{{ inventory_hostname_short }}"
       username: admin
       password: admin
   connection: local

STATUS                   *nios_nsgroup-status*

     • This module is not guaranteed to have a backwards compatible interface. [preview]
     • This module is maintained by an Ansible Partner. [certified]

     • Erich Birngruber (@ebirn)
     • Sumit Jaiswal (@sjaiswal)

   Hint

   If you notice any issues in this documentation, you can edit this document to improve it.

   ══════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════

MORE INFO                          *nios_nsgroup-moreinfo*
>
All arguments are omni-completed, but if you really want to see the online docs:
https://docs.ansible.com/ansible/latest/modules/nios_nsgroup_module.html
