SYNOPSIS                   *cs_network*

     • Create, update, restart and delete networks.

REQUIREMENTS                   *cs_network-requirements*

   The below requirements are needed on the host that executes this module.

     • python >= 2.6
     • cs >= 0.6.10

PARAMETERS                   *cs_network-parameters*

       Parameter     Choices/Defaults                                                                            Comments
   account                            Account the network is related to.
   string
   acl
   string                             The name of the access control list for the VPC network tier.
   added in 2.5
                       Choices:       Access control type for the network.
   acl_type            • account      If not specified, Cloudstack will default to account for isolated networks
   string              • domain       and domain for shared networks.
                                      Only considered on create.
                       Choices:       HTTP method used to query the API endpoint.
   api_http_method     • get          If not given, the CLOUDSTACK_METHOD env variable is considered.
   string              • post         As the last option, the value is taken from the ini config file, also see the notes.
                                      Fallback value is get if not specified.
   api_key                            API key of the CloudStack API.
   string                             If not given, the CLOUDSTACK_KEY env variable is considered.
                                      As the last option, the value is taken from the ini config file, also see the notes.
   api_region        Default:         Name of the ini section in the cloustack.ini file.
   string            "cloudstack"     If not given, the CLOUDSTACK_REGION env variable is considered.
   api_secret                         Secret key of the CloudStack API.
   string                             If not set, the CLOUDSTACK_SECRET env variable is considered.
                                      As the last option, the value is taken from the ini config file, also see the notes.
                                      HTTP timeout in seconds.
   api_timeout                        If not given, the CLOUDSTACK_TIMEOUT env variable is considered.
   integer                            As the last option, the value is taken from the ini config file, also see the notes.
                                      Fallback value is 10 seconds if not specified.
   api_url                            URL of the CloudStack API e.g. https://cloud.example.com/client/api.
   string                             If not given, the CLOUDSTACK_ENDPOINT env variable is considered.
                                      As the last option, the value is taken from the ini config file, also see the notes.
   cidr_ipv6                          CIDR of IPv6 network, must be at least /64.
   string                             Only considered on create.
   clean_up            Choices:       Cleanup old network elements.
   boolean             • no ←         Only considered on state=restarted.
                       • yes
   display_text                       Display text of the network.
   string                             If not specified, name will be used as display_text.
   domain                             Domain the network is related to.
   string
   end_ip                             The ending IPv4 address of the network belongs to.
   string                             If not specified, value of start_ip is used.
                                      Only considered on create.
   end_ipv6                           The ending IPv6 address of the network belongs to.
   string                             If not specified, value of start_ipv6 is used.
                                      Only considered on create.
   gateway                            The gateway of the network.
   string                             Required for shared networks and isolated networks when it belongs to a VPC.
                                      Only considered on create.
   gateway_ipv6                       The gateway of the IPv6 network.
   -                                  Required for shared networks.
                                      Only considered on create.
   isolated_pvlan                     The isolated private VLAN for this network.
   string
   name                               Name (case sensitive) of the network.
   string / required
   netmask                            The netmask of the network.
   string                             Required for shared networks and isolated networks when it belongs to a VPC.
                                      Only considered on create.
   network_domain                     The network domain.
   string
   network_offering                   Name of the offering for the network.
   string                             Required if state=present.
   poll_async          Choices:
   boolean             • no           Poll async jobs until job has finished.
                       • yes ←
   project                            Name of the project the network to be deployed in.
   string
   start_ip                           The beginning IPv4 address of the network belongs to.
   string                             Only considered on create.
   start_ipv6                         The beginning IPv6 address of the network belongs to.
   string                             Only considered on create.
                       Choices:
   state               • present ←    State of the network.
   string              • absent
                       • restarted
   subdomain_access    Choices:       Defines whether to allow subdomains to use networks dedicated to their parent domain(s).
   boolean             • no           Should be used with acl_type=domain.
   added in 2.5        • yes          Only considered on create.
   tags                               List of tags. Tags are a list of dictionaries having keys key and value.
   list                               To delete all tags, set a empty list e.g. tags: [].
   added in 2.9                       aliases: tag
   vlan                               The ID or VID of the network.
   string
   vpc                                Name of the VPC of the network.
   string
   zone                               Name of the zone in which the network should be deployed.
   string                             If not set, default zone is used.

NOTES                   *cs_network-notes*

   Note

     • Ansible uses the cs library’s configuration method if credentials are not provided by the arguments api_url, api_key, api_secret. Configuration is read from several locations, in the
       following order. The CLOUDSTACK_ENDPOINT, CLOUDSTACK_KEY, CLOUDSTACK_SECRET and CLOUDSTACK_METHOD. CLOUDSTACK_TIMEOUT environment variables. A CLOUDSTACK_CONFIG environment variable pointing
       to an .ini file. A cloudstack.ini file in the current working directory. A .cloudstack.ini file in the users home directory. Optionally multiple credentials and endpoints can be specified
       using ini sections in cloudstack.ini. Use the argument api_region to select the section name, default section is cloudstack. See https://github.com/exoscale/cs for more information.
     • A detailed guide about cloudstack modules can be found in the CloudStack Cloud Guide.
     • This module supports check mode.

EXAMPLES                   *cs_network-examples*

 - name: Create a network
   cs_network:
     name: my network
     zone: gva-01
     network_offering: DefaultIsolatedNetworkOfferingWithSourceNatService
     network_domain: example.com
   delegate_to: localhost

 - name: Create a VPC tier
   cs_network:
     name: my VPC tier 1
     zone: gva-01
     vpc: my VPC
     network_offering: DefaultIsolatedNetworkOfferingForVpcNetworks
     gateway: 10.43.0.1
     netmask: 255.255.255.0
     acl: my web acl
   delegate_to: localhost

 - name: Update a network
   cs_network:
     name: my network
     display_text: network of domain example.local
     network_domain: example.local
   delegate_to: localhost

 - name: Restart a network with clean up
   cs_network:
     name: my network
     clean_up: yes
     state: restarted
   delegate_to: localhost

 - name: Remove a network
   cs_network:
     name: my network
     state: absent
   delegate_to: localhost

RETURN VALUES                   *cs_network-return values*

   Common return values are documented here, the following are the fields unique to this module:

                Key                 Returned                                                                        Description
   account                                     Account the network is related to.
   string                         success      Sample:
                                               example account
   acl                                         Name of the access control list for the VPC network tier.
   string                         success      Sample:
   added in 2.5                                My ACL
   acl_id                                      ID of the access control list for the VPC network tier.
   string                         success      Sample:
   added in 2.5                                dfafcd55-0510-4b8c-b6c5-b8cedb4cfd88
   acl_type                                    Access type of the network (Domain, Account).
   string                         success      Sample:
                                               Account
   broadcast_domain_type                       Broadcast domain type of the network.
   string                         success      Sample:
                                               Vlan
   cidr                                        IPv4 network CIDR.
   string                         success      Sample:
                                               10.101.64.0/24
   cidr_ipv6                                   IPv6 network CIDR.
   string                         if available Sample:
                                               2001:db8::/64
   display_text                                Display text of the network.
   string                         success      Sample:
                                               web project
   dns1                                        IP address of the 1st nameserver.
   string                         success      Sample:
                                               1.2.3.4
   dns2                                        IP address of the 2nd nameserver.
   string                         success      Sample:
                                               1.2.3.4
   domain                                      Domain the network is related to.
   string                         success      Sample:
                                               ROOT
   gateway                                     IPv4 gateway.
   string                         success      Sample:
                                               10.101.64.1
   gateway_ipv6                                IPv6 gateway.
   string                         if available Sample:
                                               2001:db8::1
   id                                          UUID of the network.
   string                         success      Sample:
                                               04589590-ac63-4ffc-93f5-b698b8ac38b6
   is_persistent                  success      Whether the network is persistent or not.
   boolean
   is_system
   boolean                        success      Whether the network is system related or not.
   added in 2.5
   name                                        Name of the network.
   string                         success      Sample:
                                               web project
   netmask                                     IPv4 netmask.
   string                         success      Sample:
                                               255.255.255.0
   network_domain                              The network domain
   string                         success      Sample:
                                               example.local
   network_offering                            The network offering name.
   string                         success      Sample:
                                               DefaultIsolatedNetworkOfferingWithSourceNatService
   network_offering_availability               The availability of the network offering the network is created from
   string                         success      Sample:
   added in 2.5                                Optional
   network_offering_conserve_mode
   boolean                        success      Whether the network offering has IP conserve mode enabled or not.
   added in 2.5
   network_offering_display_text               The network offering display text.
   string                         success      Sample:
   added in 2.5                                Offering for Isolated Vpc networks with Source Nat service enabled
   project                                     Name of project.
   string                         success      Sample:
                                               Production
   state                                       State of the network (Allocated, Implemented, Setup).
   string                         success      Sample:
                                               Allocated
   tags                                        List of resource tags associated with the network.
   list                           success      Sample:
                                               [ { "key": "foo", "value": "bar" } ]
   traffic_type                                Traffic type of the network.
   string                         success      Sample:
                                               Guest
   type                                        Type of the network.
   string                         success      Sample:
                                               Isolated
   vpc                                         Name of the VPC.
   string                         if available Sample:
                                               My VPC
   zone                                        Name of zone.
   string                         success      Sample:
                                               ch-gva-2

STATUS                   *cs_network-status*

     • This module is guaranteed to have backward compatible interface changes going forward. [stableinterface]
     • This module is maintained by the Ansible Community. [community]

     • René Moser (@resmo)

   Hint

   If you notice any issues in this documentation, you can edit this document to improve it.

   ══════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════

MORE INFO                          *cs_network-moreinfo*
>
All arguments are omni-completed, but if you really want to see the online docs:
https://docs.ansible.com/ansible/latest/modules/cs_network_module.html
