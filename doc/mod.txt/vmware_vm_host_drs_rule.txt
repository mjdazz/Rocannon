SYNOPSIS                   *vmware_vm_host_drs_rule*

     • This module can be used to create VM-Host rules in a given cluster.

REQUIREMENTS                   *vmware_vm_host_drs_rule-requirements*

   The below requirements are needed on the host that executes this module.

     • python >= 2.6
     • PyVmomi

PARAMETERS                   *vmware_vm_host_drs_rule-parameters*

       Parameter     Choices/Defaults                                                                            Comments
   affinity_rule       Choices:       If set to True, the DRS rule will be an Affinity rule.
   boolean             • no           If set to False, the DRS rule will be an Anti-Affinity rule.
                       • yes ←        Effective only if state is set to present.
   cluster_name                       Cluster to create VM-Host rule.
   string / required
   datacenter                         Datacenter to search for given cluster. If not set, we use first cluster we encounter with cluster_name.
   string                             aliases: datacenter_name
   drs_rule_name                      Name of rule to create or remove.
   string / required
   enabled             Choices:       If set to True, the DRS rule will be enabled.
   boolean             • no ←         Effective only if state is set to present.
                       • yes
   host_group_name                    Name of Host group to use with rule.
   string / required                  Effective only if state is set to present.
   hostname                           The hostname or IP address of the vSphere vCenter or ESXi server.
   string                             If the value is not specified in the task, the value of environment variable VMWARE_HOST will be used instead.
                                      Environment variable support added in Ansible 2.6.
   mandatory           Choices:       If set to True, the DRS rule will be mandatory.
   boolean             • no ←         Effective only if state is set to present.
                       • yes
                                      The password of the vSphere vCenter or ESXi server.
   password                           If the value is not specified in the task, the value of environment variable VMWARE_PASSWORD will be used instead.
   string                             Environment variable support added in Ansible 2.6.
                                      aliases: pass, pwd
   port              Default:         The port number of the vSphere vCenter or ESXi server.
   integer           443              If the value is not specified in the task, the value of environment variable VMWARE_PORT will be used instead.
   added in 2.5                       Environment variable support added in Ansible 2.6.
   proxy_host                         Address of a proxy that will receive all HTTPS requests and relay them.
   string                             The format is a hostname or a IP.
   added in 2.9                       If the value is not specified in the task, the value of environment variable VMWARE_PROXY_HOST will be used instead.
                                      This feature depends on a version of pyvmomi greater than v6.7.1.2018.12
   proxy_port                         Port of the HTTP proxy that will receive all HTTPS requests and relay them.
   integer                            If the value is not specified in the task, the value of environment variable VMWARE_PROXY_PORT will be used instead.
   added in 2.9
   state               Choices:       If set to present and the rule doesn't exists then the rule will be created.
   string / required   • present ←    If set to absent and the rule exists then the rule will be deleted.
                       • absent
                                      The username of the vSphere vCenter or ESXi server.
   username                           If the value is not specified in the task, the value of environment variable VMWARE_USER will be used instead.
   string                             Environment variable support added in Ansible 2.6.
                                      aliases: admin, user
                       Choices:       Allows connection when SSL certificates are not valid. Set to false when certificates are not trusted.
   validate_certs      • no           If the value is not specified in the task, the value of environment variable VMWARE_VALIDATE_CERTS will be used instead.
   boolean             • yes ←        Environment variable support added in Ansible 2.6.
                                      If set to yes, please make sure Python >= 2.7.9 is installed on the given machine.
   vm_group_name                      Name of VM group to use with rule.
   string / required                  Effective only if state is set to present.

NOTES                   *vmware_vm_host_drs_rule-notes*

   Note

     • Tested on vSphere 6.5 and 6.7

EXAMPLES                   *vmware_vm_host_drs_rule-examples*

 ---
 - name: "Create mandatory DRS Affinity rule for VM/Host"
   vmware_vm_host_drs_rule:
     hostname: "{{ vcenter_hostname }}"
     password: "{{ vcenter_password }}"
     username: "{{ vcenter_username }}"
     validate_certs: False
     cluster_name: DC0_C0
     drs_rule_name: drs_rule_host_aff_0001
     host_group_name: DC0_C0_HOST_GR1
     vm_group_name: DC0_C0_VM_GR1
     mandatory: True
     enabled: True
     affinity_rule: True

STATUS                   *vmware_vm_host_drs_rule-status*

     • This module is not guaranteed to have a backwards compatible interface. [preview]
     • This module is maintained by the Ansible Community. [community]

     • Karsten Kaj Jakobsen (@karstenjakobsen)

   Hint

   If you notice any issues in this documentation, you can edit this document to improve it.

   ══════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════

MORE INFO                          *vmware_vm_host_drs_rule-moreinfo*
>
All arguments are omni-completed, but if you really want to see the online docs:
https://docs.ansible.com/ansible/latest/modules/vmware_vm_host_drs_rule_module.html
