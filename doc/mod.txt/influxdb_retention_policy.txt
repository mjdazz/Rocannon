SYNOPSIS                   *influxdb_retention_policy*

     • Manage InfluxDB retention policies.

REQUIREMENTS                   *influxdb_retention_policy-requirements*

   The below requirements are needed on the host that executes this module.

     • python >= 2.6
     • influxdb >= 0.9
     • requests

PARAMETERS                   *influxdb_retention_policy-parameters*

       Parameter      Choices/Defaults                                                                            Comments
   database_name                       Name of the database.
   string / required
   default              Choices:
   boolean              • no           Sets the retention policy as default retention policy.
                        • yes
   duration                            Determines how long InfluxDB should keep the data.
   string / required
   hostname           Default:         The hostname or IP address on which InfluxDB server is listening.
   string             "localhost"      Since Ansible 2.5, defaulted to localhost.
   password           Default:         Password that will be used to authenticate against InfluxDB server.
   string             "root"           Alias login_password added in Ansible 2.5.
                                       aliases: login_password
   policy_name                         Name of the retention policy.
   string / required
   port               Default:         The port on which InfluxDB server is listening
   integer            8086
   proxies
   dictionary                          HTTP(S) proxy to use for Requests to connect to InfluxDB server.
   added in 2.5
   replication                         Determines how many independent copies of each point are stored in the cluster.
   integer / required
   retries            Default:         Number of retries client will try before aborting.
   integer            3                0 indicates try until success.
   added in 2.5
   ssl                  Choices:
   boolean              • no           Use https instead of http to connect to InfluxDB server.
   added in 2.5         • yes
   timeout
   integer                             Number of seconds Requests will wait for client to establish a connection.
   added in 2.5
   udp_port           Default:
   integer            4444             UDP port to connect to InfluxDB server.
   added in 2.5
   use_udp              Choices:
   boolean              • no           Use UDP to connect to InfluxDB server.
   added in 2.5         • yes
   username           Default:         Username that will be used to authenticate against InfluxDB server.
   string             "root"           Alias login_username added in Ansible 2.5.
                                       aliases: login_username
   validate_certs       Choices:       If set to no, the SSL certificates will not be validated.
   boolean              • no           This should only set to no used on personally controlled sites using self-signed certificates.
   added in 2.5         • yes ←

EXAMPLES                   *influxdb_retention_policy-examples*

 # Example influxdb_retention_policy command from Ansible Playbooks
 - name: create 1 hour retention policy
   influxdb_retention_policy:
       hostname: "{{influxdb_ip_address}}"
       database_name: "{{influxdb_database_name}}"
       policy_name: test
       duration: 1h
       replication: 1
       ssl: yes
       validate_certs: yes

 - name: create 1 day retention policy
   influxdb_retention_policy:
       hostname: "{{influxdb_ip_address}}"
       database_name: "{{influxdb_database_name}}"
       policy_name: test
       duration: 1d
       replication: 1

 - name: create 1 week retention policy
   influxdb_retention_policy:
       hostname: "{{influxdb_ip_address}}"
       database_name: "{{influxdb_database_name}}"
       policy_name: test
       duration: 1w
       replication: 1

 - name: create infinite retention policy
   influxdb_retention_policy:
       hostname: "{{influxdb_ip_address}}"
       database_name: "{{influxdb_database_name}}"
       policy_name: test
       duration: INF
       replication: 1
       ssl: no
       validate_certs: no

STATUS                   *influxdb_retention_policy-status*

     • This module is not guaranteed to have a backwards compatible interface. [preview]
     • This module is maintained by the Ansible Community. [community]

     • Kamil Szczygiel (@kamsz)

   Hint

   If you notice any issues in this documentation, you can edit this document to improve it.

   ══════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════

MORE INFO                          *influxdb_retention_policy-moreinfo*
>
All arguments are omni-completed, but if you really want to see the online docs:
https://docs.ansible.com/ansible/latest/modules/influxdb_retention_policy_module.html
