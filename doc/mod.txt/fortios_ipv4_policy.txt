SYNOPSIS                   *fortios_ipv4_policy*

     • This module provides management of firewall IPv4 policies on FortiOS devices.

REQUIREMENTS                   *fortios_ipv4_policy-requirements*

   The below requirements are needed on the host that executes this module.

     • pyFG

PARAMETERS                   *fortios_ipv4_policy-parameters*

       Parameter     Choices/Defaults                                                                            Comments
   application_list                   Specifies Application Control name.
   -
   av_profile                         Specifies Antivirus profile name.
   -
   backup              Choices:       This argument will cause the module to create a backup of the current running-config from the remote device before any changes are made. The backup file is
   boolean             • no ←         written to the i(backup) folder.
                       • yes
   backup_filename                    Specifies the backup filename. If omitted filename will be formatted like [email protected]:MM:SS
   string
   backup_path                        Specifies where to store backup files. Required if backup=yes.
   path
   comment                            free text to describe policy.
   -
   config_file
   path                               Path to configuration file. Required when file_mode is True.
   added in 2.4
   dst_addr                           Specifies destination address (or group) object name(s). Required when state=present.
   -
   dst_addr_negate     Choices:
   boolean             • no ←         Negate destination address param.
                       • yes
   dst_intf          Default:         Specifies destination interface name(s).
   -                 "any"
   file_mode           Choices:
   boolean             • no ←         Don't connect to any device, only use config_file as input and Output.
   added in 2.4        • yes
   fixedport           Choices:
   boolean             • no ←         Use fixed port for nat.
                       • yes
   host                               Specifies the DNS hostname or IP address for connecting to the remote fortios device. Required when file_mode is False.
   string
                                      Policy ID. Warning: policy ID number is different than Policy sequence number. The policy ID is the number assigned at policy creation. The sequence number
   id                                 represents the order in which the Fortigate will evaluate the rule for policy enforcement, and also the order in which rules are listed in the GUI and CLI.
   - / required                       These two numbers do not necessarily correlate: this module is based off policy ID. TIP: policy ID can be viewed in the GUI by adding 'ID' to the display
                                      columns
   ips_sensor                         Specifies IPS Sensor profile name.
   -
   logtraffic          Choices:
   -                   • disable      Logs sessions that matched policy.
   added in 2.4        • utm ←
                       • all
   logtraffic_start    Choices:
   boolean             • no ←         Logs beginning of session as well.
   added in 2.4        • yes
   nat                 Choices:
   boolean             • no ←         Enable or disable Nat.
                       • yes
   password                           Specifies the password used to authenticate to the remote device. Required when file_mode is True.
   string
   policy_action       Choices:       Specifies accept or deny action policy. Required when state=present.
   -                   • accept       aliases: action
                       • deny
   poolname                           Specifies NAT pool name.
   -
   schedule          Default:         defines policy schedule.
   -                 "always"
   service                            Specifies policy service(s), could be a list (ex: ['MAIL','DNS']). Required when state=present.
   -                                  aliases: services
   service_negate      Choices:
   boolean             • no ←         Negate policy service(s) defined in service value.
                       • yes
   src_addr                           Specifies source address (or group) object name(s). Required when state=present.
   -
   src_addr_negate     Choices:
   boolean             • no ←         Negate source address param.
                       • yes
   src_intf          Default:         Specifies source interface name(s).
   -                 "any"
   state               Choices:
   -                   • present ←    Specifies if policy id need to be added or deleted.
                       • absent
   timeout           Default:         Timeout in seconds for connecting to the remote device.
   integer           60
   username                           Configures the username used to authenticate to the remote device. Required when file_mode is True.
   string
   vdom                               Specifies on which vdom to apply configuration
   string
   webfilter_profile                  Specifies Webfilter profile name.
   -

EXAMPLES                   *fortios_ipv4_policy-examples*

 - name: Allow external DNS call
   fortios_ipv4_policy:
     host: 192.168.0.254
     username: admin
     password: password
     id: 42
     src_addr: internal_network
     dst_addr: all
     service: dns
     nat: True
     state: present
     policy_action: accept
     logtraffic: disable

 - name: Public Web
   fortios_ipv4_policy:
     host: 192.168.0.254
     username: admin
     password: password
     id: 42
     src_addr: all
     dst_addr: webservers
     services:
       - http
       - https
     state: present
     policy_action: accept

 - name: Some Policy
   fortios_ipv4_policy:
     host: 192.168.0.254
     username: admin
     password: password
     id: 42
     comment: "no comment (created by ansible)"
     src_intf: vl1000
     src_addr:
       - some_serverA
       - some_serverB
     dst_intf:
       - vl2000
       - vl3000
     dst_addr: all
     services:
       - HTTP
       - HTTPS
     nat: True
     state: present
     policy_action: accept
     logtraffic: disable
   tags:
     - policy

RETURN VALUES                   *fortios_ipv4_policy-return values*

   Common return values are documented here, the following are the fields unique to this module:

             Key                  Returned                                                                            Description
   change_string           only if config changed The commands executed by the module
   string
   firewall_address_config always                 full firewall addresses config string
   string
   msg_error_list          only when error        List of errors returned by CLI (use -vvv for better readability).
   string

STATUS                   *fortios_ipv4_policy-status*

     • This module is not guaranteed to have a backwards compatible interface. [preview]
     • This module is maintained by the Ansible Community. [community]

     • Benjamin Jolivot (@bjolivot)

   Hint

   If you notice any issues in this documentation, you can edit this document to improve it.

   ══════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════

MORE INFO                          *fortios_ipv4_policy-moreinfo*
>
All arguments are omni-completed, but if you really want to see the online docs:
https://docs.ansible.com/ansible/latest/modules/fortios_ipv4_policy_module.html
