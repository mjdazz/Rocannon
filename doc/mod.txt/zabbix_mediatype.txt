SYNOPSIS                   *zabbix_mediatype*

     • This module allows you to create, modify and delete Zabbix media types.

REQUIREMENTS                   *zabbix_mediatype-requirements*

   The below requirements are needed on the host that executes this module.

     • zabbix-api >= 0.5.4

PARAMETERS                   *zabbix_mediatype-parameters*

         Parameter        Choices/Defaults                                                                          Comments
   attempt_interval       Default:         The interval between retry attempts.
   integer                10               Possible range is 0-60
   gsm_modem                               Serial device name of the gsm modem.
   string                                  Required when type=sms.
   http_login_password                     Basic Auth password
   string
   http_login_user                         Basic Auth login
   string / required
   login_password                          Zabbix user password.
   string / required
   login_user                              Zabbix user name.
   string / required
   max_attempts           Default:         The maximum number of attempts to send an alert.
   integer                3                Possible range is 0-10
   max_sessions           Default:         The maximum number of alerts that can be processed in parallel.
   integer                1                Possible value is 1 when type=sms and 0-100 otherwise.
   message_text_limit       Choices:       The message text limit.
   string                   • USA          Required when type=ez_texting.
                            • Canada       160 characters for USA and 136 characters for Canada.
   name                                    Name of the media type.
   string / required
   password                                Authentication password.
   string                                  Required when type=jabber or type=ez_texting.
                                           Required when type=email and smtp_authentication=true.
   script_name                             The name of the executed script.
   string                                  Required when type=script.
   script_params                           List of script parameters.
   list / elements=string                  Required when type=script.
   server_url                              URL of Zabbix server, with protocol (http or https). url is an alias for server_url.
   string / required                       aliases: url
   smtp_authentication      Choices:       Whether SMTP authentication with username and password should be enabled or not.
   boolean                  • no ←         If set to true, username and password should be specified.
                            • yes
   smtp_email                              Email address from which notifications will be sent.
   string                                  Required when type=email.
   smtp_helo              Default:         SMTP HELO.
   string                 "localhost"      Required when type=email.
                            Choices:
   smtp_security            • None         SMTP connection security level to use.
   string                   • STARTTLS
                            • SSL/TLS
   smtp_server            Default:         SMTP server host.
   string                 "localhost"      Required when type=email.
   smtp_server_port       Default:         SMTP server port.
   integer                25               Required when type=email.
   smtp_verify_host         Choices:       SSL verify host for SMTP.
   boolean                  • no ←         Can be specified when smtp_security=STARTTLS or smtp_security=SSL/TLS
                            • yes
   smtp_verify_peer         Choices:       SSL verify peer for SMTP.
   boolean                  • no ←         Can be specified when smtp_security=STARTTLS or smtp_security=SSL/TLS
                            • yes
   state                    Choices:       Desired state of the mediatype.
   string                   • present ←    On present, it will create a mediatype if it does not exist or update the mediatype if the associated data is different.
                            • absent       On absent, it will remove the mediatype if it exists.
   status                   Choices:
   string                   • enabled ←    Whether the media type is enabled or no.
                            • disabled
   timeout                Default:         The timeout of API request (seconds).
   integer                10
                            Choices:
                            • email
   type                     • script       Type of the media type.
   string / required        • sms
                            • jabber
                            • ez_texting
   username                                Username or Jabber identifier.
   string                                  Required when type=jabber or type=ez_texting.
                                           Required when type=email and smtp_authentication=true.
   validate_certs           Choices:
   boolean                  • no           If set to False, SSL certificates will not be validated. This should only be used on personally controlled sites using self-signed certificates.
   added in 2.5             • yes ←

NOTES                   *zabbix_mediatype-notes*

   Note

     • If you use login_password=zabbix, the word “zabbix” is replaced by “""""” in all module output, because login_password uses no_log. See this FAQ for more information.

EXAMPLES                   *zabbix_mediatype-examples*

 - name: 'Create an email mediatype with SMTP authentication'
   zabbix_mediatype:
     name: "Ops email"
     server_url: "http://example.com/zabbix/"
     login_user: Admin
     login_password: "zabbix"
     type: 'email'
     smtp_server: 'example.com'
     smtp_server_port: 2000
     smtp_email: '[email protected]'
     smtp_authentication: true
     username: 'smtp_user'
     password: 'smtp_pass'

 - name: 'Create a script mediatype'
   zabbix_mediatype:
     name: "my script"
     server_url: "http://example.com/zabbix/"
     login_user: Admin
     login_password: "zabbix"
     type: 'script'
     script_name: 'my_script.py'
     script_params:
       - 'arg1'
       - 'arg2'

 - name: 'Create a jabber mediatype'
   zabbix_mediatype:
     name: "My jabber"
     server_url: "http://example.com/zabbix/"
     login_user: Admin
     login_password: "zabbix"
     type: 'jabber'
     username: 'jabber_id'
     password: 'jabber_pass'

 - name: 'Create an SMS mediatype'
   zabbix_mediatype:
     name: "My SMS Mediatype"
     server_url: "http://example.com/zabbix/"
     login_user: Admin
     login_password: "zabbix"
     type: 'sms'
     gsm_modem: '/dev/ttyS0'

STATUS                   *zabbix_mediatype-status*

     • This module is not guaranteed to have a backwards compatible interface. [preview]
     • This module is maintained by the Ansible Community. [community]

     • Ruben Tsirunyan (@rubentsirunyan)

   Hint

   If you notice any issues in this documentation, you can edit this document to improve it.

   ══════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════

MORE INFO                          *zabbix_mediatype-moreinfo*
>
All arguments are omni-completed, but if you really want to see the online docs:
https://docs.ansible.com/ansible/latest/modules/zabbix_mediatype_module.html
