SYNOPSIS                   *vultr_firewall_rule*

     • Create and remove firewall rules.

   Aliases: vr_firewall_rule

REQUIREMENTS                   *vultr_firewall_rule-requirements*

   The below requirements are needed on the host that executes this module.

     • python >= 2.6

PARAMETERS                   *vultr_firewall_rule-parameters*

        Parameter      Choices/Defaults                                                                           Comments
   api_account         Default:         Name of the ini section in the vultr.ini file.
   string              "default"        The ENV variable VULTR_API_ACCOUNT is used as default, when defined.
   api_endpoint                         URL to API endpint (without trailing slash).
   string                               The ENV variable VULTR_API_ENDPOINT is used as default, when defined.
                                        Fallback value is https://api.vultr.com if not specified.
   api_key                              API key of the Vultr API.
   string                               The ENV variable VULTR_API_KEY is used as default, when defined.
   api_retries                          Amount of retries in case of the Vultr API retuns an HTTP 503 code.
   integer                              The ENV variable VULTR_API_RETRIES is used as default, when defined.
                                        Fallback value is 5 retries if not specified.
   api_retry_max_delay                  Retry backoff delay in seconds is exponential up to this max. value, in seconds.
   integer                              The ENV variable VULTR_API_RETRY_MAX_DELAY is used as default, when defined.
   added in 2.9                         Fallback value is 12 seconds.
   api_timeout                          HTTP timeout to Vultr API.
   integer                              The ENV variable VULTR_API_TIMEOUT is used as default, when defined.
                                        Fallback value is 60 seconds if not specified.
                                        Network in CIDR format
   cidr                                 The CIDR format must match with the ip_version value.
   -                                    Required if state=present.
                                        Defaulted to 0.0.0.0/0 or ::/0 depending on ip_version.
   end_port                             End port for the firewall rule.
   -                                    Only considered if protocol is tcp or udp and state=present.
   group                                Name of the firewall group.
   - / required
   ip_version            Choices:       IP address version
   -                     • v4 ←         aliases: ip_type
                         • v6
                         Choices:
   protocol              • icmp
   -                     • tcp ←        Protocol of the firewall rule.
                         • udp
                         • gre
   start_port                           Start port for the firewall rule.
   -                                    Required if protocol is tcp or udp and state=present.
                                        aliases: port
   state                 Choices:
   -                     • present ←    State of the firewall rule.
                         • absent
   validate_certs        Choices:
   boolean               • no           Validate SSL certs of the Vultr API.
                         • yes ←

NOTES                   *vultr_firewall_rule-notes*

   Note

     • Also see the API documentation on https://www.vultr.com/api/.

EXAMPLES                   *vultr_firewall_rule-examples*

 - name: ensure a firewall rule is present
   local_action:
     module: vultr_firewall_rule
     group: application
     protocol: tcp
     start_port: 8000
     end_port: 9000
     cidr: 17.17.17.0/24

 - name: open DNS port for all ipv4 and ipv6
   local_action:
     module: vultr_firewall_rule
     group: dns
     protocol: udp
     port: 53
     ip_version: "{{ item }}"
   with_items: [ v4, v6 ]

 - name: allow ping
   local_action:
     module: vultr_firewall_rule
     group: web
     protocol: icmp

 - name: ensure a firewall rule is absent
   local_action:
     module: vultr_firewall_rule
     group: application
     protocol: tcp
     start_port: 8000
     end_port: 9000
     cidr: 17.17.17.0/24
     state: absent

RETURN VALUES                   *vultr_firewall_rule-return values*

   Common return values are documented here, the following are the fields unique to this module:

            Key                                 Returned                                                                             Description
   vultr_api             success                                                Response from Vultr API with a few additions/modification
   complex
     api_account                                                                Account used in the ini file to select the key
     string              success                                                Sample:
                                                                                default
     api_endpoint                                                               Endpoint used for the API requests
     string              success                                                Sample:
                                                                                https://api.vultr.com
     api_retries                                                                Amount of max retries for the API requests
     integer             success                                                Sample:
                                                                                5
     api_retry_max_delay                                                        Exponential backoff delay in seconds between retries up to this max delay value.
     integer             success                                                Sample:
     added in 2.9                                                               12
     api_timeout                                                                Timeout used for the API requests
     integer             success                                                Sample:
                                                                                60
   vultr_firewall_rule   success                                                Response from Vultr API
   complex
     action                                                                     Action of the firewall rule
     string              success                                                Sample:
                                                                                accept
     cidr                                                                       CIDR of the firewall rule (IPv4 or IPv6)
     string              success and when port range                            Sample:
                                                                                0.0.0.0/0
     end_port                                                                   End port of the firewall rule
     integer             success and when port range and protocol is tcp or udp Sample:
                                                                                8080
     group                                                                      Firewall group the rule is into.
     string              success                                                Sample:
                                                                                web
     protocol                                                                   Protocol of the firewall rule
     string              success                                                Sample:
                                                                                tcp
     rule_number                                                                Rule number of the firewall rule
     integer             success                                                Sample:
                                                                                2
     start_port                                                                 Start port of the firewall rule
     integer             success and protocol is tcp or udp                     Sample:
                                                                                80

STATUS                   *vultr_firewall_rule-status*

     • This module is not guaranteed to have a backwards compatible interface. [preview]
     • This module is maintained by the Ansible Community. [community]

     • René Moser (@resmo)

   Hint

   If you notice any issues in this documentation, you can edit this document to improve it.

   ══════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════

MORE INFO                          *vultr_firewall_rule-moreinfo*
>
All arguments are omni-completed, but if you really want to see the online docs:
https://docs.ansible.com/ansible/latest/modules/vultr_firewall_rule_module.html
