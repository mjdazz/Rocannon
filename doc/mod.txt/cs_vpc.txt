SYNOPSIS                   *cs_vpc*

     • Create, update and delete VPCs.

REQUIREMENTS                   *cs_vpc-requirements*

   The below requirements are needed on the host that executes this module.

     • python >= 2.6
     • cs >= 0.6.10

PARAMETERS                   *cs_vpc-parameters*

       Parameter     Choices/Defaults                                                                            Comments
   account                            Account the VPC is related to.
   string
                       Choices:       HTTP method used to query the API endpoint.
   api_http_method     • get          If not given, the CLOUDSTACK_METHOD env variable is considered.
   string              • post         As the last option, the value is taken from the ini config file, also see the notes.
                                      Fallback value is get if not specified.
   api_key                            API key of the CloudStack API.
   string                             If not given, the CLOUDSTACK_KEY env variable is considered.
                                      As the last option, the value is taken from the ini config file, also see the notes.
   api_region        Default:         Name of the ini section in the cloustack.ini file.
   string            "cloudstack"     If not given, the CLOUDSTACK_REGION env variable is considered.
   api_secret                         Secret key of the CloudStack API.
   string                             If not set, the CLOUDSTACK_SECRET env variable is considered.
                                      As the last option, the value is taken from the ini config file, also see the notes.
                                      HTTP timeout in seconds.
   api_timeout                        If not given, the CLOUDSTACK_TIMEOUT env variable is considered.
   integer                            As the last option, the value is taken from the ini config file, also see the notes.
                                      Fallback value is 10 seconds if not specified.
   api_url                            URL of the CloudStack API e.g. https://cloud.example.com/client/api.
   string                             If not given, the CLOUDSTACK_ENDPOINT env variable is considered.
                                      As the last option, the value is taken from the ini config file, also see the notes.
   cidr                               CIDR of the VPC, e.g. 10.1.0.0/16
   string                             All VPC guest networks' CIDRs must be within this CIDR.
                                      Required on state=present.
   clean_up            Choices:
   boolean             • no           Whether to redeploy a VPC router or not when state=restarted
   added in 2.5        • yes
   display_text                       Display text of the VPC.
   string                             If not set, name will be used for creating.
   domain                             Domain the VPC is related to.
   string
   name                               Name of the VPC.
   string / required
   network_domain                     Network domain for the VPC.
   string                             All networks inside the VPC will belong to this domain.
                                      Only considered while creating the VPC, can not be changed.
   poll_async          Choices:
   boolean             • no           Poll async jobs until job has finished.
                       • yes ←
   project                            Name of the project the VPC is related to.
   string
                       Choices:
   state               • present ←    State of the VPC.
   string              • absent       The state present creates a started VPC.
                       • stopped      The state stopped is only considered while creating the VPC, added in version 2.6.
                       • restarted
   tags                               List of tags. Tags are a list of dictionaries having keys key and value.
   list                               For deleting all tags, set an empty list e.g. tags: [].
                                      aliases: tag
   vpc_offering                       Name of the VPC offering.
   string                             If not set, default VPC offering is used.
   zone                               Name of the zone.
   string                             If not set, default zone is used.

NOTES                   *cs_vpc-notes*

   Note

     • Ansible uses the cs library’s configuration method if credentials are not provided by the arguments api_url, api_key, api_secret. Configuration is read from several locations, in the
       following order. The CLOUDSTACK_ENDPOINT, CLOUDSTACK_KEY, CLOUDSTACK_SECRET and CLOUDSTACK_METHOD. CLOUDSTACK_TIMEOUT environment variables. A CLOUDSTACK_CONFIG environment variable pointing
       to an .ini file. A cloudstack.ini file in the current working directory. A .cloudstack.ini file in the users home directory. Optionally multiple credentials and endpoints can be specified
       using ini sections in cloudstack.ini. Use the argument api_region to select the section name, default section is cloudstack. See https://github.com/exoscale/cs for more information.
     • A detailed guide about cloudstack modules can be found in the CloudStack Cloud Guide.
     • This module supports check mode.

EXAMPLES                   *cs_vpc-examples*

 - name: Ensure a VPC is present but not started after creating
   cs_vpc:
     name: my_vpc
     display_text: My example VPC
     cidr: 10.10.0.0/16
     state: stopped
   delegate_to: localhost

 - name: Ensure a VPC is present and started after creating
   cs_vpc:
     name: my_vpc
     display_text: My example VPC
     cidr: 10.10.0.0/16
   delegate_to: localhost

 - name: Ensure a VPC is absent
   cs_vpc:
     name: my_vpc
     state: absent
   delegate_to: localhost

 - name: Ensure a VPC is restarted with clean up
   cs_vpc:
     name: my_vpc
     clean_up: yes
     state: restarted
   delegate_to: localhost

RETURN VALUES                   *cs_vpc-return values*

   Common return values are documented here, the following are the fields unique to this module:

            Key           Returned                                                                            Description
   account                         Account the VPC is related to.
   string                 success  Sample:
                                   example account
   cidr                            CIDR of the VPC.
   string                 success  Sample:
                                   10.10.0.0/16
   display_text                    Display text of the VPC.
   string                 success  Sample:
                                   My example VPC
   distributed_vpc_router          Whether the VPC uses distributed router or not.
   boolean                success  Sample:
                                   True
   domain                          Domain the VPC is related to.
   string                 success  Sample:
                                   example domain
   id                              UUID of the VPC.
   string                 success  Sample:
                                   04589590-ac63-4ffc-93f5-b698b8ac38b6
   name                            Name of the VPC.
   string                 success  Sample:
                                   my_vpc
   network_domain                  Network domain of the VPC.
   string                 success  Sample:
                                   example.com
   project                         Name of project the VPC is related to.
   string                 success  Sample:
                                   Production
   redundant_vpc_router            Whether the VPC has redundant routers or not.
   boolean                success  Sample:
                                   True
   region_level_vpc                Whether the VPC is region level or not.
   boolean                success  Sample:
                                   True
   restart_required                Whether the VPC router needs a restart or not.
   boolean                success  Sample:
                                   True
   state                           State of the VPC.
   string                 success  Sample:
                                   Enabled
   tags                            List of resource tags associated with the VPC.
   list                   success  Sample:
                                   [ { "key": "foo", "value": "bar" } ]
   zone                            Name of zone the VPC is in.
   string                 success  Sample:
                                   ch-gva-2

STATUS                   *cs_vpc-status*

     • This module is guaranteed to have backward compatible interface changes going forward. [stableinterface]
     • This module is maintained by the Ansible Community. [community]

     • René Moser (@resmo)

   Hint

   If you notice any issues in this documentation, you can edit this document to improve it.

   ══════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════

MORE INFO                          *cs_vpc-moreinfo*
>
All arguments are omni-completed, but if you really want to see the online docs:
https://docs.ansible.com/ansible/latest/modules/cs_vpc_module.html
