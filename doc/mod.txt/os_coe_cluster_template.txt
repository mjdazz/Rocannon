SYNOPSIS                   *os_coe_cluster_template*

     • Add or Remove COE cluster template from the OpenStack Container Infra service.

REQUIREMENTS                   *os_coe_cluster_template-requirements*

   The below requirements are needed on the host that executes this module.

     • openstacksdk
     • openstacksdk >= 0.12.0
     • python >= 2.7

PARAMETERS                   *os_coe_cluster_template-parameters*

         Parameter       Choices/Defaults                                                                          Comments
   api_timeout                            How long should the socket layer wait before timing out for API calls. If this is omitted, nothing will be passed to the requests library.
   integer
                                          Dictionary containing auth information as needed by the cloud's auth plugin strategy. For the default password plugin, this would contain auth_url,
   auth                                   username, password, project_name and any information about domains (for example, os_user_domain_name or os_project_domain_name) if the cloud supports them.
   dictionary                             For other plugins, this param will need to contain whatever parameters that auth plugin requires. This parameter is not needed if a named cloud is provided
                                          or OpenStack OS_" environment variables are present.
   auth_type                              Name of the auth plugin to use. If the cloud uses something other than password authentication, the name of the plugin should be indicated here and the
   string                                 contents of the auth parameter should be updated accordingly.
   availability_zone                      Ignored. Present for backwards compatibility
   -
   ca_cert                                A path to a CA Cert bundle that can be used as part of verifying SSL API requests.
   string                                 aliases: cacert
   client_cert                            A path to a client certificate to use as part of the SSL transaction.
   string                                 aliases: cert
   client_key                             A path to a client key to use as part of the SSL transaction.
   string                                 aliases: key
   cloud                                  Named cloud or cloud config to operate against. If cloud is a string, it references a named cloud config as defined in an OpenStack clouds.yaml file.
   raw                                    Provides default values for auth and auth_type. This parameter is not needed if auth is provided or if OpenStack OS_" environment variables are present. If
                                          cloud is a dict, it contains a complete cloud configuration like would be in a section of clouds.yaml.
                           Choices:
   coe                     • kubernetes   The Container Orchestration Engine for this clustertemplate
   -                       • swarm
                           • mesos
   dns_nameserver        Default:         The DNS nameserver address
   -                     "8.8.8.8"
   docker_storage_driver   Choices:
   -                       • devicemapper Docker storage driver
                           • overlay
   docker_volume_size                     The size in GB of the docker volume
   -
   external_network_id                    The external network to attach to the Cluster
   -
   fixed_network                          The fixed network name to attach to the Cluster
   -
   fixed_subnet                           The fixed subnet name to attach to the Cluster
   -
   flavor_id                              The flavor of the minion node for this ClusterTemplate
   -
   floating_ip_enabled     Choices:
   boolean                 • no           Indicates whether created clusters should have a floating ip or not
                           • yes ←
   http_proxy                             Address of a proxy that will receive all HTTP requests and relay them The format is a URL including a port number
   -
   https_proxy                            Address of a proxy that will receive all HTTPS requests and relay them. The format is a URL including a port number
   -
   image_id                               Image id the cluster will be based on
   -
                           Choices:
   interface               • admin        Endpoint URL type to fetch from the service catalog.
   string                  • internal     aliases: endpoint_type
                           • public ←
   keypair_id                             Name or ID of the keypair to use.
   -
   labels                                 One or more key/value pairs
   -
   master_flavor_id                       The flavor of the master node for this ClusterTemplate
   -
   master_lb_enabled       Choices:
   boolean                 • no ←         Indicates whether created clusters should have a load balancer for master nodes or not
                           • yes
   name                                   Name that has to be given to the cluster template
   - / required
                           Choices:
   network_driver          • flannel      The name of the driver used for instantiating container networks
   -                       • calico
                           • docker
   no_proxy                               A comma separated list of IPs for which proxies should not be used in the cluster
   -
   public                  Choices:
   boolean                 • no ←         Indicates whether the ClusterTemplate is public or not
                           • yes
   region_name                            Name of the region.
   string
   registry_enabled        Choices:
   boolean                 • no ←         Indicates whether the docker registry is enabled
                           • yes
   server_type             Choices:
   -                       • vm ←         Server type for this ClusterTemplate
                           • bm
   state                   Choices:
   -                       • present ←    Indicate desired state of the resource.
                           • absent
   timeout               Default:         How long should ansible wait for the requested resource.
   integer               180
   tls_disabled            Choices:
   boolean                 • no ←         Indicates whether the TLS should be disabled
                           • yes
   validate_certs          Choices:       Whether or not SSL API requests should be verified.
   boolean                 • no ←         Before Ansible 2.3 this defaulted to yes.
                           • yes          aliases: verify
   volume_driver           Choices:
   -                       • cinder       The name of the driver used for instantiating container volumes
                           • rexray
   wait                    Choices:
   boolean                 • no           Should ansible wait until the requested resource is complete.
                           • yes ←

NOTES                   *os_coe_cluster_template-notes*

   Note

     • The standard OpenStack environment variables, such as OS_USERNAME may be used instead of providing explicit values.
     • Auth information is driven by openstacksdk, which means that values can come from a yaml config file in /etc/ansible/openstack.yaml, /etc/openstack/clouds.yaml or
       ~/.config/openstack/clouds.yaml, then from standard environment variables, then finally by explicit parameters in plays. More information can be found at
       https://docs.openstack.org/openstacksdk/

EXAMPLES                   *os_coe_cluster_template-examples*

 # Create a new Kubernetes cluster template
 - os_coe_cluster_template:
     name: k8s
     coe: kubernetes
     keypair_id: mykey
     image_id: 2a8c9888-9054-4b06-a1ca-2bb61f9adb72
     public: no

RETURN VALUES                   *os_coe_cluster_template-return values*

   Common return values are documented here, the following are the fields unique to this module:

             Key                        Returned                                                                            Description
   cluster_template        On success when state is 'present' Dictionary describing the template.
   complex
     coe                                                      The Container Orchestration Engine for this clustertemplate
     string                                                   Sample:
                                                              kubernetes
     dns_nameserver                                           The DNS nameserver address
     string                                                   Sample:
                                                              8.8.8.8
     docker_storage_driver                                    Docker storage driver
     string                                                   Sample:
                                                              devicemapper
     docker_volume_size                                       The size in GB of the docker volume
     integer                                                  Sample:
                                                              5
     external_network_id                                      The external network to attach to the Cluster
     string                                                   Sample:
                                                              public
     fixed_network                                            The fixed network name to attach to the Cluster
     string                                                   Sample:
                                                              07767ec6-85f5-44cb-bd63-242a8e7f0d9d
     fixed_subnet                                             The fixed subnet name to attach to the Cluster
     string                                                   Sample:
                                                              05567ec6-85f5-44cb-bd63-242a8e7f0d9d
     flavor_id                                                The flavor of the minion node for this ClusterTemplate
     string                                                   Sample:
                                                              c1.c1r1
     floating_ip_enabled                                      Indicates whether created clusters should have a floating ip or not
     boolean                                                  Sample:
                                                              True
     http_proxy                                               Address of a proxy that will receive all HTTP requests and relay them The format is a URL including a port number
     string                                                   Sample:
                                                              http://10.0.0.11:9090
     https_proxy                                              Address of a proxy that will receive all HTTPS requests and relay them. The format is a URL including a port number
     string                                                   Sample:
                                                              https://10.0.0.10:8443
     image_id                                                 Image id the cluster will be based on
     string                                                   Sample:
                                                              05567ec6-85f5-44cb-bd63-242a8e7f0e9d
     keypair_id                                               Name or ID of the keypair to use.
     string                                                   Sample:
                                                              mykey
     labels                                                   One or more key/value pairs
     dictionary                                               Sample:
                                                              {'key1': 'value1', 'key2': 'value2'}
     master_flavor_id                                         The flavor of the master node for this ClusterTemplate
     string                                                   Sample:
                                                              c1.c1r1
     master_lb_enabled                                        Indicates whether created clusters should have a load balancer for master nodes or not
     boolean                                                  Sample:
                                                              True
     name                                                     Name that has to be given to the cluster template
     string                                                   Sample:
                                                              k8scluster
     network_driver                                           The name of the driver used for instantiating container networks
     string                                                   Sample:
                                                              calico
     no_proxy                                                 A comma separated list of IPs for which proxies should not be used in the cluster
     string                                                   Sample:
                                                              10.0.0.4,10.0.0.5
     public                                                   Indicates whether the ClusterTemplate is public or not
     boolean
     registry_enabled                                         Indicates whether the docker registry is enabled
     boolean
     server_type                                              Server type for this ClusterTemplate
     string                                                   Sample:
                                                              vm
     tls_disabled                                             Indicates whether the TLS should be disabled
     boolean
     volume_driver                                            The name of the driver used for instantiating container volumes
     string                                                   Sample:
                                                              cinder
   id                                                         The cluster UUID.
   string                  On success when state is 'present' Sample:
                                                              39007a7e-ee4f-4d13-8283-b4da2e037c69

STATUS                   *os_coe_cluster_template-status*

     • This module is not guaranteed to have a backwards compatible interface. [preview]
     • This module is maintained by the Ansible Community. [community]

     • Feilong Wang (@flwang)

   Hint

   If you notice any issues in this documentation, you can edit this document to improve it.

   ══════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════

MORE INFO                          *os_coe_cluster_template-moreinfo*
>
All arguments are omni-completed, but if you really want to see the online docs:
https://docs.ansible.com/ansible/latest/modules/os_coe_cluster_template_module.html
