SYNOPSIS                   *na_ontap_autosupport*

     • Enable/Disable Autosupport

REQUIREMENTS                   *na_ontap_autosupport-requirements*

   The below requirements are needed on the host that executes this module.

     • A physical or virtual clustered Data ONTAP system. The modules support Data ONTAP 9.1 and onward
     • Ansible 2.6
     • Python2 netapp-lib (2017.10.30) or later. Install using ‘pip install netapp-lib’
     • Python3 netapp-lib (2018.11.13) or later. Install using ‘pip install netapp-lib’
     • To enable http on the cluster you must run the following commands ‘set -privilege advanced;’ ‘system services web modify -http-enabled true;’

PARAMETERS                   *na_ontap_autosupport-parameters*

        Parameter      Choices/Defaults                                                                           Comments
   from_address
   -                                    specify the e-mail address from which the node sends AutoSupport messages
   added in 2.8
   hostname                             The hostname or IP address of the ONTAP instance.
   string / required
   hostname_in_subject   Choices:
   boolean               • no           Specify whether the hostname of the node is included in the subject line of the AutoSupport message.
   added in 2.8          • yes
   http_port                            Override the default port (80 or 443) with this port
   integer
   https                 Choices:
   boolean               • no ←         Enable and disable https
                         • yes
   mail_hosts                           List of mail server(s) used to deliver AutoSupport messages via SMTP.
   -                                    Both host names and IP addresses may be used as valid input.
   node_name                            The name of the filer that owns the AutoSupport Configuration.
   - / required
   noteto                               Specifies up to five recipients of short AutoSupport e-mail messages.
   -
   ontapi                               The ontap api version to use
   integer
   partner_addresses
   -                                    Specifies up to five partner vendor recipients of full AutoSupport e-mail messages.
   added in 2.8
   password                             Password for the specified user.
   string / required                    aliases: pass
   post_url                             The URL used to deliver AutoSupport messages via HTTP POST
   -
   proxy_url                            specify an HTTP or HTTPS proxy if the 'transport' parameter is set to HTTP or HTTPS and your organization uses a proxy.
   -                                    If authentication is required, use the format "username:[email protected]:port".
   added in 2.8
   state                 Choices:       Specifies whether the AutoSupport daemon is present or absent.
   -                     • present ←    When this setting is absent, delivery of all AutoSupport messages is turned off.
                         • absent
   support               Choices:
   boolean               • no           Specifies whether AutoSupport notification to technical support is enabled.
                         • yes
   to_addresses
   -                                    Specifies up to five recipients of full AutoSupport e-mail messages.
   added in 2.8
                         Choices:
   transport             • http         The name of the transport protocol used to deliver AutoSupport messages
   -                     • https
                         • smtp
                         Choices:       REST API if supported by the target system for all the resources and attributes the module requires. Otherwise will revert to ZAPI.
   use_rest              • Never        Always -- will always use the REST API
   string                • Always       Never -- will always use the ZAPI
                         • Auto ←       Auto -- will try to use the REST Api
   username                             This can be a Cluster-scoped or SVM-scoped account, depending on whether a Cluster-level or SVM-level API is required. For more information, please read the
   string / required                    documentation https://mysupport.netapp.com/NOW/download/software/nmsdk/9.4/.
                                        aliases: user
   validate_certs        Choices:       If set to no, the SSL certificates will not be validated.
   boolean               • no           This should only set to False used on personally controlled sites using self-signed certificates.
                         • yes ←

NOTES                   *na_ontap_autosupport-notes*

   Note

     • The modules prefixed with na\_ontap are built to support the ONTAP storage platform.

EXAMPLES                   *na_ontap_autosupport-examples*

 - name: Enable autosupport
   na_ontap_autosupport:
     hostname: "{{ hostname }}"
     username: "{{ username }}"
     password: "{{ password }}"
     state: present
     node_name: test
     transport: https
     noteto: [email protected],[email protected]
     mail_hosts: 1.2.3.4,5.6.7.8
     support: False
     post_url: url/1.0/post

 - name: Modify autosupport proxy_url with password
   na_ontap_autosupport:
     hostname: "{{ hostname }}"
     username: "{{ username }}"
     password: "{{ password }}"
     state: present
     node_name: test
     transport: https
     proxy_url: username:[email protected]:8000

 - name: Modify autosupport proxy_url without password
   na_ontap_autosupport:
     hostname: "{{ hostname }}"
     username: "{{ username }}"
     password: "{{ password }}"
     state: present
     node_name: test
     transport: https
     proxy_url: [email protected]:8000

 - name: Disable autosupport
   na_ontap_autosupport:
     hostname: "{{ hostname }}"
     username: "{{ username }}"
     password: "{{ password }}"
     state: absent
     node_name: test

STATUS                   *na_ontap_autosupport-status*

     • This module is not guaranteed to have a backwards compatible interface. [preview]
     • This module is maintained by an Ansible Partner. [certified]

     • NetApp Ansible Team (@carchi8py) <ng-ansibleteam@netapp.com>

   Hint

   If you notice any issues in this documentation, you can edit this document to improve it.

   ══════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════

MORE INFO                          *na_ontap_autosupport-moreinfo*
>
All arguments are omni-completed, but if you really want to see the online docs:
https://docs.ansible.com/ansible/latest/modules/na_ontap_autosupport_module.html
