SYNOPSIS                   *aws_eks_cluster*

     • Manage Elastic Kubernetes Service Clusters

REQUIREMENTS                   *aws_eks_cluster-requirements*

   The below requirements are needed on the host that executes this module.

     • boto
     • boto3
     • botocore
     • python >= 2.6

PARAMETERS                   *aws_eks_cluster-parameters*

            Parameter           Choices/Defaults                                                                       Comments
   aws_access_key                                AWS access key. If not set then the value of the AWS_ACCESS_KEY_ID, AWS_ACCESS_KEY or EC2_ACCESS_KEY environment variable is used.
   string                                        aliases: ec2_access_key, access_key
   aws_secret_key                                AWS secret key. If not set then the value of the AWS_SECRET_ACCESS_KEY, AWS_SECRET_KEY, or EC2_SECRET_KEY environment variable is used.
   string                                        aliases: ec2_secret_key, secret_key
   debug_botocore_endpoint_logs   Choices:       Use a botocore.endpoint logger to parse the unique (rather than total) "resource:action" API calls made during a task, outputing the set to the
   boolean                        • no ←         resource_actions key in the task results. Use the aws_resource_action callback to output to total list made during a playbook. The
   added in 2.8                   • yes          ANSIBLE_DEBUG_BOTOCORE_LOGS environment variable may also be used.
   ec2_url                                       Url to use to connect to EC2 or your Eucalyptus cloud (by default the module will use EC2 endpoints). Ignored for modules where region is required.
   string                                        Must be specified for all other modules if region is not used. If not set then the value of the EC2_URL environment variable, if any, is used.
   name                                          Name of EKS cluster
   - / required
   profile                                       Uses a boto profile. Only works with boto >= 2.24.0.
   string
   region                                        The AWS region to use. If not specified then the value of the AWS_REGION or EC2_REGION environment variable, if any, is used. See
   string                                        http://docs.aws.amazon.com/general/latest/gr/rande.html#ec2_region
                                                 aliases: aws_region, ec2_region
   role_arn                                      ARN of IAM role used by the EKS cluster
   -
   security_groups                               list of security group names or IDs
   -
   security_token                                AWS STS security token. If not set then the value of the AWS_SECURITY_TOKEN or EC2_SECURITY_TOKEN environment variable is used.
   string                                        aliases: access_token
   state                          Choices:
   -                              • absent       desired state of the EKS cluster
                                  • present ←
   subnets                                       list of subnet IDs for the Kubernetes cluster
   -
   validate_certs                 Choices:
   boolean                        • no           When set to "no", SSL certificates will not be validated for boto versions >= 2.6.0.
                                  • yes ←
   version                                       Kubernetes version - defaults to latest
   -
   wait                           Choices:       Specifies whether the module waits until the cluster is active or deleted before moving on. It takes "usually less than 10 minutes" per AWS
   boolean                        • no ←         documentation.
                                  • yes
   wait_timeout                 Default:         The duration in seconds to wait for the cluster to become active. Defaults to 1200 seconds (20 minutes).
   -                            1200

NOTES                   *aws_eks_cluster-notes*

   Note

     • If parameters are not set within the module, the following environment variables can be used in decreasing order of precedence AWS_URL or EC2_URL, AWS_ACCESS_KEY_ID or AWS_ACCESS_KEY or
       EC2_ACCESS_KEY, AWS_SECRET_ACCESS_KEY or AWS_SECRET_KEY or EC2_SECRET_KEY, AWS_SECURITY_TOKEN or EC2_SECURITY_TOKEN, AWS_REGION or EC2_REGION
     • Ansible uses the boto configuration file (typically ~/.boto) if no credentials are provided. See https://boto.readthedocs.io/en/latest/boto_config_tut.html
     • AWS_REGION or EC2_REGION can be typically be used to specify the AWS region, when required, but this can also be configured in the boto config file

EXAMPLES                   *aws_eks_cluster-examples*

 # Note: These examples do not set authentication details, see the AWS Guide for details.

 - name: Create an EKS cluster
   aws_eks_cluster:
     name: my_cluster
     version: v1.10.0
     role_arn: my_eks_role
     subnets:
       - subnet-aaaa1111
     security_groups:
       - my_eks_sg
       - sg-abcd1234
   register: caller_facts

 - name: Remove an EKS cluster
   aws_eks_cluster:
     name: my_cluster
     wait: yes
     state: absent

RETURN VALUES                   *aws_eks_cluster-return values*

   Common return values are documented here, the following are the fields unique to this module:

            Key                             Returned                                                                             Description
   arn                                                                   ARN of the EKS cluster
   string                when state is present                           Sample:
                                                                         arn:aws:eks:us-west-2:111111111111:cluster/my-eks-cluster
   certificate_authority after creation                                  Dictionary containing Certificate Authority Data for cluster
   complex
      data               when the cluster has been created and is active Base-64 encoded Certificate Authority Data for cluster
      string
   created_at                                                            Cluster creation date and time
   string                when state is present                           Sample:
                                                                         2018-06-06T11:56:56.242000+00:00
   endpoint                                                              Kubernetes API server endpoint
   string                when the cluster has been created and is active Sample:
                                                                         https://API_SERVER_ENDPOINT.yl4.us-west-2.eks.amazonaws.com
   name                                                                  EKS cluster name
   string                when state is present                           Sample:
                                                                         my-eks-cluster
   resources_vpc_config  when state is present                           VPC configuration of the cluster
   complex
      security_group_ids                                                 List of security group IDs
      list               always                                          Sample:
                                                                         ['sg-abcd1234', 'sg-aaaa1111']
      subnet_ids                                                         List of subnet IDs
      list               always                                          Sample:
                                                                         ['subnet-abcdef12', 'subnet-345678ab', 'subnet-cdef1234']
      vpc_id                                                             VPC id
      string             always                                          Sample:
                                                                         vpc-a1b2c3d4
   role_arn                                                              ARN of the IAM role used by the cluster
   string                when state is present                           Sample:
                                                                         arn:aws:iam::111111111111:role/aws_eks_cluster_role
   status                                                                status of the EKS cluster
   string                when state is present                           Sample:
                                                                         ['CREATING', 'ACTIVE']
   version                                                               Kubernetes version of the cluster
   string                when state is present                           Sample:
                                                                         1.10

STATUS                   *aws_eks_cluster-status*

     • This module is not guaranteed to have a backwards compatible interface. [preview]
     • This module is maintained by the Ansible Community. [community]

     • Will Thames (@willthames)

   Hint

   If you notice any issues in this documentation, you can edit this document to improve it.

   ══════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════

MORE INFO                          *aws_eks_cluster-moreinfo*
>
All arguments are omni-completed, but if you really want to see the online docs:
https://docs.ansible.com/ansible/latest/modules/aws_eks_cluster_module.html
