SYNOPSIS                   *eos_l3_interfaces*

     • This module provides declarative management of Layer 3 interfaces on Arista EOS devices.

PARAMETERS                   *eos_l3_interfaces-parameters*

            Parameter          Choices/Defaults                                                                       Comments
   config                                       A dictionary of Layer 3 interface options
   list / elements=dictionary
    ipv4                                        List of IPv4 addresses to be set for the Layer 3 interface mentioned in name option.
    list / elements=dictionary
             address                            IPv4 address to be set in the format <ipv4 address>/<mask> eg. 192.0.2.1/24, or dhcp to query DHCP for an IP address.
             string
             secondary           Choices:
             boolean             • no ←         Whether or not this address is a secondary address.
                                 • yes
    ipv6                                        List of IPv6 addresses to be set for the Layer 3 interface mentioned in name option.
    list / elements=dictionary
             address                            IPv6 address to be set in the address format is <ipv6 address>/<mask> eg. 2001:db8:2201:1::1/64 or auto-config to use SLAAC to chose an address.
             string
    name                                        Full name of the interface, i.e. Ethernet1.
    string / required
                                 Choices:
   state                         • merged ←
   string                        • replaced     The state of the configuration after module completion
                                 • overridden
                                 • deleted

NOTES                   *eos_l3_interfaces-notes*

   Note

     • Tested against Arista EOS 4.20.10M
     • This module works with connection network_cli. See the EOS Platform Options.

EXAMPLES                   *eos_l3_interfaces-examples*

 ---

 # Using deleted

 # Before state:
 # -------------
 #
 # veos#show running-config | section interface
 # interface Ethernet1
 #    ip address 192.0.2.12/24
 # !
 # interface Ethernet2
 #    ipv6 address 2001:db8::1/64
 # !
 # interface Management1
 #    ip address dhcp
 #    ipv6 address auto-config

 - name: Delete L3 attributes of given interfaces.
   eos_l3_interfaces:
     config:
       - name: Ethernet1
       - name: Ethernet2
     state: deleted

 # After state:
 # ------------
 #
 # veos#show running-config | section interface
 # interface Ethernet1
 # !
 # interface Ethernet2
 # !
 # interface Management1
 #    ip address dhcp
 #    ipv6 address auto-config


 # Using merged

 # Before state:
 # -------------
 #
 # veos#show running-config | section interface
 # interface Ethernet1
 #    ip address 192.0.2.12/24
 # !
 # interface Ethernet2
 #    ipv6 address 2001:db8::1/64
 # !
 # interface Management1
 #    ip address dhcp
 #    ipv6 address auto-config

 - name: Merge provided configuration with device configuration.
   eos_l3_interfaces:
     config:
       - name: Ethernet1
         ipv4:
           address: 198.51.100.14/24
       - name: Ethernet2
     ipv4:
       address: 203.0.113.27/24
     state: merged

 # After state:
 # ------------
 #
 # veos#show running-config | section interface
 # interface Ethernet1
 #    ip address 198.51.100.14/24
 # !
 # interface Ethernet2
 #    ip address 203.0.113.27/24
 #    ipv6 address 2001:db8::1/64
 # !
 # interface Management1
 #    ip address dhcp
 #    ipv6 address auto-config


 # Using overridden

 # Before state:
 # -------------
 #
 # veos#show running-config | section interface
 # interface Ethernet1
 #    ip address 192.0.2.12/24
 # !
 # interface Ethernet2
 #    ipv6 address 2001:db8::1/64
 # !
 # interface Management1
 #    ip address dhcp
 #    ipv6 address auto-config

 - name: Override device configuration of all L2 interfaces on device with provided configuration.
   eos_l3_interfaces:
     config:
       - name: Ethernet1
         ipv6:
           address: 2001:db8:feed::1/96
       - name: Management1
         ipv4:
           address: dhcp
     ipv6: auto-config
     state: overridden

 # After state:
 # ------------
 #
 # veos#show running-config | section interface
 # interface Ethernet1
 #    ipv6 address 2001:db8:feed::1/96
 # !
 # interface Ethernet2
 # !
 # interface Management1
 #    ip address dhcp
 #    ipv6 address auto-config


 # Using replaced

 # Before state:
 # -------------
 #
 # veos#show running-config | section interface
 # interface Ethernet1
 #    ip address 192.0.2.12/24
 # !
 # interface Ethernet2
 #    ipv6 address 2001:db8::1/64
 # !
 # interface Management1
 #    ip address dhcp
 #    ipv6 address auto-config

 - name: Replace device configuration of specified L2 interfaces with provided configuration.
   eos_l3_interfaces:
     config:
       - name: Ethernet2
         ipv4:
           address: 203.0.113.27/24
     state: replaced

 # After state:
 # ------------
 #
 # veos#show running-config | section interface
 # interface Ethernet1
 #    ip address 192.0.2.12/24
 # !
 # interface Ethernet2
 #    ip address 203.0.113.27/24
 # !
 # interface Management1
 #    ip address dhcp
 #    ipv6 address auto-config

RETURN VALUES                   *eos_l3_interfaces-return values*

   Common return values are documented here, the following are the fields unique to this module:

     Key      Returned                                                                                   Description
   after                 The configuration as structured data after module completion.
   list     when changed Sample:
                         The configuration returned will always be in the same format of the parameters above.
   before                The configuration as structured data prior to module invocation.
   list     always       Sample:
                         The configuration returned will always be in the same format of the parameters above.
   commands              The set of commands pushed to the remote device.
   list     always       Sample:
                         ['interface Ethernet2', 'ip address 192.0.2.12/24']

STATUS                   *eos_l3_interfaces-status*

     • This module is not guaranteed to have a backwards compatible interface. [preview]
     • This module is maintained by the Ansible Network Team. [network]

RED HAT SUPPORT                   *eos_l3_interfaces-red hat support*

     • Nathaniel Case (@qalthos)

   Hint

   If you notice any issues in this documentation, you can edit this document to improve it.

   ══════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════

MORE INFO                          *eos_l3_interfaces-moreinfo*
>
All arguments are omni-completed, but if you really want to see the online docs:
https://docs.ansible.com/ansible/latest/modules/eos_l3_interfaces_module.html
