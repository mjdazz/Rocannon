SYNOPSIS                   *vultr_dns_record*

     • Create, update and remove DNS records.

   Aliases: vr_dns_record

REQUIREMENTS                   *vultr_dns_record-requirements*

   The below requirements are needed on the host that executes this module.

     • python >= 2.6

PARAMETERS                   *vultr_dns_record-parameters*

        Parameter      Choices/Defaults                                                                           Comments
   api_account         Default:         Name of the ini section in the vultr.ini file.
   string              "default"        The ENV variable VULTR_API_ACCOUNT is used as default, when defined.
   api_endpoint                         URL to API endpint (without trailing slash).
   string                               The ENV variable VULTR_API_ENDPOINT is used as default, when defined.
                                        Fallback value is https://api.vultr.com if not specified.
   api_key                              API key of the Vultr API.
   string                               The ENV variable VULTR_API_KEY is used as default, when defined.
   api_retries                          Amount of retries in case of the Vultr API retuns an HTTP 503 code.
   integer                              The ENV variable VULTR_API_RETRIES is used as default, when defined.
                                        Fallback value is 5 retries if not specified.
   api_retry_max_delay                  Retry backoff delay in seconds is exponential up to this max. value, in seconds.
   integer                              The ENV variable VULTR_API_RETRY_MAX_DELAY is used as default, when defined.
   added in 2.9                         Fallback value is 12 seconds.
   api_timeout                          HTTP timeout to Vultr API.
   integer                              The ENV variable VULTR_API_TIMEOUT is used as default, when defined.
                                        Fallback value is 60 seconds if not specified.
   data                                 Data of the record.
   -                                    Required if state=present or multiple=yes.
   domain                               The domain the record is related to.
   - / required
   multiple              Choices:       Whether to use more than one record with similar name including no name and record_type.
   boolean               • no ←         Only allowed for a few record types, e.g. record_type=A, record_type=NS or record_type=MX.
                         • yes          data will not be updated, instead it is used as a key to find existing records.
   name                Default:         The record name (subrecord).
   -                   ""               aliases: subrecord
   priority            Default:         Priority of the record.
   -                   0
                         Choices:
                         • A ←
                         • AAAA
                         • CNAME
   record_type           • MX           Type of the record.
   -                     • SRV          aliases: type
                         • CAA
                         • TXT
                         • NS
                         • SSHFP
   state                 Choices:
   -                     • present ←    State of the DNS record.
                         • absent
   ttl                 Default:         TTL of the record.
   -                   300
   validate_certs        Choices:
   boolean               • no           Validate SSL certs of the Vultr API.
                         • yes ←

NOTES                   *vultr_dns_record-notes*

   Note

     • Also see the API documentation on https://www.vultr.com/api/.

EXAMPLES                   *vultr_dns_record-examples*

 - name: Ensure an A record exists
   vultr_dns_record:
     name: www
     domain: example.com
     data: 10.10.10.10
     ttl: 3600

 - name: Ensure a second A record exists for round robin LB
   vultr_dns_record:
     name: www
     domain: example.com
     data: 10.10.10.11
     ttl: 60
     multiple: yes

 - name: Ensure a CNAME record exists
   vultr_dns_record:
     name: web
     record_type: CNAME
     domain: example.com
     data: www.example.com

 - name: Ensure MX record exists
   vultr_dns_record:
     record_type: MX
     domain: example.com
     data: "{{ item.data }}"
     priority: "{{ item.priority }}"
     multiple: yes
   with_items:
   - { data: mx1.example.com, priority: 10 }
   - { data: mx2.example.com, priority: 10 }
   - { data: mx3.example.com, priority: 20 }

 - name: Ensure a record is absent
   local_action:
     module: vultr_dns_record
     name: www
     domain: example.com
     state: absent

 - name: Ensure MX record is absent in case multiple exists
   vultr_dns_record:
     record_type: MX
     domain: example.com
     data: mx1.example.com
     multiple: yes
     state: absent

RETURN VALUES                   *vultr_dns_record-return values*

   Common return values are documented here, the following are the fields unique to this module:

            Key          Returned                                                                             Description
   vultr_api             success  Response from Vultr API with a few additions/modification
   complex
     api_account                  Account used in the ini file to select the key
     string              success  Sample:
                                  default
     api_endpoint                 Endpoint used for the API requests
     string              success  Sample:
                                  https://api.vultr.com
     api_retries                  Amount of max retries for the API requests
     integer             success  Sample:
                                  5
     api_retry_max_delay          Exponential backoff delay in seconds between retries up to this max delay value.
     integer             success  Sample:
     added in 2.9                 12
     api_timeout                  Timeout used for the API requests
     integer             success  Sample:
                                  60
   vultr_dns_record      success  Response from Vultr API
   complex
     data                         Data of the DNS record.
     string              success  Sample:
                                  10.10.10.10
     domain                       Domain the DNS record is related to.
     string              success  Sample:
                                  example.com
     id                           The ID of the DNS record.
     integer             success  Sample:
                                  1265277
     name                         The name of the DNS record.
     string              success  Sample:
                                  web
     priority                     Priority of the DNS record.
     integer             success  Sample:
                                  10
     record_type                  The name of the DNS record.
     string              success  Sample:
                                  web
     ttl                          Time to live of the DNS record.
     integer             success  Sample:
                                  300

STATUS                   *vultr_dns_record-status*

     • This module is not guaranteed to have a backwards compatible interface. [preview]
     • This module is maintained by the Ansible Community. [community]

     • René Moser (@resmo)

   Hint

   If you notice any issues in this documentation, you can edit this document to improve it.

   ══════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════

MORE INFO                          *vultr_dns_record-moreinfo*
>
All arguments are omni-completed, but if you really want to see the online docs:
https://docs.ansible.com/ansible/latest/modules/vultr_dns_record_module.html
