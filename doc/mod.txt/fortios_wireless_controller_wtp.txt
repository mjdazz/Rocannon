SYNOPSIS                   *fortios_wireless_controller_wtp*

     • This module is able to configure a FortiGate or FortiOS (FOS) device by allowing the user to set and modify wireless_controller feature and wtp category. Examples include all parameters and
       values need to be adjusted to datasources before usage. Tested with FOS v6.0.5

REQUIREMENTS                   *fortios_wireless_controller_wtp-requirements*

   The below requirements are needed on the host that executes this module.

     • fortiosapi>=0.9.8

PARAMETERS                   *fortios_wireless_controller_wtp-parameters*

                Parameter                 Choices/Defaults                                                                   Comments
   host                                                      FortiOS or FortiGate IP address.
   string
   https                                  Choices:
   boolean                                • no               Indicates if the requests towards FortiGate must use HTTPS protocol.
                                          • yes ←
   password                             Default:             FortiOS or FortiGate password.
   string                               ""
   ssl_verify                             Choices:
   boolean                                • no               Ensures FortiGate certificate must be verified by a proper CA.
   added in 2.9                           • yes ←
   state                                  Choices:           Indicates whether to create or remove the object. This attribute was present already in previous version in a deeper level. It has been
   string                                 • present          moved out to this outer level.
   added in 2.9                           • absent
   username                                                  FortiOS or FortiGate username.
   string
   vdom                                 Default:             Virtual domain, among those defined previously. A vdom is a virtual instance of the FortiGate that can be configured and used as a
   string                               "root"               different unit.
   wireless_controller_wtp              Default:             Configure Wireless Termination Points (WTPs), that is, FortiAPs or APs to be managed by FortiGate.
   dictionary                           null
                                          Choices:
    admin                                 • discovered       Configure how the FortiGate operating as a wireless controller discovers and manages this WTP, AP or FortiAP.
    string                                • disable
                                          • enable
                                          Choices:
    allowaccess                           • telnet
    string                                • http             Control management access to the managed WTP, FortiAP, or AP. Separate entries with a space.
                                          • https
                                          • ssh
    bonjour_profile                                          Bonjour profile name. Source wireless-controller.bonjour-profile.name.
    string
    coordinate_enable                     Choices:
    string                                • enable           Enable/disable WTP coordinates (X,Y axis).
                                          • disable
    coordinate_latitude                                      WTP latitude coordinate.
    string
    coordinate_longitude                                     WTP longitude coordinate.
    string
    coordinate_x                                             X axis coordinate.
    string
    coordinate_y                                             Y axis coordinate.
    string
    image_download                        Choices:
    string                                • enable           Enable/disable WTP image download.
                                          • disable
    index                                                    Index (0 - 4294967295).
    integer
    ip_fragment_preventing                Choices:
    string                                • tcp-mss-adjust   Method by which IP fragmentation is prevented for CAPWAP tunneled control and data packets .
                                          • icmp-unreachable
    lan                                                      WTP LAN port mapping.
    dictionary
                                          Choices:
             port1_mode                   • offline
             string                       • nat-to-wan       LAN port 1 mode.
                                          • bridge-to-wan
                                          • bridge-to-ssid
             port1_ssid                                      Bridge LAN port 1 to SSID. Source wireless-controller.vap.name.
             string
                                          Choices:
             port2_mode                   • offline
             string                       • nat-to-wan       LAN port 2 mode.
                                          • bridge-to-wan
                                          • bridge-to-ssid
             port2_ssid                                      Bridge LAN port 2 to SSID. Source wireless-controller.vap.name.
             string
                                          Choices:
             port3_mode                   • offline
             string                       • nat-to-wan       LAN port 3 mode.
                                          • bridge-to-wan
                                          • bridge-to-ssid
             port3_ssid                                      Bridge LAN port 3 to SSID. Source wireless-controller.vap.name.
             string
                                          Choices:
             port4_mode                   • offline
             string                       • nat-to-wan       LAN port 4 mode.
                                          • bridge-to-wan
                                          • bridge-to-ssid
             port4_ssid                                      Bridge LAN port 4 to SSID. Source wireless-controller.vap.name.
             string
                                          Choices:
             port5_mode                   • offline
             string                       • nat-to-wan       LAN port 5 mode.
                                          • bridge-to-wan
                                          • bridge-to-ssid
             port5_ssid                                      Bridge LAN port 5 to SSID. Source wireless-controller.vap.name.
             string
                                          Choices:
             port6_mode                   • offline
             string                       • nat-to-wan       LAN port 6 mode.
                                          • bridge-to-wan
                                          • bridge-to-ssid
             port6_ssid                                      Bridge LAN port 6 to SSID. Source wireless-controller.vap.name.
             string
                                          Choices:
             port7_mode                   • offline
             string                       • nat-to-wan       LAN port 7 mode.
                                          • bridge-to-wan
                                          • bridge-to-ssid
             port7_ssid                                      Bridge LAN port 7 to SSID. Source wireless-controller.vap.name.
             string
                                          Choices:
             port8_mode                   • offline
             string                       • nat-to-wan       LAN port 8 mode.
                                          • bridge-to-wan
                                          • bridge-to-ssid
             port8_ssid                                      Bridge LAN port 8 to SSID. Source wireless-controller.vap.name.
             string
                                          Choices:
             port_mode                    • offline
             string                       • nat-to-wan       LAN port mode.
                                          • bridge-to-wan
                                          • bridge-to-ssid
             port_ssid                                       Bridge LAN port to SSID. Source wireless-controller.vap.name.
             string
    led_state                             Choices:           Enable to allow the FortiAPs LEDs to light. Disable to keep the LEDs off. You may want to keep the LEDs off so they are not distracting
    string                                • enable           in low light areas etc.
                                          • disable
    location                                                 Field for describing the physical location of the WTP, AP or FortiAP.
    string
    login_passwd                                             Set the managed WTP, FortiAP, or AP's administrator password.
    string
                                          Choices:
    login_passwd_change                   • yes              Change or reset the administrator password of a managed WTP, FortiAP or AP (yes, default, or no).
    string                                • default
                                          • no
                                          Choices:
    mesh_bridge_enable                    • default          Enable/disable mesh Ethernet bridge when WTP is configured as a mesh branch/leaf AP.
    string                                • enable
                                          • disable
    name                                                     WTP, AP or FortiAP configuration name.
    string
    override_allowaccess                  Choices:
    string                                • enable           Enable to override the WTP profile management access configuration.
                                          • disable
    override_ip_fragment                  Choices:
    string                                • enable           Enable/disable overriding the WTP profile IP fragment prevention setting.
                                          • disable
    override_lan                          Choices:
    string                                • enable           Enable to override the WTP profile LAN port setting.
                                          • disable
    override_led_state                    Choices:           Enable to override the profile LED state setting for this FortiAP. You must enable this option to use the led-state command to turn off
    string                                • enable           the FortiAP's LEDs.
                                          • disable
    override_login_passwd_change          Choices:
    string                                • enable           Enable to override the WTP profile login-password (administrator password) setting.
                                          • disable
    override_split_tunnel                 Choices:
    string                                • enable           Enable/disable overriding the WTP profile split tunneling setting.
                                          • disable
    override_wan_port_mode                Choices:
    string                                • enable           Enable/disable overriding the wan-port-mode in the WTP profile.
                                          • disable
    radio_1                                                  Configuration options for radio 1.
    dictionary
             auto_power_high                                 Automatic transmission power high limit in decibels (dB) of the measured power referenced to one milliwatt (mW), or dBm (10 - 17 dBm).
             integer
             auto_power_level             Choices:
             string                       • enable           Enable/disable automatic power-level adjustment to prevent co-channel interference .
                                          • disable
             auto_power_low                                  Automatic transmission power low limit in dBm (the actual range of transmit power depends on the AP platform type).
             integer
                                          Choices:
                                          • 802.11a
                                          • 802.11b
                                          • 802.11g
                                          • 802.11n
             band                         • 802.11n-5G
             string                       • 802.11n,g-only   WiFi band that Radio 1 operates on.
                                          • 802.11g-only
                                          • 802.11n-only
                                          • 802.11n-5G-only
                                          • 802.11ac
                                          • 802.11ac,n-only
                                          • 802.11ac-only
             channel                                         Selected list of wireless radio channels.
             list
                    chan                                     Channel number.
                    string / required
             override_analysis            Choices:
             string                       • enable           Enable to override the WTP profile spectrum analysis configuration.
                                          • disable
             override_band                Choices:
             string                       • enable           Enable to override the WTP profile band setting.
                                          • disable
             override_channel             Choices:
             string                       • enable           Enable to override WTP profile channel settings.
                                          • disable
             override_txpower             Choices:
             string                       • enable           Enable to override the WTP profile power level configuration.
                                          • disable
             override_vaps                Choices:
             string                       • enable           Enable to override WTP profile Virtual Access Point (VAP) settings.
                                          • disable
             power_level                                     Radio power level as a percentage of the maximum transmit power (0 - 100).
             integer
             radio_id                                        radio-id
             integer
             spectrum_analysis            Choices:
             string                       • enable           Enable/disable spectrum analysis to find interference that would negatively impact wireless performance.
                                          • disable
             vap_all                      Choices:
             string                       • enable           Enable/disable the automatic inheritance of all Virtual Access Points (VAPs) .
                                          • disable
             vaps                                            Manually selected list of Virtual Access Points (VAPs).
             list
                    name                                     Virtual Access Point (VAP) name. Source wireless-controller.vap-group.name wireless-controller.vap.name.
                    string / required
    radio_2                                                  Configuration options for radio 2.
    dictionary
             auto_power_high                                 Automatic transmission power high limit in decibels (dB) of the measured power referenced to one milliwatt (mW), or dBm (10 - 17 dBm).
             integer
             auto_power_level             Choices:
             string                       • enable           Enable/disable automatic power-level adjustment to prevent co-channel interference .
                                          • disable
             auto_power_low                                  Automatic transmission power low limit in dBm (the actual range of transmit power depends on the AP platform type).
             integer
                                          Choices:
                                          • 802.11a
                                          • 802.11b
                                          • 802.11g
                                          • 802.11n
             band                         • 802.11n-5G
             string                       • 802.11n,g-only   WiFi band that Radio 1 operates on.
                                          • 802.11g-only
                                          • 802.11n-only
                                          • 802.11n-5G-only
                                          • 802.11ac
                                          • 802.11ac,n-only
                                          • 802.11ac-only
             channel                                         Selected list of wireless radio channels.
             list
                    chan                                     Channel number.
                    string / required
             override_analysis            Choices:
             string                       • enable           Enable to override the WTP profile spectrum analysis configuration.
                                          • disable
             override_band                Choices:
             string                       • enable           Enable to override the WTP profile band setting.
                                          • disable
             override_channel             Choices:
             string                       • enable           Enable to override WTP profile channel settings.
                                          • disable
             override_txpower             Choices:
             string                       • enable           Enable to override the WTP profile power level configuration.
                                          • disable
             override_vaps                Choices:
             string                       • enable           Enable to override WTP profile Virtual Access Point (VAP) settings.
                                          • disable
             power_level                                     Radio power level as a percentage of the maximum transmit power (0 - 100).
             integer
             radio_id                                        radio-id
             integer
             spectrum_analysis            Choices:
             string                       • enable           Enable/disable spectrum analysis to find interference that would negatively impact wireless performance.
                                          • disable
             vap_all                      Choices:
             string                       • enable           Enable/disable the automatic inheritance of all Virtual Access Points (VAPs) .
                                          • disable
             vaps                                            Manually selected list of Virtual Access Points (VAPs).
             list
                    name                                     Virtual Access Point (VAP) name. Source wireless-controller.vap-group.name wireless-controller.vap.name.
                    string / required
    split_tunneling_acl                                      Split tunneling ACL filter list.
    list
             dest_ip                                         Destination IP and mask for the split-tunneling subnet.
             string
             id                                              ID.
             integer / required
    split_tunneling_acl_local_ap_subnet   Choices:
    string                                • enable           Enable/disable automatically adding local subnetwork of FortiAP to split-tunneling ACL .
                                          • disable
    split_tunneling_acl_path              Choices:
    string                                • tunnel           Split tunneling ACL path is local/tunnel.
                                          • local
                                                             Deprecated
                                          Choices:           Starting with Ansible 2.9 we recommend using the top-level 'state' parameter.
    state                                 • present
    string                                • absent           ════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════

                                                             Indicates whether to create or remove the object.
    tun_mtu_downlink                                         Downlink tunnel MTU in octets. Set the value to either 0 (by default), 576, or 1500.
    integer
    tun_mtu_uplink                                           Uplink tunnel maximum transmission unit (MTU) in octets (eight-bit bytes). Set the value to either 0 (by default), 576, or 1500.
    integer
    wan_port_mode                         Choices:
    string                                • wan-lan          Enable/disable using the FortiAP WAN port as a LAN port.
                                          • wan-only
    wtp_id                                                   WTP ID.
    string
    wtp_mode                              Choices:           WTP, AP, or FortiAP operating mode; normal (by default) or remote. A tunnel mode SSID can be assigned to an AP in normal mode but not
    string                                • normal           remote mode, while a local-bridge mode SSID can be assigned to an AP in either normal mode or remote mode.
                                          • remote
    wtp_profile                                              WTP profile name to apply to this WTP, AP or FortiAP. Source wireless-controller.wtp-profile.name.
    string

NOTES                   *fortios_wireless_controller_wtp-notes*

   Note

     • Requires fortiosapi library developed by Fortinet
     • Run as a local_action in your playbook

EXAMPLES                   *fortios_wireless_controller_wtp-examples*

 - hosts: localhost
   vars:
    host: "192.168.122.40"
    username: "admin"
    password: ""
    vdom: "root"
    ssl_verify: "False"
   tasks:
   - name: Configure Wireless Termination Points (WTPs), that is, FortiAPs or APs to be managed by FortiGate.
     fortios_wireless_controller_wtp:
       host:  "{{ host }}"
       username: "{{ username }}"
       password: "{{ password }}"
       vdom:  "{{ vdom }}"
       https: "False"
       state: "present"
       wireless_controller_wtp:
         admin: "discovered"
         allowaccess: "telnet"
         bonjour_profile: "<your_own_value> (source wireless-controller.bonjour-profile.name)"
         coordinate_enable: "enable"
         coordinate_latitude: "<your_own_value>"
         coordinate_longitude: "<your_own_value>"
         coordinate_x: "<your_own_value>"
         coordinate_y: "<your_own_value>"
         image_download: "enable"
         index: "12"
         ip_fragment_preventing: "tcp-mss-adjust"
         lan:
             port_mode: "offline"
             port_ssid: "<your_own_value> (source wireless-controller.vap.name)"
             port1_mode: "offline"
             port1_ssid: "<your_own_value> (source wireless-controller.vap.name)"
             port2_mode: "offline"
             port2_ssid: "<your_own_value> (source wireless-controller.vap.name)"
             port3_mode: "offline"
             port3_ssid: "<your_own_value> (source wireless-controller.vap.name)"
             port4_mode: "offline"
             port4_ssid: "<your_own_value> (source wireless-controller.vap.name)"
             port5_mode: "offline"
             port5_ssid: "<your_own_value> (source wireless-controller.vap.name)"
             port6_mode: "offline"
             port6_ssid: "<your_own_value> (source wireless-controller.vap.name)"
             port7_mode: "offline"
             port7_ssid: "<your_own_value> (source wireless-controller.vap.name)"
             port8_mode: "offline"
             port8_ssid: "<your_own_value> (source wireless-controller.vap.name)"
         led_state: "enable"
         location: "<your_own_value>"
         login_passwd: "<your_own_value>"
         login_passwd_change: "yes"
         mesh_bridge_enable: "default"
         name: "default_name_38"
         override_allowaccess: "enable"
         override_ip_fragment: "enable"
         override_lan: "enable"
         override_led_state: "enable"
         override_login_passwd_change: "enable"
         override_split_tunnel: "enable"
         override_wan_port_mode: "enable"
         radio_1:
             auto_power_high: "47"
             auto_power_level: "enable"
             auto_power_low: "49"
             band: "802.11a"
             channel:
              -
                 chan: "<your_own_value>"
             override_analysis: "enable"
             override_band: "enable"
             override_channel: "enable"
             override_txpower: "enable"
             override_vaps: "enable"
             power_level: "58"
             radio_id: "59"
             spectrum_analysis: "enable"
             vap_all: "enable"
             vaps:
              -
                 name: "default_name_63 (source wireless-controller.vap-group.name wireless-controller.vap.name)"
         radio_2:
             auto_power_high: "65"
             auto_power_level: "enable"
             auto_power_low: "67"
             band: "802.11a"
             channel:
              -
                 chan: "<your_own_value>"
             override_analysis: "enable"
             override_band: "enable"
             override_channel: "enable"
             override_txpower: "enable"
             override_vaps: "enable"
             power_level: "76"
             radio_id: "77"
             spectrum_analysis: "enable"
             vap_all: "enable"
             vaps:
              -
                 name: "default_name_81 (source wireless-controller.vap-group.name wireless-controller.vap.name)"
         split_tunneling_acl:
          -
             dest_ip: "<your_own_value>"
             id:  "84"
         split_tunneling_acl_local_ap_subnet: "enable"
         split_tunneling_acl_path: "tunnel"
         tun_mtu_downlink: "87"
         tun_mtu_uplink: "88"
         wan_port_mode: "wan-lan"
         wtp_id: "<your_own_value>"
         wtp_mode: "normal"
         wtp_profile: "<your_own_value> (source wireless-controller.wtp-profile.name)"

RETURN VALUES                   *fortios_wireless_controller_wtp-return values*

   Common return values are documented here, the following are the fields unique to this module:

       Key     Returned                                                                                  Description
   build                Build number of the fortigate image
   string      always   Sample:
                        1547
   http_method          Last method used to provision the content into FortiGate
   string      always   Sample:
                        PUT
   http_status          Last result given by FortiGate on last operation applied
   string      always   Sample:
                        200
   mkey                 Master key (id) used in the last call to FortiGate
   string      success  Sample:
                        id
   name                 Name of the table used to fulfill the request
   string      always   Sample:
                        urlfilter
   path                 Path of the table used to fulfill the request
   string      always   Sample:
                        webfilter
   revision             Internal revision number
   string      always   Sample:
                        17.0.2.10658
   serial               Serial number of the unit
   string      always   Sample:
                        FGVMEVYYQT3AB5352
   status               Indication of the operation's result
   string      always   Sample:
                        success
   vdom                 Virtual domain used
   string      always   Sample:
                        root
   version              Version of the FortiGate
   string      always   Sample:
                        v5.6.3

STATUS                   *fortios_wireless_controller_wtp-status*

     • This module is not guaranteed to have a backwards compatible interface. [preview]
     • This module is maintained by the Ansible Community. [community]

     • Miguel Angel Munoz (@mamunozgonzalez)
     • Nicolas Thomas (@thomnico)

   Hint

   If you notice any issues in this documentation, you can edit this document to improve it.

   ══════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════

MORE INFO                          *fortios_wireless_controller_wtp-moreinfo*
>
All arguments are omni-completed, but if you really want to see the online docs:
https://docs.ansible.com/ansible/latest/modules/fortios_wireless_controller_wtp_module.html
