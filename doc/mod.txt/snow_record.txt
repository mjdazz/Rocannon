SYNOPSIS                   *snow_record*

     • Creates, deletes and updates a single record in ServiceNow.

REQUIREMENTS                   *snow_record-requirements*

   The below requirements are needed on the host that executes this module.

     • python pysnow (pysnow)

PARAMETERS                   *snow_record-parameters*

       Parameter     Choices/Defaults                                                                            Comments
   attachment                         Attach a file to the record.
   string
   client_id
   string                             Client ID generated by ServiceNow.
   added in 2.9
   client_secret
   string                             Client Secret associated with client id.
   added in 2.9
   data                               key, value pairs of data to load into the record. See Examples.
   dictionary                         Required for state:present.
   instance                           The ServiceNow instance name, without the domain, service-now.com.
   string                             If the value is not specified in the task, the value of environment variable SN_INSTANCE will be used instead.
                                      Environment variable support added in Ansible 2.9.
   lookup_field      Default:         Changes the field that number uses to find records.
   string            "number"
   number                             Record number to update.
   string                             Required for state:absent.
                                      Password for username.
   password                           Required whether using Basic or OAuth authentication.
   string                             If the value is not specified in the task, the value of environment variable SN_PASSWORD will be used instead.
                                      Environment variable support added in Ansible 2.9.
   state               Choices:       If present is supplied with a number argument, the module will attempt to update the record with the supplied data.
   string / required   • present      If no such record exists, a new one will be created.
                       • absent       absent will delete a record.
   table             Default:         Table to query for records.
   string            "incident"
                                      Name of user for connection to ServiceNow.
   username                           Required whether using Basic or OAuth authentication.
   string                             If the value is not specified in the task, the value of environment variable SN_USERNAME will be used instead.
                                      Environment variable support added in Ansible 2.9.

EXAMPLES                   *snow_record-examples*

 - name: Grab a user record
   snow_record:
     username: ansible_test
     password: my_password
     instance: dev99999
     state: present
     number: 62826bf03710200044e0bfc8bcbe5df1
     table: sys_user
     lookup_field: sys_id

 - name: Grab a user record using OAuth
   snow_record:
     username: ansible_test
     password: my_password
     client_id: "1234567890abcdef1234567890abcdef"
     client_secret: "Password1!"
     instance: dev99999
     state: present
     number: 62826bf03710200044e0bfc8bcbe5df1
     table: sys_user
     lookup_field: sys_id

 - name: Create an incident
   snow_record:
     username: ansible_test
     password: my_password
     instance: dev99999
     state: present
     data:
       short_description: "This is a test incident opened by Ansible"
       severity: 3
       priority: 2
   register: new_incident

 - name: Delete the record we just made
   snow_record:
     username: admin
     password: xxxxxxx
     instance: dev99999
     state: absent
     number: "{{new_incident['record']['number']}}"

 - name: Delete a non-existant record
   snow_record:
     username: ansible_test
     password: my_password
     instance: dev99999
     state: absent
     number: 9872354
   failed_when: false

 - name: Update an incident
   snow_record:
     username: ansible_test
     password: my_password
     instance: dev99999
     state: present
     number: INC0000055
     data:
       work_notes : "Been working all day on this thing."

 - name: Attach a file to an incident
   snow_record:
     username: ansible_test
     password: my_password
     instance: dev99999
     state: present
     number: INC0000055
     attachment: README.md
   tags: attach

RETURN VALUES                   *snow_record-return values*

   Common return values are documented here, the following are the fields unique to this module:

        Key         Returned                                                                                 Description
   attached_file when supported Details of the file that was attached via attachment
   dictionary
   record        when supported Record data from Service Now
   dictionary

STATUS                   *snow_record-status*

     • This module is not guaranteed to have a backwards compatible interface. [preview]
     • This module is maintained by the Ansible Community. [community]

     • Tim Rightnour (@garbled1)

   Hint

   If you notice any issues in this documentation, you can edit this document to improve it.

   ══════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════

MORE INFO                          *snow_record-moreinfo*
>
All arguments are omni-completed, but if you really want to see the online docs:
https://docs.ansible.com/ansible/latest/modules/snow_record_module.html
