SYNOPSIS                   *cs_instance_nic_secondaryip*

     • Add and remove secondary IPs to and from a NIC of an instance.

REQUIREMENTS                   *cs_instance_nic_secondaryip-requirements*

   The below requirements are needed on the host that executes this module.

     • python >= 2.6
     • cs >= 0.6.10

PARAMETERS                   *cs_instance_nic_secondaryip-parameters*

       Parameter     Choices/Defaults                                                                            Comments
   account                            Account the instance is related to.
   string
                       Choices:       HTTP method used to query the API endpoint.
   api_http_method     • get          If not given, the CLOUDSTACK_METHOD env variable is considered.
   string              • post         As the last option, the value is taken from the ini config file, also see the notes.
                                      Fallback value is get if not specified.
   api_key                            API key of the CloudStack API.
   string                             If not given, the CLOUDSTACK_KEY env variable is considered.
                                      As the last option, the value is taken from the ini config file, also see the notes.
   api_region        Default:         Name of the ini section in the cloustack.ini file.
   string            "cloudstack"     If not given, the CLOUDSTACK_REGION env variable is considered.
   api_secret                         Secret key of the CloudStack API.
   string                             If not set, the CLOUDSTACK_SECRET env variable is considered.
                                      As the last option, the value is taken from the ini config file, also see the notes.
                                      HTTP timeout in seconds.
   api_timeout                        If not given, the CLOUDSTACK_TIMEOUT env variable is considered.
   integer                            As the last option, the value is taken from the ini config file, also see the notes.
                                      Fallback value is 10 seconds if not specified.
   api_url                            URL of the CloudStack API e.g. https://cloud.example.com/client/api.
   string                             If not given, the CLOUDSTACK_ENDPOINT env variable is considered.
                                      As the last option, the value is taken from the ini config file, also see the notes.
   domain                             Domain the instance is related to.
   string
   network                            Name of the network.
   string                             Required to find the NIC if instance has multiple networks assigned.
   poll_async          Choices:
   boolean             • no           Poll async jobs until job has finished.
                       • yes ←
   project                            Name of the project the instance is deployed in.
   string
   state               Choices:
   string              • present ←    State of the ipaddress.
                       • absent
   vm                                 Name of instance.
   string / required                  aliases: name
   vm_guest_ip                        Secondary IP address to be added to the instance nic.
   string                             If not set, the API always returns a new IP address and idempotency is not given.
                                      aliases: secondary_ip
   vpc                                Name of the VPC the vm is related to.
   string
   zone                               Name of the zone in which the instance is deployed in.
   string                             If not set, default zone is used.

NOTES                   *cs_instance_nic_secondaryip-notes*

   Note

     • Ansible uses the cs library’s configuration method if credentials are not provided by the arguments api_url, api_key, api_secret. Configuration is read from several locations, in the
       following order. The CLOUDSTACK_ENDPOINT, CLOUDSTACK_KEY, CLOUDSTACK_SECRET and CLOUDSTACK_METHOD. CLOUDSTACK_TIMEOUT environment variables. A CLOUDSTACK_CONFIG environment variable pointing
       to an .ini file. A cloudstack.ini file in the current working directory. A .cloudstack.ini file in the users home directory. Optionally multiple credentials and endpoints can be specified
       using ini sections in cloudstack.ini. Use the argument api_region to select the section name, default section is cloudstack. See https://github.com/exoscale/cs for more information.
     • A detailed guide about cloudstack modules can be found in the CloudStack Cloud Guide.
     • This module supports check mode.

EXAMPLES                   *cs_instance_nic_secondaryip-examples*

 - name: Assign a specific IP to the default NIC of the VM
   cs_instance_nic_secondaryip:
     vm: customer_xy
     vm_guest_ip: 10.10.10.10
   delegate_to: localhost

 # Note: If vm_guest_ip is not set, you will get a new IP address on every run.
 - name: Assign an IP to the default NIC of the VM
   cs_instance_nic_secondaryip:
     vm: customer_xy
   delegate_to: localhost

 - name: Remove a specific IP from the default NIC
   cs_instance_nic_secondaryip:
     vm: customer_xy
     vm_guest_ip: 10.10.10.10
     state: absent
   delegate_to: localhost

RETURN VALUES                   *cs_instance_nic_secondaryip-return values*

   Common return values are documented here, the following are the fields unique to this module:

       Key     Returned                                                                                  Description
   account              Account the VM is related to.
   string      success  Sample:
                        example account
   domain               Domain the VM is related to.
   string      success  Sample:
                        example domain
   id                   UUID of the NIC.
   string      success  Sample:
                        87b1e0ce-4e01-11e4-bb66-0050569e64b8
   ip_address           Primary IP of the NIC.
   string      success  Sample:
                        10.10.10.10
   mac_address          MAC address of the NIC.
   string      success  Sample:
                        02:00:33:31:00:e4
   netmask              Netmask of the NIC.
   string      success  Sample:
                        255.255.255.0
   network              Name of the network if not default.
   string      success  Sample:
                        sync network
   project              Name of project the VM is related to.
   string      success  Sample:
                        Production
   vm                   Name of the VM.
   string      success  Sample:
                        web-01
   vm_guest_ip          Secondary IP of the NIC.
   string      success  Sample:
                        10.10.10.10

STATUS                   *cs_instance_nic_secondaryip-status*

     • This module is not guaranteed to have a backwards compatible interface. [preview]
     • This module is maintained by the Ansible Community. [community]

     • René Moser (@resmo)

   Hint

   If you notice any issues in this documentation, you can edit this document to improve it.

   ══════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════

MORE INFO                          *cs_instance_nic_secondaryip-moreinfo*
>
All arguments are omni-completed, but if you really want to see the online docs:
https://docs.ansible.com/ansible/latest/modules/cs_instance_nic_secondaryip_module.html
