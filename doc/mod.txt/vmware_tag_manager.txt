SYNOPSIS                   *vmware_tag_manager*

     • This module can be used to assign / remove VMware tags from the given VMware objects.
     • Tag feature is introduced in vSphere 6 version, so this module is not supported in the earlier versions of vSphere.
     • All variables and VMware object names are case sensitive.

REQUIREMENTS                   *vmware_tag_manager-requirements*

   The below requirements are needed on the host that executes this module.

     • python >= 2.6
     • PyVmomi
     • vSphere Automation SDK

PARAMETERS                   *vmware_tag_manager-parameters*

       Parameter             Choices/Defaults                                                                             Comments
   hostname                                            The hostname or IP address of the vSphere vCenter server.
   string                                              If the value is not specified in the task, the value of environment variable VMWARE_HOST will be used instead.
   object_name                                         Name of the object to work with.
   string / required                                   For DistributedVirtualPortgroups the format should be "switch_name:portgroup_name"
                       Choices:
                       • VirtualMachine
   object_type         • Datacenter
   string / required   • ClusterComputeResource        Type of object to work with.
                       • HostSystem
                       • DistributedVirtualSwitch
                       • DistributedVirtualPortgroup
   password                                            The password of the vSphere vCenter server.
   string                                              If the value is not specified in the task, the value of environment variable VMWARE_PASSWORD will be used instead.
                                                       aliases: pass, pwd
   protocol            Choices:
   string              • http                          The connection to protocol.
                       • https ←
                       Choices:
                       • present                       If state is set to add or present will add the tags to the existing tag list of the given object.
   state               • absent                        If state is set to remove or absent will remove the tags from the existing tag list of the given object.
   string              • add ←                         If state is set to set will replace the tags of the given objects with the user defined list of tags.
                       • remove
                       • set
   tag_names                                           List of tag(s) to be managed.
   list / required                                     You can also specify category name by specifying colon separated value. For example, "category_name:tag_name".
                                                       You can skip category name if you have unique tag names.
   username                                            The username of the vSphere vCenter server.
   string                                              If the value is not specified in the task, the value of environment variable VMWARE_USER will be used instead.
                                                       aliases: admin, user
   validate_certs      Choices:                        Allows connection when SSL certificates are not valid.
   boolean             • no                            Set to no when certificates are not trusted.
                       • yes ←                         If the value is not specified in the task, the value of environment variable VMWARE_VALIDATE_CERTS will be used instead.

NOTES                   *vmware_tag_manager-notes*

   Note

     • Tested on vSphere 6.5

EXAMPLES                   *vmware_tag_manager-examples*

 - name: Add tags to a virtual machine
   vmware_tag_manager:
     hostname: '{{ vcenter_hostname }}'
     username: '{{ vcenter_username }}'
     password: '{{ vcenter_password }}'
     validate_certs: no
     tag_names:
       - Sample_Tag_0002
       - Category_0001:Sample_Tag_0003
     object_name: Fedora_VM
     object_type: VirtualMachine
     state: add
   delegate_to: localhost

 - name: Remove a tag from a virtual machine
   vmware_tag_manager:
     hostname: '{{ vcenter_hostname }}'
     username: '{{ vcenter_username }}'
     password: '{{ vcenter_password }}'
     validate_certs: no
     tag_names:
       - Sample_Tag_0002
     object_name: Fedora_VM
     object_type: VirtualMachine
     state: remove
   delegate_to: localhost

 - name: Add tags to a distributed virtual switch
   vmware_tag_manager:
     hostname: '{{ vcenter_hostname }}'
     username: '{{ vcenter_username }}'
     password: '{{ vcenter_password }}'
     validate_certs: no
     tag_names:
       - Sample_Tag_0003
     object_name: Switch_0001
     object_type: DistributedVirtualSwitch
     state: add
   delegate_to: localhost

 - name: Add tags to a distributed virtual portgroup
   vmware_tag_manager:
     hostname: '{{ vcenter_hostname }}'
     username: '{{ vcenter_username }}'
     password: '{{ vcenter_password }}'
     validate_certs: no
     tag_names:
       - Sample_Tag_0004
     object_name: Switch_0001:Portgroup_0001
     object_type: DistributedVirtualPortgroup
     state: add
   delegate_to: localhost

RETURN VALUES                   *vmware_tag_manager-return values*

   Common return values are documented here, the following are the fields unique to this module:

      Key      Returned                                                                                  Description
   tag_status            metadata about tags related to object configuration
   list       on success Sample:
                         {'current_tags': ['backup', 'security'], 'desired_tags': ['security'], 'previous_tags': ['backup', 'security']}

STATUS                   *vmware_tag_manager-status*

     • This module is not guaranteed to have a backwards compatible interface. [preview]
     • This module is maintained by the Ansible Community. [community]

     • Abhijeet Kasurde (@Akasurde)
     • Frederic Van Reet (@GBrawl)

   Hint

   If you notice any issues in this documentation, you can edit this document to improve it.

   ══════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════

MORE INFO                          *vmware_tag_manager-moreinfo*
>
All arguments are omni-completed, but if you really want to see the online docs:
https://docs.ansible.com/ansible/latest/modules/vmware_tag_manager_module.html
