SYNOPSIS                   *vmware_vcenter_settings*

     • This module can be used to configure the vCenter server general settings (except the statistics).
     • The statistics can be configured with the module vmware_vcenter_statistics.

REQUIREMENTS                   *vmware_vcenter_settings-requirements*

   The below requirements are needed on the host that executes this module.

     • python >= 2.6
     • PyVmomi

PARAMETERS                   *vmware_vcenter_settings-parameters*

      Parameter                         Choices/Defaults                                                                             Comments
                                                                             The database settings for vCenter server.
                    Default:                                                 Valid attributes are:
   database         {"event_cleanup": true, "event_retention": 30,           - max_connections (int): Maximum connections. (default: 50)
   dictionary       "max_connections": 50, "task_cleanup": true,             - task_cleanup (bool): Task cleanup. (default: true)
                    "task_retention": 30}                                    - task_retention (int): Task retention (days). (default: 30)
                                                                             - event_cleanup (bool): Event cleanup. (default: true)
                                                                             - event_retention (int): Event retention (days). (default: 30)
   hostname                                                                  The hostname or IP address of the vSphere vCenter or ESXi server.
   string                                                                    If the value is not specified in the task, the value of environment variable VMWARE_HOST will be used instead.
                                                                             Environment variable support added in Ansible 2.6.
                      Choices:
                      • none
   logging_options    • error
   string             • warning                                              The level of detail that vCenter server usesfor log files.
                      • info ←
                      • verbose
                      • trivia
                                                                             The settings vCenter server uses to send email alerts.
   mail                                                                      Valid attributes are:
   dictionary                                                                - server (str): Mail server
                                                                             - sender (str): Mail sender address
                                                                             The password of the vSphere vCenter or ESXi server.
   password                                                                  If the value is not specified in the task, the value of environment variable VMWARE_PASSWORD will be used instead.
   string                                                                    Environment variable support added in Ansible 2.6.
                                                                             aliases: pass, pwd
   port             Default:                                                 The port number of the vSphere vCenter or ESXi server.
   integer          443                                                      If the value is not specified in the task, the value of environment variable VMWARE_PORT will be used instead.
   added in 2.5                                                              Environment variable support added in Ansible 2.6.
   proxy_host                                                                Address of a proxy that will receive all HTTPS requests and relay them.
   string                                                                    The format is a hostname or a IP.
   added in 2.9                                                              If the value is not specified in the task, the value of environment variable VMWARE_PROXY_HOST will be used instead.
                                                                             This feature depends on a version of pyvmomi greater than v6.7.1.2018.12
   proxy_port                                                                Port of the HTTP proxy that will receive all HTTPS requests and relay them.
   integer                                                                   If the value is not specified in the task, the value of environment variable VMWARE_PROXY_PORT will be used instead.
   added in 2.9
                                                                             The unique runtime settings for vCenter server.
   runtime_settings                                                          Valid attributes are:
   dictionary                                                                - unique_id (int): vCenter server unique ID.
                                                                             - managed_address (str): vCenter server managed address.
                                                                             - vcenter_server_name (str): vCenter server name. (default: FQDN)
                                                                             SNMP trap destinations for vCenter server alerts.
                                                                             Valid attributes are:
                    Default:                                                 - snmp_receiver_1_url (str): Primary Receiver ULR. (default: "localhost")
                    {"snmp_receiver_1_community": "public",                  - snmp_receiver_1_enabled (bool): Enable receiver. (default: True)
                    "snmp_receiver_1_enabled": true, "snmp_receiver_1_port": - snmp_receiver_1_port (int): Receiver port. (default: 162)
                    162, "snmp_receiver_1_url": "localhost",                 - snmp_receiver_1_community (str): Community string. (default: "public")
                    "snmp_receiver_2_community": "",                         - snmp_receiver_2_url (str): Receiver 2 ULR. (default: "")
                    "snmp_receiver_2_enabled": false,                        - snmp_receiver_2_enabled (bool): Enable receiver. (default: False)
   snmp_receivers   "snmp_receiver_2_port": 162, "snmp_receiver_2_url": "",  - snmp_receiver_2_port (int): Receiver port. (default: 162)
   dictionary       "snmp_receiver_3_community": "",                         - snmp_receiver_2_community (str): Community string. (default: "")
                    "snmp_receiver_3_enabled": false,                        - snmp_receiver_3_url (str): Receiver 3 ULR. (default: "")
                    "snmp_receiver_3_port": 162, "snmp_receiver_3_url": "",  - snmp_receiver_3_enabled (bool): Enable receiver. (default: False)
                    "snmp_receiver_4_community": "",                         - snmp_receiver_3_port (int): Receiver port. (default: 162)
                    "snmp_receiver_4_enabled": false,                        - snmp_receiver_3_community (str): Community string. (default: "")
                    "snmp_receiver_4_port": 162, "snmp_receiver_4_url": ""}  - snmp_receiver_4_url (str): Receiver 4 ULR. (default: "")
                                                                             - snmp_receiver_4_enabled (bool): Enable receiver. (default: False)
                                                                             - snmp_receiver_4_port (int): Receiver port. (default: 162)
                                                                             - snmp_receiver_4_community (str): Community string. (default: "")
                                                                             The vCenter server connection timeout for normal and long operations.
   timeout_settings Default:                                                 Valid attributes are:
   dictionary       {"long_operations": 120, "normal_operations": 30}        - normal_operations (int) (default: 30)
                                                                             - long_operations (int) (default: 120)
                                                                             The user directory settings for the vCenter server installation.
                    Default:                                                 Valid attributes are:
   user_directory   {"query_limit": true, "query_limit_size": 5000,          - timeout (int): User directory timeout. (default: 60)
   dictionary       "timeout": 60, "validation": true, "validation_period":  - query_limit (bool): Query limit. (default: true)
                    1440}                                                    - query_limit_size (int): Query limit size. (default: 5000)
                                                                             - validation (bool): Mail Validation. (default: true)
                                                                             - validation_period (int): Validation period. (default: 1440)
                                                                             The username of the vSphere vCenter or ESXi server.
   username                                                                  If the value is not specified in the task, the value of environment variable VMWARE_USER will be used instead.
   string                                                                    Environment variable support added in Ansible 2.6.
                                                                             aliases: admin, user
                      Choices:                                               Allows connection when SSL certificates are not valid. Set to false when certificates are not trusted.
   validate_certs     • no                                                   If the value is not specified in the task, the value of environment variable VMWARE_VALIDATE_CERTS will be used instead.
   boolean            • yes ←                                                Environment variable support added in Ansible 2.6.
                                                                             If set to yes, please make sure Python >= 2.7.9 is installed on the given machine.

NOTES                   *vmware_vcenter_settings-notes*

   Note

     • Tested with vCenter Server Appliance (vCSA) 6.5 and 6.7

EXAMPLES                   *vmware_vcenter_settings-examples*

 - name: Configure vCenter general settings
   vmware_vcenter_settings:
     hostname: '{{ vcenter_hostname }}'
     username: '{{ vcenter_username }}'
     password: '{{ vcenter_password }}'
     database:
       max_connections: 50
       task_cleanup: true
       task_retention: 30
       event_cleanup: true
       event_retention: 30
     runtime_settings:
       unique_id: 1
       managed_address: "{{ ansible_default_ipv4.address }}"
       vcenter_server_name: "{{ inventory_hostname }}"
     user_directory:
       timeout: 60
       query_limit: true
       query_limit_size: 5000
       validation: true
       validation_period: 1440
     mail:
       server: mail.example.com
       sender: [email protected]{{ inventory_hostname }}
     snmp_receivers:
       snmp_receiver_1_url: localhost
       snmp_receiver_1_enabled: true
       snmp_receiver_1_port: 162
       snmp_receiver_1_community: public
     timeout_settings:
       normal_operations: 30
       long_operations: 120
     logging_options: info
     validate_certs: no
   delegate_to: localhost

RETURN VALUES                   *vmware_vcenter_settings-return values*

   Common return values are documented here, the following are the fields unique to this module:

      Key     Returned                                                                                  Description
                       metadata about vCenter settings
                       Sample:
   results    always   {'changed': False, 'db_event_cleanup': True, 'db_event_retention': 30, 'db_max_connections': 50, 'db_task_cleanup': True, 'db_task_retention': 30, 'directory_query_limit':
   dictionary          True, 'directory_query_limit_size': 5000, 'directory_timeout': 60, 'directory_validation': True, 'directory_validation_period': 1440, 'logging_options': 'info',
                       'mail_sender': '[email protected]', 'mail_server': 'mail.example.com', 'msg': 'vCenter settings already configured properly', 'runtime_managed_address': '192.168.1.10',
                       'runtime_server_name': 'vcenter01.example.com', 'runtime_unique_id': 1, 'timeout_long_operations': 120, 'timeout_normal_operations': 30}

STATUS                   *vmware_vcenter_settings-status*

     • This module is not guaranteed to have a backwards compatible interface. [preview]
     • This module is maintained by the Ansible Community. [community]

     • Christian Kotte (@ckotte)

   Hint

   If you notice any issues in this documentation, you can edit this document to improve it.

   ══════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════

MORE INFO                          *vmware_vcenter_settings-moreinfo*
>
All arguments are omni-completed, but if you really want to see the online docs:
https://docs.ansible.com/ansible/latest/modules/vmware_vcenter_settings_module.html
