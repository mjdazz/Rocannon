SYNOPSIS                   *mail*

     • This module is useful for sending emails from playbooks.
     • One may wonder why automate sending emails? In complex environments there are from time to time processes that cannot be automated, either because you lack the authority to make it so, or
       because not everyone agrees to a common approach.
     • If you cannot automate a specific step, but the step is non-blocking, sending out an email to the responsible party to make them perform their part of the bargain is an elegant way to put
       the responsibility in someone else’s lap.
     • Of course sending out a mail can be equally useful as a way to notify one or more people in a team that a specific action has been (successfully) taken.

PARAMETERS                   *mail-parameters*

       Parameter     Choices/Defaults                                                                            Comments
   attach            Default:         A list of pathnames of files to attach to the message.
   list              []               Attached files will have their content-type set to application/octet-stream.
   bcc                                The email-address(es) the mail is being 'blind' copied to.
   list                               This is a list, which may contain address and phrase portions.
   body              Default:         The body of the email being sent.
   string            "$subject"
   cc                                 The email-address(es) the mail is being copied to.
   list                               This is a list, which may contain address and phrase portions.
   charset           Default:         The character set of email being sent.
   string            "utf-8"
   from              Default:         The email-address the mail is sent from. May contain address and phrase.
   string            "root"
   headers           Default:         A list of headers which should be added to the message.
   list              []               Each individual header is specified as header=value (see example below).
   host              Default:         The mail server.
   string            "localhost"
   password                           If SMTP requires password.
   string
   port              Default:         The mail server port.
   integer           25               This must be a valid integer between 1 and 65534
                       Choices:       If always, the connection will only send email if the connection is Encrypted. If the server doesn't accept the encrypted connection it will fail.
   secure              • always       If try, the connection will attempt to setup a secure SSL/TLS session, before trying to send.
   string              • never        If never, the connection will not attempt to setup a secure SSL/TLS session, before sending
                       • starttls     If starttls, the connection will try to upgrade to a secure SSL/TLS connection, before sending. If it is unable to do so it will fail.
                       • try ←
   subject                            The subject of the email being sent.
   string / required
   subtype             Choices:       The minor mime type, can be either plain or html.
   string              • html         The major type is always text.
                       • plain ←
   timeout           Default:         Sets the timeout in seconds for connection attempts.
   integer           20
   to                Default:         The email-address(es) the mail is being sent to.
   list              "root"           This is a list, which may contain address and phrase portions.
                                      aliases: recipients
   username                           If SMTP requires username.
   string

EXAMPLES                   *mail-examples*

 - name: Example playbook sending mail to root
   mail:
     subject: System {{ ansible_hostname }} has been successfully provisioned.
   delegate_to: localhost

 - name: Sending an e-mail using Gmail SMTP servers
   mail:
     host: smtp.gmail.com
     port: 587
     username: [email protected]
     password: mysecret
     to: John Smith <[email protected]>
     subject: Ansible-report
     body: System {{ ansible_hostname }} has been successfully provisioned.
   delegate_to: localhost

 - name: Send e-mail to a bunch of users, attaching files
   mail:
     host: 127.0.0.1
     port: 2025
     subject: Ansible-report
     body: Hello, this is an e-mail. I hope you like it ;-)
     from: [email protected] (Jane Jolie)
     to:
     - John Doe <[email protected]>
     - Suzie Something <[email protected]>
     cc: Charlie Root <[email protected]>
     attach:
     - /etc/group
     - /tmp/avatar2.png
     headers:
     - [email protected]
     - X-Special="Something or other"
     charset: us-ascii
   delegate_to: localhost

 - name: Sending an e-mail using the remote machine, not the Ansible controller node
   mail:
     host: localhost
     port: 25
     to: John Smith <[email protected]>
     subject: Ansible-report
     body: System {{ ansible_hostname }} has been successfully provisioned.

 - name: Sending an e-mail using Legacy SSL to the remote machine
   mail:
     host: localhost
     port: 25
     to: John Smith <[email protected]>
     subject: Ansible-report
     body: System {{ ansible_hostname }} has been successfully provisioned.
     secure: always

 - name: Sending an e-mail using StartTLS to the remote machine
   mail:
     host: localhost
     port: 25
     to: John Smith <[email protected]>
     subject: Ansible-report
     body: System {{ ansible_hostname }} has been successfully provisioned.
     secure: starttls

STATUS                   *mail-status*

     • This module is guaranteed to have backward compatible interface changes going forward. [stableinterface]
     • This module is maintained by the Ansible Community. [community]

     • Dag Wieers (@dagwieers)

   Hint

   If you notice any issues in this documentation, you can edit this document to improve it.

   ══════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════

MORE INFO                          *mail-moreinfo*
>
All arguments are omni-completed, but if you really want to see the online docs:
https://docs.ansible.com/ansible/latest/modules/mail_module.html
