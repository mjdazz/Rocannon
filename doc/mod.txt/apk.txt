SYNOPSIS                   *apk*

     • Manages apk packages for Alpine Linux.

PARAMETERS                   *apk-parameters*

    Parameter   Choices/Defaults                                                                               Comments
   available      Choices:       During upgrade, reset versioned world dependencies and change logic to prefer replacing or downgrading packages (instead of holding them) if the currently installed
   boolean        • no ←         package is no longer available from any repository.
   added in 2.4   • yes
   name                          A package name, like foo, or multiple packages, like foo, bar.
   -
   repository
   -                             A package repository or multiple repositories. Unlike with the underlying apk command, this list will override the system repositories rather than supplement them.
   added in 2.4
                  Choices:       Indicates the desired package(s) state.
   state          • present ←    present ensures the package(s) is/are present.
   -              • absent       absent ensures the package(s) is/are absent.
                  • latest       latest ensures the package(s) is/are present and the latest version(s).
   update_cache   Choices:
   boolean        • no ←         Update repository indexes. Can be run with other steps or on it's own.
                  • yes
   upgrade        Choices:
   boolean        • no ←         Upgrade all installed packages to their latest version.
                  • yes

NOTES                   *apk-notes*

   Note

     • “name” and “upgrade” are mutually exclusive.
     • When used with a loop: each package will be processed individually, it is much more efficient to pass the list directly to the name option.

EXAMPLES                   *apk-examples*

 # Update repositories and install "foo" package
 - apk:
     name: foo
     update_cache: yes

 # Update repositories and install "foo" and "bar" packages
 - apk:
     name: foo,bar
     update_cache: yes

 # Remove "foo" package
 - apk:
     name: foo
     state: absent

 # Remove "foo" and "bar" packages
 - apk:
     name: foo,bar
     state: absent

 # Install the package "foo"
 - apk:
     name: foo
     state: present

 # Install the packages "foo" and "bar"
 - apk:
     name: foo,bar
     state: present

 # Update repositories and update package "foo" to latest version
 - apk:
     name: foo
     state: latest
     update_cache: yes

 # Update repositories and update packages "foo" and "bar" to latest versions
 - apk:
     name: foo,bar
     state: latest
     update_cache: yes

 # Update all installed packages to the latest versions
 - apk:
     upgrade: yes

 # Upgrade / replace / downgrade / uninstall all installed packages to the latest versions available
 - apk:
     available: yes
     upgrade: yes

 # Update repositories as a separate step
 - apk:
     update_cache: yes

 # Install package from a specific repository
 - apk:
     name: foo
     state: latest
     update_cache: yes
     repository: http://dl-3.alpinelinux.org/alpine/edge/main

RETURN VALUES                   *apk-return values*

   Common return values are documented here, the following are the fields unique to this module:

     Key             Returned                                                                                   Description
   packages                            a list of packages that have been changed
   list     when packages have changed Sample:
                                       ['package', 'other-package']

STATUS                   *apk-status*

     • This module is guaranteed to have backward compatible interface changes going forward. [stableinterface]
     • This module is maintained by the Ansible Community. [community]

     • Kevin Brebanov (@kbrebanov)

   Hint

   If you notice any issues in this documentation, you can edit this document to improve it.

   ══════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════

MORE INFO                          *apk-moreinfo*
>
All arguments are omni-completed, but if you really want to see the online docs:
https://docs.ansible.com/ansible/latest/modules/apk_module.html
