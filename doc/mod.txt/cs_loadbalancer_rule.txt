SYNOPSIS                   *cs_loadbalancer_rule*

     • Add, update and remove load balancer rules.

REQUIREMENTS                   *cs_loadbalancer_rule-requirements*

   The below requirements are needed on the host that executes this module.

     • python >= 2.6
     • cs >= 0.6.10

PARAMETERS                   *cs_loadbalancer_rule-parameters*

       Parameter      Choices/Defaults                                                                            Comments
   account                             Account the rule is related to.
   string
                        Choices:
   algorithm            • source ←     Load balancer algorithm
   string               • roundrobin   Required when using state=present.
                        • leastconn
                        Choices:       HTTP method used to query the API endpoint.
   api_http_method      • get          If not given, the CLOUDSTACK_METHOD env variable is considered.
   string               • post         As the last option, the value is taken from the ini config file, also see the notes.
                                       Fallback value is get if not specified.
   api_key                             API key of the CloudStack API.
   string                              If not given, the CLOUDSTACK_KEY env variable is considered.
                                       As the last option, the value is taken from the ini config file, also see the notes.
   api_region         Default:         Name of the ini section in the cloustack.ini file.
   string             "cloudstack"     If not given, the CLOUDSTACK_REGION env variable is considered.
   api_secret                          Secret key of the CloudStack API.
   string                              If not set, the CLOUDSTACK_SECRET env variable is considered.
                                       As the last option, the value is taken from the ini config file, also see the notes.
                                       HTTP timeout in seconds.
   api_timeout                         If not given, the CLOUDSTACK_TIMEOUT env variable is considered.
   integer                             As the last option, the value is taken from the ini config file, also see the notes.
                                       Fallback value is 10 seconds if not specified.
   api_url                             URL of the CloudStack API e.g. https://cloud.example.com/client/api.
   string                              If not given, the CLOUDSTACK_ENDPOINT env variable is considered.
                                       As the last option, the value is taken from the ini config file, also see the notes.
   cidr                                CIDR (full notation) to be used for firewall rule if required.
   string
   description                         The description of the load balancer rule.
   string
   domain                              Domain the rule is related to.
   string
   ip_address                          Public IP address from where the network traffic will be load balanced from.
   string / required                   aliases: public_ip
   name                                The name of the load balancer rule.
   string / required
   network
   string                              Name of the network.
   added in 2.9
   open_firewall        Choices:       Whether the firewall rule for public port should be created, while creating the new rule.
   boolean              • no ←         Use cs_firewall for managing firewall rules.
                        • yes
   poll_async           Choices:
   boolean              • no           Poll async jobs until job has finished.
                        • yes ←
   private_port                        The private port of the private ip address/virtual machine where the network traffic will be load balanced to.
   integer                             Required when using state=present.
                                       Can not be changed once the rule exists due API limitation.
   project                             Name of the project the load balancer IP address is related to.
   string
   protocol                            The protocol to be used on the load balancer
   string
   public_port                         The public port from where the network traffic will be load balanced from.
   integer / required                  Required when using state=present.
                                       Can not be changed once the rule exists due API limitation.
   state                Choices:
   string               • present ←    State of the rule.
                        • absent
   tags                                List of tags. Tags are a list of dictionaries having keys key and value.
   list                                To delete all tags, set a empty list e.g. tags: [].
                                       aliases: tag
   vpc
   string                              Name of the VPC.
   added in 2.9
   zone                                Name of the zone in which the rule should be created.
   string                              If not set, default zone is used.

NOTES                   *cs_loadbalancer_rule-notes*

   Note

     • Ansible uses the cs library’s configuration method if credentials are not provided by the arguments api_url, api_key, api_secret. Configuration is read from several locations, in the
       following order. The CLOUDSTACK_ENDPOINT, CLOUDSTACK_KEY, CLOUDSTACK_SECRET and CLOUDSTACK_METHOD. CLOUDSTACK_TIMEOUT environment variables. A CLOUDSTACK_CONFIG environment variable pointing
       to an .ini file. A cloudstack.ini file in the current working directory. A .cloudstack.ini file in the users home directory. Optionally multiple credentials and endpoints can be specified
       using ini sections in cloudstack.ini. Use the argument api_region to select the section name, default section is cloudstack. See https://github.com/exoscale/cs for more information.
     • A detailed guide about cloudstack modules can be found in the CloudStack Cloud Guide.
     • This module supports check mode.

EXAMPLES                   *cs_loadbalancer_rule-examples*

 - name: Create a load balancer rule
   cs_loadbalancer_rule:
     name: balance_http
     public_ip: 1.2.3.4
     algorithm: leastconn
     public_port: 80
     private_port: 8080
   delegate_to: localhost

 - name: Update algorithm of an existing load balancer rule
   cs_loadbalancer_rule:
     name: balance_http
     public_ip: 1.2.3.4
     algorithm: roundrobin
     public_port: 80
     private_port: 8080
   delegate_to: localhost

 - name: Delete a load balancer rule
   cs_loadbalancer_rule:
     name: balance_http
     public_ip: 1.2.3.4
     state: absent
   delegate_to: localhost

RETURN VALUES                   *cs_loadbalancer_rule-return values*

   Common return values are documented here, the following are the fields unique to this module:

       Key      Returned                                                                                 Description
   account               Account the rule is related to.
   string       success  Sample:
                         example account
   algorithm             Load balancer algorithm used.
   string       success  Sample:
                         source
   cidr                  CIDR to forward traffic from.
   string       success  Sample:
                         0.0.0.0/0
   description           Description of the rule.
   string       success  Sample:
                         http load balancer rule
   domain                Domain the rule is related to.
   string       success  Sample:
                         example domain
   id                    UUID of the rule.
   string       success  Sample:
                         a6f7a5fc-43f8-11e5-a151-feff819cdc9f
   name                  Name of the rule.
   string       success  Sample:
                         http-lb
   private_port          Private IP address.
   integer      success  Sample:
                         80
   project               Name of project the rule is related to.
   string       success  Sample:
                         Production
   protocol              Protocol of the rule.
   string       success  Sample:
                         tcp
   public_ip             Public IP address.
   string       success  Sample:
                         1.2.3.4
   public_port           Public port.
   integer      success  Sample:
                         80
   state                 State of the rule.
   string       success  Sample:
                         Add
   tags                  List of resource tags associated with the rule.
   list         success  Sample:
                         [ { "key": "foo", "value": "bar" } ]
   zone                  Name of zone the rule is related to.
   string       success  Sample:
                         ch-gva-2

STATUS                   *cs_loadbalancer_rule-status*

     • This module is guaranteed to have backward compatible interface changes going forward. [stableinterface]
     • This module is maintained by the Ansible Community. [community]

     • Darren Worrall (@dazworrall)
     • René Moser (@resmo)

   Hint

   If you notice any issues in this documentation, you can edit this document to improve it.

   ══════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════

MORE INFO                          *cs_loadbalancer_rule-moreinfo*
>
All arguments are omni-completed, but if you really want to see the online docs:
https://docs.ansible.com/ansible/latest/modules/cs_loadbalancer_rule_module.html
