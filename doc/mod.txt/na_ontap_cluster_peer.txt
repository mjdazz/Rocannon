SYNOPSIS                   *na_ontap_cluster_peer*

     • Create/Delete cluster peer relations on ONTAP

REQUIREMENTS                   *na_ontap_cluster_peer-requirements*

   The below requirements are needed on the host that executes this module.

     • A physical or virtual clustered Data ONTAP system. The modules support Data ONTAP 9.1 and onward
     • Ansible 2.6
     • Python2 netapp-lib (2017.10.30) or later. Install using ‘pip install netapp-lib’
     • Python3 netapp-lib (2018.11.13) or later. Install using ‘pip install netapp-lib’
     • To enable http on the cluster you must run the following commands ‘set -privilege advanced;’ ‘system services web modify -http-enabled true;’

PARAMETERS                   *na_ontap_cluster_peer-parameters*

          Parameter         Choices/Defaults                                                                         Comments
   dest_cluster_name                         The name of the destination cluster name in the peer relation to be deleted.
   -                                         Required for delete
   dest_hostname                             Destination cluster IP or hostname which needs to be peered
   - / required                              Required to complete the peering process at destination cluster.
   dest_intercluster_lifs                    List of intercluster addresses of the destination cluster.
   -                                         Used as peer-addresses in source cluster.
   added in 2.8                              All these intercluster lifs should belong to the destination cluster.
                                             aliases: dest_intercluster_lif
   dest_password                             Destination password.
   -                                         Optional if this is same as source password.
   dest_username                             Destination username.
   -                                         Optional if this is same as source username.
   hostname                                  The hostname or IP address of the ONTAP instance.
   string / required
   http_port                                 Override the default port (80 or 443) with this port
   integer
   https                      Choices:
   boolean                    • no ←         Enable and disable https
                              • yes
   ontapi                                    The ontap api version to use
   integer
   passphrase                                The arbitrary passphrase that matches the one given to the peer cluster.
   -
   password                                  Password for the specified user.
   string / required                         aliases: pass
   source_cluster_name                       The name of the source cluster name in the peer relation to be deleted.
   -
   source_intercluster_lifs                  List of intercluster addresses of the source cluster.
   -                                         Used as peer-addresses in destination cluster.
   added in 2.8                              All these intercluster lifs should belong to the source cluster.
                                             aliases: source_intercluster_lif
   state                      Choices:
   -                          • present ←    Whether the specified cluster peer should exist or not.
                              • absent
                              Choices:       REST API if supported by the target system for all the resources and attributes the module requires. Otherwise will revert to ZAPI.
   use_rest                   • Never        Always -- will always use the REST API
   string                     • Always       Never -- will always use the ZAPI
                              • Auto ←       Auto -- will try to use the REST Api
   username                                  This can be a Cluster-scoped or SVM-scoped account, depending on whether a Cluster-level or SVM-level API is required. For more information, please read
   string / required                         the documentation https://mysupport.netapp.com/NOW/download/software/nmsdk/9.4/.
                                             aliases: user
   validate_certs             Choices:       If set to no, the SSL certificates will not be validated.
   boolean                    • no           This should only set to False used on personally controlled sites using self-signed certificates.
                              • yes ←

NOTES                   *na_ontap_cluster_peer-notes*

   Note

     • The modules prefixed with na\_ontap are built to support the ONTAP storage platform.

EXAMPLES                   *na_ontap_cluster_peer-examples*

 - name: Create cluster peer
   na_ontap_cluster_peer:
     state: present
     source_intercluster_lifs: 1.2.3.4,1.2.3.5
     dest_intercluster_lifs: 1.2.3.6,1.2.3.7
     passphrase: XXXX
     hostname: "{{ netapp_hostname }}"
     username: "{{ netapp_username }}"
     password: "{{ netapp_password }}"
     dest_hostname: "{{ dest_netapp_hostname }}"

 - name: Delete cluster peer
   na_ontap_cluster_peer:
     state: absent
     source_cluster_name: test-source-cluster
     dest_cluster_name: test-dest-cluster
     hostname: "{{ netapp_hostname }}"
     username: "{{ netapp_username }}"
     password: "{{ netapp_password }}"
     dest_hostname: "{{ dest_netapp_hostname }}"

STATUS                   *na_ontap_cluster_peer-status*

     • This module is not guaranteed to have a backwards compatible interface. [preview]
     • This module is maintained by an Ansible Partner. [certified]

     • NetApp Ansible Team (@carchi8py) <ng-ansibleteam@netapp.com>

   Hint

   If you notice any issues in this documentation, you can edit this document to improve it.

   ══════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════

MORE INFO                          *na_ontap_cluster_peer-moreinfo*
>
All arguments are omni-completed, but if you really want to see the online docs:
https://docs.ansible.com/ansible/latest/modules/na_ontap_cluster_peer_module.html
