SYNOPSIS                   *win_share*

     • Add, modify or remove Windows share and set share permissions.

REQUIREMENTS                   *win_share-requirements*

   The below requirements are needed on the host that executes this module.

     • As this module used newer cmdlets like New-SmbShare this can only run on Windows 8 / Windows 2012 or newer.
     • This is due to the reliance on the WMI provider MSFT_SmbShare https://msdn.microsoft.com/en-us/library/hh830471 which was only added with these Windows releases.

PARAMETERS                   *win_share-parameters*

       Parameter     Choices/Defaults                                                                             Comments
                       Choices:
                       • BranchCache
   caching_mode        • Documents
   string              • Manual ←      Set the CachingMode for this share.
                       • None
                       • Programs
                       • Unknown
   change                              Specify user list that should get read and write access on share, separated by comma.
   string
   deny                                Specify user list that should get no access, regardless of implied access on share, separated by comma.
   string
   description                         Share description.
   string
   encrypt             Choices:
   boolean             • no ←          Sets whether to encrypt the traffic to the share or not.
   added in 2.4        • yes
   full                                Specify user list that should get full access on share, separated by comma.
   string
   list                Choices:
   boolean             • no ←          Specify whether to allow or deny file listing, in case user has no permission on share. Also known as Access-Based Enumeration.
                       • yes
   name                                Share name.
   string / required
   path                                Share directory.
   path / required
   read                                Specify user list that should get read access on share, separated by comma.
   string
   state               Choices:
   string              • absent        Specify whether to add present or remove absent the specified share.
                       • present ←

EXAMPLES                   *win_share-examples*

 # Playbook example
 # Add share and set permissions
 ---
 - name: Add secret share
   win_share:
     name: internal
     description: top secret share
     path: C:\shares\internal
     list: no
     full: Administrators,CEO
     read: HR-Global
     deny: HR-External

 - name: Add public company share
   win_share:
     name: company
     description: top secret share
     path: C:\shares\company
     list: yes
     full: Administrators,CEO
     read: Global

 - name: Remove previously added share
   win_share:
     name: internal
     state: absent

RETURN VALUES                   *win_share-return values*

   Common return values are documented here, the following are the fields unique to this module:

     Key   Returned                                                                                    Description
   actions          A list of action cmdlets that were run by the module.
   list    success  Sample:
                    ['New-SmbShare -Name share -Path C:\\temp']

STATUS                   *win_share-status*

     • This module is not guaranteed to have a backwards compatible interface. [preview]
     • This module is maintained by the Ansible Core Team. [core]

RED HAT SUPPORT                   *win_share-red hat support*

     • Hans-Joachim Kliemeck (@h0nIg)
     • David Baumann (@daBONDi)

   Hint

   If you notice any issues in this documentation, you can edit this document to improve it.

   ══════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════

MORE INFO                          *win_share-moreinfo*
>
All arguments are omni-completed, but if you really want to see the online docs:
https://docs.ansible.com/ansible/latest/modules/win_share_module.html
