SYNOPSIS                   *sensu_handler*

     • Manages Sensu handler configuration
     • For more information, refer to the Sensu documentation: https://sensuapp.org/docs/latest/reference/handlers.html

PARAMETERS                   *sensu_handler-parameters*

      Parameter    Choices/Defaults                                                                             Comments
   command                          The handler command to be executed.
   -                                The event data is passed to the process via STDIN.
                                    NOTE: the command attribute is only required for Pipe handlers (i.e. handlers configured with "type": "pipe").
   filter                           The Sensu event filter (name) to use when filtering events for the handler.
   -
   filters                          An array of Sensu event filters (names) to use when filtering events for the handler.
   -                                Each array item must be a string.
   handle_flapping   Choices:
   boolean           • no ←         If events in the flapping state should be handled.
                     • yes
   handle_silenced   Choices:
   boolean           • no ←         If events matching one or more silence entries should be handled.
                     • yes
   handlers                         An array of Sensu event handlers (names) to use for events using the handler set.
   -                                Each array item must be a string.
                                    NOTE: the handlers attribute is only required for handler sets (i.e. handlers configured with "type": "set").
   mutator                          The Sensu event mutator (name) to use to mutate event data for the handler.
   -
   name                             A unique name for the handler. The name cannot contain special characters or spaces.
   - / required
   pipe                             The pipe definition scope, used to configure the Sensu transport pipe.
   -                                NOTE: the pipe attribute is only required for Transport handlers (i.e. handlers configured with "type": "transport").
                     Choices:
   severities        • warning      An array of check result severities the handler will handle.
   -                 • critical     NOTE: event resolution bypasses this filtering.
                     • unknown
   socket                           The socket definition scope, used to configure the TCP/UDP handler socket.
   -                                NOTE: the socket attribute is only required for TCP/UDP handlers (i.e. handlers configured with "type": "tcp" or "type": "udp").
   state             Choices:
   -                 • present ←    Whether the handler should be present or not
                     • absent
   timeout         Default:         The handler execution duration timeout in seconds (hard stop).
   -               10               Only used by pipe and tcp handler types.
                     Choices:
                     • pipe
   type              • tcp          The handler type
   - / required      • udp
                     • transport
                     • set

NOTES                   *sensu_handler-notes*

   Note

     • Check mode is supported

EXAMPLES                   *sensu_handler-examples*

 # Configure a handler that sends event data as STDIN (pipe)
 - name: Configure IRC Sensu handler
   sensu_handler:
     name: "irc_handler"
     type: "pipe"
     command: "/usr/local/bin/notify-irc.sh"
     severities:
       - "ok"
       - "critical"
       - "warning"
       - "unknown"
     timeout: 15
   notify:
     - Restart sensu-client
     - Restart sensu-server

 # Delete a handler
 - name: Delete IRC Sensu handler
   sensu_handler:
     name: "irc_handler"
     state: "absent"

 # Example of a TCP handler
 - name: Configure TCP Sensu handler
   sensu_handler:
     name: "tcp_handler"
     type: "tcp"
     timeout: 30
     socket:
       host: "10.0.1.99"
       port: 4444
   register: handler
   notify:
     - Restart sensu-client
     - Restart sensu-server

 - name: Secure Sensu handler configuration file
   file:
     path: "{{ handler['file'] }}"
     owner: "sensu"
     group: "sensu"
     mode: "0600"

RETURN VALUES                   *sensu_handler-return values*

   Common return values are documented here, the following are the fields unique to this module:

      Key     Returned                                                                                  Description
   config              Effective handler configuration, when state is present
   dictionary success  Sample:
                       {'name': 'irc', 'type': 'pipe', 'command': '/usr/local/bin/notify-irc.sh'}
   file                Path to the handler configuration file
   string     success  Sample:
                       /etc/sensu/conf.d/handlers/irc.json
   name                Name of the handler
   string     success  Sample:
                       irc

STATUS                   *sensu_handler-status*

     • This module is not guaranteed to have a backwards compatible interface. [preview]
     • This module is maintained by the Ansible Community. [community]

     • David Moreau Simard (@dmsimard)

   Hint

   If you notice any issues in this documentation, you can edit this document to improve it.

   ══════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════

MORE INFO                          *sensu_handler-moreinfo*
>
All arguments are omni-completed, but if you really want to see the online docs:
https://docs.ansible.com/ansible/latest/modules/sensu_handler_module.html
