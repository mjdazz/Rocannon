SYNOPSIS                   *bigip_node*

     • Manages F5 BIG-IP LTM nodes.

PARAMETERS                   *bigip_node-parameters*

           Parameter         Choices/Defaults                                                                        Comments
   address                                    IP address of the node. This can be either IPv4 or IPv6. When creating a new node, one of either address or fqdn must be provided. This parameter
   string                                     cannot be updated after it is set.
                                              aliases: ip, host
   availability_requirements                  Specifies, if you activate more than one health monitor, the number of health monitors that must receive successful responses in order for the link to
   dictionary                                 be considered available.
   added in 2.8
        at_least                              Specifies the minimum number of active health monitors that must be successful before the link is considered up.
        integer                               This parameter is only relevant when a type of at_least is used.
                                              This parameter will be ignored if a type of all is used.
        type                   Choices:       Monitor rule type when monitors is specified.
        string                 • all          When creating a new pool, if this value is not specified, the default of 'all' will be used.
                               • at_least
   connection_limit
   integer                                    Node connection limit. Setting this to 0 disables the limit.
   added in 2.7
   description                                Specifies descriptive text that identifies the node.
   string                                     You can remove a description by either specifying an empty string, or by specifying the special value none.
   dynamic_ratio                              The dynamic ratio number for the node. Used for dynamic ratio load balancing.
   integer                                    When creating a new node, if this parameter is not specified, the default of 1 will be used.
   added in 2.7
                                              FQDN name of the node. This can be any name that is a valid RFC 1123 DNS name. Therefore, the only characters that can be used are "A" to "Z", "a" to
   fqdn                                       "z", "0" to "9", the hyphen ("-") and the period (".").
   string                                     FQDN names must include at lease one period; delineating the host from the domain. ex. host.domain.
   added in 2.5                               FQDN names must end with a letter or a number.
                                              When creating a new node, one of either address or fqdn must be provided. This parameter cannot be updated after it is set.
                                              aliases: hostname
   fqdn_address_type           Choices:       Specifies whether the FQDN of the node resolves to an IPv4 or IPv6 address.
   string                      • ipv4         When creating a new node, if this parameter is not specified and fqdn is specified, this parameter will default to ipv4.
   added in 2.6                • ipv6         This parameter cannot be changed after it has been set.
                               • all
                                              Specifies whether the system automatically creates ephemeral nodes using the IP addresses returned by the resolution of a DNS query for a node defined
                                              by an FQDN.
   fqdn_auto_populate          Choices:       When yes, the system generates an ephemeral node for each IP address returned in response to a DNS query for the FQDN of the node. Additionally, when a
   boolean                     • no           DNS response indicates the IP address of an ephemeral node no longer exists, the system deletes the ephemeral node.
   added in 2.6                • yes          When no, the system resolves a DNS query for the FQDN of the node with the single IP address associated with the FQDN.
                                              When creating a new node, if this parameter is not specified and fqdn is specified, this parameter will default to yes.
                                              This parameter cannot be changed after it has been set.
   fqdn_down_interval                         Specifies the interval in which a query occurs, when the DNS server is down. The associated monitor continues polling as long as the DNS server is
   integer                                    down.
   added in 2.6                               When creating a new node, if this parameter is not specified and fqdn is specified, this parameter will default to 5.
   fqdn_up_interval                           Specifies the interval in which a query occurs, when the DNS server is up. The associated monitor attempts to probe three times, and marks the server
   string                                     down if it there is no response within the span of three times the interval value, in seconds.
   added in 2.6                               This parameter accepts a value of ttl to query based off of the TTL of the FQDN. The default TTL interval is akin to specifying 3600.
                                              When creating a new node, if this parameter is not specified and fqdn is specified, this parameter will default to 3600.
                               Choices:       Monitor rule type when monitors is specified. When creating a new pool, if this value is not specified, the default of 'and_list' will be used.
   monitor_type                • and_list     Both single and and_list are functionally identical since BIG-IP considers all monitors as "a list". BIG=IP either has a list of many, or it has a list
   string                      • m_of_n       of one. Where they differ is in the extra guards that single provides; namely that it only allows a single monitor.
                               • single
   monitors                                   Specifies the health monitors that the system currently uses to monitor this node.
   list
   name                                       Specifies the name of the node.
   string / required
   partition                 Default:
   string                    "Common"         Device partition to manage resources on.
   added in 2.5
   provider
   dictionary                                 A dict object containing connection details.
   added in 2.5
        auth_provider                         Configures the auth provider for to obtain authentication tokens from the remote device.
        string                                This option is really used when working with BIG-IQ devices.
        password                              The password for the user account used to connect to the BIG-IP.
        string / required                     You may omit this option by setting the environment variable F5_PASSWORD.
                                              aliases: pass, pwd
        server                                The BIG-IP host.
        string / required                     You may omit this option by setting the environment variable F5_SERVER.
        server_port          Default:         The BIG-IP server port.
        integer              443              You may omit this option by setting the environment variable F5_SERVER_PORT.
        ssh_keyfile                           Specifies the SSH keyfile to use to authenticate the connection to the remote device. This argument is only used for cli transports.
        path                                  You may omit this option by setting the environment variable ANSIBLE_NET_SSH_KEYFILE.
        timeout                               Specifies the timeout in seconds for communicating with the network device for either connecting or sending commands. If the timeout is exceeded before
        integer                               the operation is completed, the module will error.
        transport              Choices:
        string                 • cli          Configures the transport connection to use when connecting to the remote device.
                               • rest ←
        user                                  The username to connect to the BIG-IP with. This user must have administrative privileges on the device.
        string / required                     You may omit this option by setting the environment variable F5_USER.
        validate_certs         Choices:       If no, SSL certificates are not validated. Use this only on personally controlled sites using self-signed certificates.
        boolean                • no           You may omit this option by setting the environment variable F5_VALIDATE_CERTS.
                               • yes ←
   quorum                                     Monitor quorum value when monitor_type is m_of_n.
   integer
   rate_limit
   integer                                    Node rate limit (connections-per-second). Setting this to 0 disables the limit.
   added in 2.7
   ratio                                      Node ratio weight. Valid values range from 1 through 100.
   integer                                    When creating a new node, if this parameter is not specified, the default of 1 will be used.
   added in 2.7
                               Choices:       Specifies the current state of the node. enabled (All traffic allowed), specifies that system sends traffic to this node regardless of the node's
                               • present ←    state. disabled (Only persistent or active connections allowed), Specifies that the node can handle only persistent or active connections. offline
   state                       • absent       (Only active connections allowed), Specifies that the node can handle only active connections. In all cases except absent, the node will be created if
   string                      • enabled      it does not yet exist.
                               • disabled     Be particularly careful about changing the status of a node whose FQDN cannot be resolved. These situations disable your ability to change their state
                               • offline      to disabled or offline. They will remain in an "Unavailable - Enabled" state.

NOTES                   *bigip_node-notes*

   Note

     • For more information on using Ansible to manage F5 Networks devices see https://www.ansible.com/integrations/networks/f5.
     • Requires BIG-IP software version >= 12.
     • The F5 modules only manipulate the running configuration of the F5 product. To ensure that BIG-IP specific configuration persists to disk, be sure to include at least one task that uses the
       bigip_config module to save the running configuration. Refer to the module’s documentation for the correct usage of the module to save your running configuration.

EXAMPLES                   *bigip_node-examples*

 - name: Add node
   bigip_node:
     host: 10.20.30.40
     name: 10.20.30.40
     provider:
       server: lb.mydomain.com
       user: admin
       password: secret
   delegate_to: localhost

 - name: Add node with a single 'ping' monitor
   bigip_node:
     host: 10.20.30.40
     name: mytestserver
     monitors:
       - /Common/icmp
     provider:
       server: lb.mydomain.com
       user: admin
       password: secret
   delegate_to: localhost

 - name: Modify node description
   bigip_node:
     name: 10.20.30.40
     description: Our best server yet
     provider:
       server: lb.mydomain.com
       user: admin
       password: secret
   delegate_to: localhost

 - name: Delete node
   bigip_node:
     state: absent
     name: 10.20.30.40
     provider:
       server: lb.mydomain.com
       user: admin
       password: secret
   delegate_to: localhost

 - name: Force node offline
   bigip_node:
     state: disabled
     name: 10.20.30.40
     provider:
       server: lb.mydomain.com
       user: admin
       password: secret
   delegate_to: localhost

 - name: Add node by their FQDN
   bigip_node:
     fqdn: foo.bar.com
     name: foobar.net
     provider:
       server: lb.mydomain.com
       user: admin
       password: secret
   delegate_to: localhost

RETURN VALUES                   *bigip_node-return values*

   Common return values are documented here, the following are the fields unique to this module:

       Key           Returned                                                                                  Description
   description                      Changed value for the description of the node.
   string       changed and success Sample:
                                    E-Commerce webserver in ORD
   monitor_type                     Changed value for the monitor_type of the node.
   string       changed and success Sample:
                                    m_of_n
   monitors                         Changed list of monitors for the node.
   list         changed and success Sample:
                                    ['icmp', 'tcp_echo']
   quorum                           Changed value for the quorum of the node.
   integer      changed and success Sample:
                                    1
   session                          Changed value for the internal session of the node.
   string       changed and success Sample:
                                    user-disabled
   state                            Changed value for the internal state of the node.
   string       changed and success Sample:
                                    m_of_n

STATUS                   *bigip_node-status*

     • This module is not guaranteed to have a backwards compatible interface. [preview]
     • This module is maintained by an Ansible Partner. [certified]

     • Tim Rupp (@caphrim007)
     • Wojciech Wypior (@wojtek0806)

   Hint

   If you notice any issues in this documentation, you can edit this document to improve it.

   ══════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════

MORE INFO                          *bigip_node-moreinfo*
>
All arguments are omni-completed, but if you really want to see the online docs:
https://docs.ansible.com/ansible/latest/modules/bigip_node_module.html
