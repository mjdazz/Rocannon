SYNOPSIS                   *tower_notification*

     • Create, update, or destroy Ansible Tower notifications. See https://www.ansible.com/tower for an overview.

REQUIREMENTS                   *tower_notification-requirements*

   The below requirements are needed on the host that executes this module.

     • ansible-tower-cli >= 3.0.2

PARAMETERS                   *tower_notification-parameters*

           Parameter          Choices/Defaults                                                                        Comments
   account_sid                                 The Twillio account SID. Required if notification_type=twillio.
   -
   account_token                               The Twillio account token. Required if notification_type=twillio.
   -
   api_url                                     The HipChat API URL. Required if notification_type=hipchat.
   -
   channels                                    The destination Slack channels. Required if notification_type=slack.
   list
   client_name                                 The PagerDuty client identifier. Required if notification_type=pagerduty.
   -
                                Choices:
                                • yellow
   color                        • green
   -                            • red          The notification color. Required if notification_type=hipchat.
                                • purple
                                • gray
                                • random
   description                                 The description of the notification.
   -
   from_number                                 The source phone number. Required if notification_type=twillio.
   -
   headers                                     The HTTP headers as JSON string. Required if notification_type=webhook.
   -
   host                                        The mail server host. Required if notification_type=email.
   -
   message_from                                The label to be shown with the notification. Required if notification_type=hipchat.
   -
   name                                        The name of the notification.
   - / required
   nickname                                    The IRC nickname. Required if notification_type=irc.
   -
   notification_configuration                  The notification configuration file. Note providing this field would disable all notification-configuration-related fields.
   -
                                Choices:
                                • email
                                • slack
   notification_type            • twilio       The type of notification to be sent.
   - / required                 • pagerduty
                                • hipchat
                                • webhook
                                • irc
   notify                       Choices:
   boolean                      • no           The notify channel trigger. Required if notification_type=hipchat.
                                • yes
   organization                                The organization the notification belongs to.
   -
   password                                    The mail server password. Required if notification_type=email or if notification_type=irc.
   -
   port                                        The mail server port. Required if notification_type=email or if notification_type=irc.
   -
   recipients                                  The recipients email addresses. Required if notification_type=email.
   -
   rooms                                       HipChat rooms to send the notification to. Required if notification_type=hipchat.
   list
   sender                                      The sender email address. Required if notification_type=email.
   -
   server                                      The IRC server address. Required if notification_type=irc.
   -
   service_key                                 The PagerDuty service/integration API key. Required if notification_type=pagerduty.
   -
   state                        Choices:
   -                            • present ←    Desired state of the resource.
                                • absent
   subdomain                                   The PagerDuty subdomain. Required if notification_type=pagerduty.
   -
   targets                                     The destination channels or users. Required if notification_type=irc.
   list
   to_numbers                                  The destination phone numbers. Required if notification_type=twillio.
   -
   token                                       The access token. Required if notification_type=slack, if notification_type=pagerduty or if notification_type=hipchat.
   -
   tower_config_file                           Path to the Tower config file.
   path
   tower_host                                  URL to your Tower instance.
   string
   tower_password                              Password for your Tower instance.
   string
   tower_username                              Username for your Tower instance.
   string
   url                                         The target URL. Required if notification_type=webhook.
   -
   use_ssl                      Choices:
   boolean                      • no           The SSL trigger. Required if notification_type=email or if notification_type=irc.
                                • yes
   use_tls                      Choices:
   boolean                      • no           The TLS trigger. Required if notification_type=email.
                                • yes
   username                                    The mail server username. Required if notification_type=email.
   -
                                Choices:       Whether to allow insecure connections to Tower.
   validate_certs               • no           If no, SSL certificates will not be validated.
   boolean                      • yes          This should only be used on personally controlled sites using self-signed certificates.
                                               aliases: tower_verify_ssl

NOTES                   *tower_notification-notes*

   Note

     • If no config_file is provided we will attempt to use the tower-cli library defaults to find your Tower host information.
     • config_file should contain Tower configuration in the following format host=hostname username=username password=password

EXAMPLES                   *tower_notification-examples*

 - name: Add Slack notification
   tower_notification:
     name: slack notification
     notification_type: slack
     channels:
       - general
     token: cefda9e2be1f21d11cdd9452f5b7f97fda977f42
     state: present
     tower_config_file: "~/tower_cli.cfg"

 - name: Add webhook notification
   tower_notification:
     name: webhook notification
     notification_type: webhook
     url: http://www.example.com/hook
     headers:
       X-Custom-Header: value123
     state: present
     tower_config_file: "~/tower_cli.cfg"

 - name: Add email notification
   tower_notification:
     name: email notification
     notification_type: email
     username: user
     password: s3cr3t
     sender: [email protected]
     recipients:
       - [email protected]
     host: smtp.example.com
     port: 25
     use_tls: no
     use_ssl: no
     state: present
     tower_config_file: "~/tower_cli.cfg"

 - name: Add twilio notification
   tower_notification:
     name: twilio notification
     notification_type: twilio
     account_token: a_token
     account_sid: a_sid
     from_number: '+15551112222'
     to_numbers:
       - '+15553334444'
     state: present
     tower_config_file: "~/tower_cli.cfg"

 - name: Add PagerDuty notification
   tower_notification:
     name: pagerduty notification
     notification_type: pagerduty
     token: a_token
     subdomain: sub
     client_name: client
     service_key: a_key
     state: present
     tower_config_file: "~/tower_cli.cfg"

 - name: Add HipChat notification
   tower_notification:
     name: hipchat notification
     notification_type: hipchat
     token: a_token
     message_from: user1
     api_url: https://hipchat.example.com
     color: red
     rooms:
       - room-A
     notify: yes
     state: present
     tower_config_file: "~/tower_cli.cfg"

 - name: Add IRC notification
   tower_notification:
     name: irc notification
     notification_type: irc
     nickname: tower
     password: s3cr3t
     targets:
       - user1
     port: 8080
     server: irc.example.com
     use_ssl: no
     state: present
     tower_config_file: "~/tower_cli.cfg"

 - name: Delete notification
   tower_notification:
     name: old notification
     notification_type: email
     state: absent
     tower_config_file: "~/tower_cli.cfg"

STATUS                   *tower_notification-status*

     • This module is not guaranteed to have a backwards compatible interface. [preview]
     • This module is maintained by the Ansible Community. [community]

     • Samuel Carpentier (@samcarpentier)

   Hint

   If you notice any issues in this documentation, you can edit this document to improve it.

   ══════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════

MORE INFO                          *tower_notification-moreinfo*
>
All arguments are omni-completed, but if you really want to see the online docs:
https://docs.ansible.com/ansible/latest/modules/tower_notification_module.html
