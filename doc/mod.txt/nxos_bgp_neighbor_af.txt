SYNOPSIS                   *nxos_bgp_neighbor_af*

     • Manages BGP address-family’s neighbors configurations on NX-OS switches.

PARAMETERS                   *nxos_bgp_neighbor_af-parameters*

            Parameter          Choices/Defaults                                                                       Comments
                                 Choices:
   additional_paths_receive      • enable       Valid values are enable for basic command enablement; disable for disabling the command at the neighbor af level (it adds the disable keyword to the
   -                             • disable      basic command); and inherit to remove the command at this level (the command value is inherited from a higher BGP layer).
                                 • inherit
                                 Choices:
   additional_paths_send         • enable       Valid values are enable for basic command enablement; disable for disabling the command at the neighbor af level (it adds the disable keyword to the
   -                             • disable      basic command); and inherit to remove the command at this level (the command value is inherited from a higher BGP layer).
                                 • inherit
   advertise_map_exist                          Conditional route advertisement. This property requires two route maps, an advertise-map and an exist-map. Valid values are an array specifying both
   -                                            the advertise-map name and the exist-map name, or simply 'default' e.g. ['my_advertise_map', 'my_exist_map']. This command is mutually exclusive with
                                                the advertise_map_non_exist property.
   advertise_map_non_exist                      Conditional route advertisement. This property requires two route maps, an advertise-map and an exist-map. Valid values are an array specifying both
   -                                            the advertise-map name and the non-exist-map name, or simply 'default' e.g. ['my_advertise_map', 'my_non_exist_map']. This command is mutually
                                                exclusive with the advertise_map_exist property.
                                 Choices:
                                 • ipv4
   afi                           • ipv6         Address Family Identifier.
   - / required                  • vpnv4
                                 • vpnv6
                                 • l2vpn
   allowas_in                    Choices:
   boolean                       • no           Activate allowas-in property
                                 • yes
   allowas_in_max                               Max-occurrences value for allowas_in. Valid values are an integer value or 'default'. This is mutually exclusive with allowas_in.
   -
   as_override                   Choices:
   boolean                       • no           Activate the as-override feature.
                                 • yes
   asn                                          BGP autonomous system number. Valid values are String, Integer in ASPLAIN or ASDOT notation.
   - / required
   default_originate             Choices:
   boolean                       • no           Activate the default-originate feature.
                                 • yes
   default_originate_route_map                  Route-map for the default_originate property. Valid values are a string defining a route-map name, or 'default'. This is mutually exclusive with
   -                                            default_originate.
   disable_peer_as_check         Choices:
   boolean                       • no           Disable checking of peer AS-number while advertising
   added in 2.5                  • yes
   filter_list_in                               Valid values are a string defining a filter-list name, or 'default'.
   -
   filter_list_out                              Valid values are a string defining a filter-list name, or 'default'.
   -
   max_prefix_interval                          Optional restart interval. Valid values are an integer. Requires max_prefix_limit. May not be combined with max_prefix_warning.
   -
   max_prefix_limit                             maximum-prefix limit value. Valid values are an integer value or 'default'.
   -
   max_prefix_threshold                         Optional threshold percentage at which to generate a warning. Valid values are an integer value. Requires max_prefix_limit.
   -
   max_prefix_warning            Choices:
   boolean                       • no           Optional warning-only keyword. Requires max_prefix_limit. May not be combined with max_prefix_interval.
                                 • yes
   neighbor                                     Neighbor Identifier. Valid values are string. Neighbors may use IPv4 or IPv6 notation, with or without prefix length.
   - / required
   next_hop_self                 Choices:
   boolean                       • no           Activate the next-hop-self feature.
                                 • yes
   next_hop_third_party          Choices:
   boolean                       • no           Activate the next-hop-third-party feature.
                                 • yes
   prefix_list_in                               Valid values are a string defining a prefix-list name, or 'default'.
   -
   prefix_list_out                              Valid values are a string defining a prefix-list name, or 'default'.
   -
                                                Deprecated
                                                Starting with Ansible 2.5 we recommend using connection: network_cli.
                                                This option is only required if you are using NX-API.
   provider                                     For more information please see the NXOS Platform Options guide.
   dictionary
                                                ═════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════

                                                A dict object containing connection details.
         auth_pass                              Specifies the password to use if required to enter privileged mode on the remote device. If authorize is false, then this argument does nothing. If
         string                                 the value is not specified in the task, the value of environment variable ANSIBLE_NET_AUTH_PASS will be used instead.
         added in 2.5.3
         authorize               Choices:       Instructs the module to enter privileged mode on the remote device before sending any commands. If not specified, the device will attempt to execute
         boolean                 • no ←         all commands in non-privileged mode. If the value is not specified in the task, the value of environment variable ANSIBLE_NET_AUTHORIZE will be used
         added in 2.5.3          • yes          instead.
         host                                   Specifies the DNS host name or address for connecting to the remote device over the specified transport. The value of host is used as the destination
         string / required                      address for the transport.
         password                               Specifies the password to use to authenticate the connection to the remote device. This is a common argument used for either cli or nxapi transports.
         string                                 If the value is not specified in the task, the value of environment variable ANSIBLE_NET_PASSWORD will be used instead.
         port                  Default:         Specifies the port to use when building the connection to the remote device. This value applies to either cli or nxapi. The port value will default
         integer               "0 (use common   to the appropriate transport common port if none is provided in the task. (cli=22, http=80, https=443).
                               port)"
         ssh_keyfile                            Specifies the SSH key to use to authenticate the connection to the remote device. This argument is only used for the cli transport. If the value is
         string                                 not specified in the task, the value of environment variable ANSIBLE_NET_SSH_KEYFILE will be used instead.
         timeout               Default:         Specifies the timeout in seconds for communicating with the network device for either connecting or sending commands. If the timeout is exceeded
         integer               10               before the operation is completed, the module will error. NX-API can be slow to return on long-running commands (sh mac, sh bgp, etc).
         transport               Choices:       Configures the transport connection to use when connecting to the remote device. The transport argument supports connectivity to the device over cli
         string / required       • cli ←        (ssh) or nxapi.
                                 • nxapi
         use_proxy               Choices:
         boolean                 • no           If no, the environment variables http_proxy and https_proxy will be ignored.
         added in 2.5            • yes ←
         use_ssl                 Choices:
         boolean                 • no ←         Configures the transport to use SSL if set to yes only when the transport=nxapi, otherwise this value is ignored.
                                 • yes
         username                               Configures the username to use to authenticate the connection to the remote device. This value is used to authenticate either the CLI login or the
         string                                 nxapi authentication depending on which transport is used. If the value is not specified in the task, the value of environment variable
                                                ANSIBLE_NET_USERNAME will be used instead.
         validate_certs          Choices:       If no, SSL certificates will not be validated. This should only be used on personally controlled sites using self-signed certificates. If the
         boolean                 • no           transport argument is not nxapi, this value is ignored.
                                 • yes ←
   route_map_in                                 Valid values are a string defining a route-map name, or 'default'.
   -
   route_map_out                                Valid values are a string defining a route-map name, or 'default'.
   -
   route_reflector_client        Choices:
   boolean                       • no           Router reflector client.
                                 • yes
                                 Choices:
   safi                          • unicast      Sub Address Family Identifier.
   - / required                  • multicast
                                 • evpn
                                 Choices:
                                 • none
   send_community                • both         send-community attribute.
   -                             • extended
                                 • standard
                                 • default
                                 Choices:
   soft_reconfiguration_in       • enable       Valid values are 'enable' for basic command enablement; 'always' to add the always keyword to the basic command; and 'inherit' to remove the command
   -                             • always       at this level (the command value is inherited from a higher BGP layer).
                                 • inherit
   soo                                          Site-of-origin. Valid values are a string defining a VPN extcommunity or 'default'.
   -
   state                         Choices:
   -                             • present ←    Determines whether the config should be present or not on the device.
                                 • absent
   suppress_inactive             Choices:
   boolean                       • no           suppress-inactive feature.
                                 • yes
   unsuppress_map                               unsuppress-map. Valid values are a string defining a route-map name or 'default'.
   -
   vrf                         Default:         Name of the VRF. The name 'default' is a valid VRF representing the global bgp.
   -                           "default"
   weight                                       Weight value. Valid values are an integer value or 'default'.
   -

NOTES                   *nxos_bgp_neighbor_af-notes*

   Note

     • Tested against NXOSv 7.3.(0)D1(1) on VIRL
     • state=absent removes the whole BGP address-family’s neighbor configuration.
     • Default, when supported, removes properties
     • In order to default maximum-prefix configuration, only max_prefix_limit=default is needed.
     • For information on using CLI and NX-API see the NXOS Platform Options guide
     • For more information on using Ansible to manage network devices see the Ansible Network Guide
     • For more information on using Ansible to manage Cisco devices see the Cisco integration page.

EXAMPLES                   *nxos_bgp_neighbor_af-examples*

 - name: configure RR client
   nxos_bgp_neighbor_af:
     asn: 65535
     neighbor: '192.0.2.3'
     afi: ipv4
     safi: unicast
     route_reflector_client: true
     state: present

RETURN VALUES                   *nxos_bgp_neighbor_af-return values*

   Common return values are documented here, the following are the fields unique to this module:

     Key    Returned                                                                                   Description
   commands          commands sent to the device
   list     always   Sample:
                     ['router bgp 65535', 'neighbor 192.0.2.3', 'address-family ipv4 unicast', 'route-reflector-client']

STATUS                   *nxos_bgp_neighbor_af-status*

     • This module is not guaranteed to have a backwards compatible interface. [preview]
     • This module is maintained by the Ansible Network Team. [network]

RED HAT SUPPORT                   *nxos_bgp_neighbor_af-red hat support*

     • Gabriele Gerbino (@GGabriele)

   Hint

   If you notice any issues in this documentation, you can edit this document to improve it.

   ══════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════

MORE INFO                          *nxos_bgp_neighbor_af-moreinfo*
>
All arguments are omni-completed, but if you really want to see the online docs:
https://docs.ansible.com/ansible/latest/modules/nxos_bgp_neighbor_af_module.html
