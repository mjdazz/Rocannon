SYNOPSIS                   *avi_cloud*

     • This module is used to configure Cloud object
     • more examples at https://github.com/avinetworks/devops

REQUIREMENTS                   *avi_cloud-requirements*

   The below requirements are needed on the host that executes this module.

     • avisdk

PARAMETERS                   *avi_cloud-parameters*

               Parameter             Choices/Defaults                                                                    Comments
   api_context                                        Avi API context that includes current session ID and CSRF Token.
   dictionary                                         This allows user to perform single login and re-use the session.
   added in 2.5
   api_version                       Default:         Avi API version of to use for Avi API and objects.
   string                            "16.4.4"
   apic_configuration                                 Apicconfiguration settings for cloud.
   -
   apic_mode                           Choices:       Boolean flag to set apic_mode.
   boolean                             • no           Default value when not specified in API or module is interpreted by Avi Controller as False.
                                       • yes
   autoscale_polling_interval                         Cloudconnector polling interval for external autoscale groups.
   -                                                  Field introduced in 18.2.2.
   added in 2.9                                       Default value when not specified in API or module is interpreted by Avi Controller as 60.
   avi_api_patch_op                    Choices:
   -                                   • add          Patch operation to use when using avi_api_update_method as patch.
   added in 2.5                        • replace
                                       • delete
   avi_api_update_method               Choices:       Default method for object update is HTTP PUT.
   -                                   • put ←        Setting to patch will override that behavior to use HTTP PATCH.
   added in 2.5                        • patch
   avi_credentials
   dictionary                                         Avi Credentials dictionary which can be used in lieu of enumerating Avi Controller login details.
   added in 2.5
               api_version           Default:         Avi controller version
               -                     "16.4.4"
               controller                             Avi controller IP or SQDN
               -
               csrftoken                              Avi controller API csrftoken to reuse existing session with session id
               -
               password                               Avi controller password
               -
               port                                   Avi controller port
               -
               session_id                             Avi controller API session id to reuse existing session with csrftoken
               -
               tenant                Default:         Avi controller tenant
               -                     "admin"
               tenant_uuid                            Avi controller tenant UUID
               -
               timeout               Default:         Avi controller request timeout
               -                     300
               token                                  Avi controller API token
               -
               username                               Avi controller username
               -
   avi_disable_session_cache_as_fact   Choices:
   boolean                             • no           It disables avi session information to be cached as a fact.
   added in 2.6                        • yes
   aws_configuration                                  Awsconfiguration settings for cloud.
   -
   azure_configuration
   -                                                  Field introduced in 17.2.1.
   added in 2.5
   cloudstack_configuration                           Cloudstackconfiguration settings for cloud.
   -
   controller                        Default:         IP address or hostname of the controller. The default value is the environment variable AVI_CONTROLLER.
   string                            ""
   custom_tags                                        Custom tags for all avi created resources in the cloud infrastructure.
   -                                                  Field introduced in 17.1.5.
   added in 2.5
   dhcp_enabled                        Choices:       Select the ip address management scheme.
   boolean                             • no           Default value when not specified in API or module is interpreted by Avi Controller as False.
                                       • yes
   dns_provider_ref                                   Dns profile for the cloud.
   -                                                  It is a reference to an object of type ipamdnsproviderprofile.
   docker_configuration                               Dockerconfiguration settings for cloud.
   -
   east_west_dns_provider_ref                         Dns profile for east-west services.
   -                                                  It is a reference to an object of type ipamdnsproviderprofile.
                                                      Ipam profile for east-west services.
                                                      Warning - please use virtual subnets in this ipam profile that do not conflict with the underlay networks or any overlay networks in the
   east_west_ipam_provider_ref                        cluster.
   -                                                  For example in aws and gcp, 169.254.0.0/16 is used for storing instance metadata.
                                                      Hence, it should not be used in this profile.
                                                      It is a reference to an object of type ipamdnsproviderprofile.
   enable_vip_static_routes            Choices:       Use static routes for vip side network resolution during virtualservice placement.
   boolean                             • no           Default value when not specified in API or module is interpreted by Avi Controller as False.
                                       • yes
   gcp_configuration                                  Google cloud platform configuration.
   -                                                  Field introduced in 18.2.1.
   added in 2.9
   ip6_autocfg_enabled                 Choices:       Enable ipv6 auto configuration.
   boolean                             • no           Field introduced in 18.1.1.
   added in 2.9                        • yes          Default value when not specified in API or module is interpreted by Avi Controller as False.
   ipam_provider_ref                                  Ipam profile for the cloud.
   -                                                  It is a reference to an object of type ipamdnsproviderprofile.
   license_tier                                       Specifies the default license tier which would be used by new se groups.
   -                                                  This field by default inherits the value from system configuration.
   added in 2.5                                       Enum options - ENTERPRISE_16, ENTERPRISE_18.
                                                      Field introduced in 17.2.5.
   license_type                                       If no license type is specified then default license enforcement for the cloud type is chosen.
   -                                                  The default mappings are container cloud is max ses, openstack and vmware is cores and linux it is sockets.
                                                      Enum options - LIC_BACKEND_SERVERS, LIC_SOCKETS, LIC_CORES, LIC_HOSTS, LIC_SE_BANDWIDTH, LIC_METERED_SE_BANDWIDTH.
   linuxserver_configuration                          Linuxserverconfiguration settings for cloud.
   -
   mesos_configuration                                Field deprecated in 18.2.2.
   -
   mtu                                                Mtu setting for the cloud.
   -                                                  Default value when not specified in API or module is interpreted by Avi Controller as 1500.
   name                                               Name of the object.
   - / required
   nsx_configuration                                  Configuration parameters for nsx manager.
   -                                                  Field introduced in 17.1.1.
   obj_name_prefix                                    Default prefix for all automatically created objects in this cloud.
   -                                                  This prefix can be overridden by the se-group template.
   openstack_configuration                            Openstackconfiguration settings for cloud.
   -
   oshiftk8s_configuration                            Oshiftk8sconfiguration settings for cloud.
   -
   password                          Default:         Password of Avi user in Avi controller. The default value is the environment variable AVI_PASSWORD.
   string                            ""
   prefer_static_routes                Choices:       Prefer static routes over interface routes during virtualservice placement.
   boolean                             • no           Default value when not specified in API or module is interpreted by Avi Controller as False.
                                       • yes
   proxy_configuration                                Proxyconfiguration settings for cloud.
   -
   rancher_configuration                              Rancherconfiguration settings for cloud.
   -
   state                               Choices:
   -                                   • absent       The state that should be applied on the entity.
                                       • present ←
   state_based_dns_registration        Choices:       Dns records for vips are added/deleted based on the operational state of the vips.
   boolean                             • no           Field introduced in 17.1.12.
   added in 2.5                        • yes          Default value when not specified in API or module is interpreted by Avi Controller as True.
   tenant                            Default:         Name of tenant used for all Avi API calls and context of object.
   string                            "admin"
   tenant_ref                                         It is a reference to an object of type tenant.
   -
   tenant_uuid                       Default:         UUID of tenant used for all Avi API calls and context of object.
   string                            ""
   url                                                Avi controller URL of the object.
   -
   username                          Default:         Username used for accessing Avi controller. The default value is the environment variable AVI_USERNAME.
   string                            ""
   uuid                                               Unique object identifier of the object.
   -
   vca_configuration                                  Vcloudairconfiguration settings for cloud.
   -
   vcenter_configuration                              Vcenterconfiguration settings for cloud.
   -
                                                      Cloud type.
   vtype                                              Enum options - CLOUD_NONE, CLOUD_VCENTER, CLOUD_OPENSTACK, CLOUD_AWS, CLOUD_VCA, CLOUD_APIC, CLOUD_MESOS, CLOUD_LINUXSERVER, CLOUD_DOCKER_UCP,
   - / required                                       CLOUD_RANCHER, CLOUD_OSHIFT_K8S, CLOUD_AZURE, CLOUD_GCP.
                                                      Default value when not specified in API or module is interpreted by Avi Controller as CLOUD_NONE.

NOTES                   *avi_cloud-notes*

   Note

     • For more information on using Ansible to manage Avi Network devices see https://www.ansible.com/ansible-avi-networks.

EXAMPLES                   *avi_cloud-examples*

 - name: Create a VMware cloud with write access mode
   avi_cloud:
     username: '{{ username }}'
     controller: '{{ controller }}'
     password: '{{ password }}'
     apic_mode: false
     dhcp_enabled: true
     enable_vip_static_routes: false
     license_type: LIC_CORES
     mtu: 1500
     name: vCenter Cloud
     prefer_static_routes: false
     tenant_ref: admin
     vcenter_configuration:
       datacenter_ref: /api/vimgrdcruntime/datacenter-2-10.10.20.100
       management_network: /api/vimgrnwruntime/dvportgroup-103-10.10.20.100
       password: password
       privilege: WRITE_ACCESS
       username: user
       vcenter_url: 10.10.20.100
     vtype: CLOUD_VCENTER

RETURN VALUES                   *avi_cloud-return values*

   Common return values are documented here, the following are the fields unique to this module:

      Key         Returned                                                                                  Description
   obj        success, changed Cloud (api/cloud) object
   dictionary

STATUS                   *avi_cloud-status*

     • This module is not guaranteed to have a backwards compatible interface. [preview]
     • This module is maintained by the Ansible Community. [community]

     • Gaurav Rastogi (@grastogi23) <grastogi@avinetworks.com>

   Hint

   If you notice any issues in this documentation, you can edit this document to improve it.

   ══════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════

MORE INFO                          *avi_cloud-moreinfo*
>
All arguments are omni-completed, but if you really want to see the online docs:
https://docs.ansible.com/ansible/latest/modules/avi_cloud_module.html
