SYNOPSIS                   *stat*

     • Retrieves facts for a file similar to the Linux/Unix ‘stat’ command.
     • For Windows targets, use the win_stat module instead.

PARAMETERS                   *stat-parameters*

       Parameter      Choices/Defaults                                                                            Comments
                        Choices:
                        • md5          Algorithm to determine checksum of file.
   checksum_algorithm   • sha1 ←       Will throw an error if the host is unable to use specified algorithm.
   string               • sha224       The remote host has to support the hashing method specified, md5 can be unavailable if the host is FIPS-140 compliant.
                        • sha256       aliases: checksum, checksum_algo
                        • sha384
                        • sha512
   follow               Choices:
   boolean              • no ←         Whether to follow symlinks.
                        • yes
   get_attributes       Choices:       Get file attributes using lsattr tool if present.
   boolean              • no           aliases: attr, attributes
                        • yes ←
   get_checksum         Choices:
   boolean              • no           Whether to return a checksum of the file.
                        • yes ←
                        Choices:       Use file magic and return data about the nature of the file. this uses the 'file' utility found on most Linux/Unix systems.
   get_mime             • no           This will add both `mime_type` and 'charset' fields to the return, if possible.
   boolean              • yes ←        In Ansible 2.3 this option changed from 'mime' to 'get_mime' and the default changed to 'Yes'.
                                       aliases: mime, mime_type, mime-type
   path                                The full path of the file/object to get the facts of.
   path / required

SEE ALSO                   *stat-see also*

   See also

   file – Manage files and file properties
   The official documentation on the file module.

   win_stat – Get information about Windows files
   The official documentation on the win_stat module.

EXAMPLES                   *stat-examples*

 # Obtain the stats of /etc/foo.conf, and check that the file still belongs
 # to 'root'. Fail otherwise.
 - stat:
     path: /etc/foo.conf
   register: st
 - fail:
     msg: "Whoops! file ownership has changed"
   when: st.stat.pw_name != 'root'

 # Determine if a path exists and is a symlink. Note that if the path does
 # not exist, and we test sym.stat.islnk, it will fail with an error. So
 # therefore, we must test whether it is defined.
 # Run this to understand the structure, the skipped ones do not pass the
 # check performed by 'when'
 - stat:
     path: /path/to/something
   register: sym

 - debug:
     msg: "islnk isn't defined (path doesn't exist)"
   when: sym.stat.islnk is not defined

 - debug:
     msg: "islnk is defined (path must exist)"
   when: sym.stat.islnk is defined

 - debug:
     msg: "Path exists and is a symlink"
   when: sym.stat.islnk is defined and sym.stat.islnk

 - debug:
     msg: "Path exists and isn't a symlink"
   when: sym.stat.islnk is defined and sym.stat.islnk == False


 # Determine if a path exists and is a directory.  Note that we need to test
 # both that p.stat.isdir actually exists, and also that it's set to true.
 - stat:
     path: /path/to/something
   register: p
 - debug:
     msg: "Path exists and is a directory"
   when: p.stat.isdir is defined and p.stat.isdir

 # Don't do checksum
 - stat:
     path: /path/to/myhugefile
     get_checksum: no

 # Use sha256 to calculate checksum
 - stat:
     path: /path/to/something
     checksum_algorithm: sha256

RETURN VALUES                   *stat-return values*

   Common return values are documented here, the following are the fields unique to this module:

        Key                                            Returned                                                                                 Description
   stat           success                                                                             dictionary containing all the stat data, some platforms might add additional fields
   complex
     atime                                                                                            Time of last access
     float        success, path exists and user can read stats                                        Sample:
                                                                                                      1424348972.575
     attributes                                                                                       list of file attributes
     list         success, path exists and user can execute the path                                  Sample:
     added in 2.3                                                                                     ['immutable', 'extent']
     charset      success, path exists and user can read stats and installed python supports it and   file character set or encoding
     string       the `mime` option was true, will return 'unknown' on error.                         Sample:
                                                                                                      us-ascii
     checksum     success, path exists, user can read stats, path supports hashing and supplied       hash of the path
     string       checksum algorithm is available                                                     Sample:
                                                                                                      50ba294cdf28c0d5bcde25708df53346825a429f
     ctime                                                                                            Time of last metadata update or creation (depends on OS)
     float        success, path exists and user can read stats                                        Sample:
                                                                                                      1424348972.575
     dev                                                                                              Device the inode resides on
     integer      success, path exists and user can read stats                                        Sample:
                                                                                                      33
     executable
     boolean      success, path exists and user can execute the path                                  Tells you if the invoking user has execute permission on the path
     added in 2.2
     exists                                                                                           If the destination path actually exists or not
     boolean      success                                                                             Sample:
                                                                                                      True
     gid                                                                                              Numeric id representing the group of the owner
     integer      success, path exists and user can read stats                                        Sample:
                                                                                                      1003
     gr_name                                                                                          Group name of owner
     string       success, path exists and user can read stats and installed python supports it       Sample:
                                                                                                      www-data
     inode                                                                                            Inode number of the path
     integer      success, path exists and user can read stats                                        Sample:
                                                                                                      12758
     isblk        success, path exists and user can read stats                                        Tells you if the path is a block device
     boolean
     ischr        success, path exists and user can read stats                                        Tells you if the path is a character device
     boolean
     isdir        success, path exists and user can read stats                                        Tells you if the path is a directory
     boolean
     isfifo       success, path exists and user can read stats                                        Tells you if the path is a named pipe
     boolean
     isgid        success, path exists and user can read stats                                        Tells you if the invoking user's group id matches the owner's group id
     boolean
     islnk        success, path exists and user can read stats                                        Tells you if the path is a symbolic link
     boolean
     isreg                                                                                            Tells you if the path is a regular file
     boolean      success, path exists and user can read stats                                        Sample:
                                                                                                      True
     issock       success, path exists and user can read stats                                        Tells you if the path is a unix domain socket
     boolean
     isuid        success, path exists and user can read stats                                        Tells you if the invoking user's id matches the owner's id
     boolean
     lnk_source                                                                                       Target of the symlink normalized for the remote filesystem
     string       success, path exists and user can read stats and the path is a symbolic link        Sample:
                                                                                                      /home/foobar/21102015-1445431274-908472971
     lnk_target                                                                                       Target of the symlink. Note that relative paths remain relative
     string       success, path exists and user can read stats and the path is a symbolic link        Sample:
     added in 2.4                                                                                     ../foobar/21102015-1445431274-908472971
     md5          success, path exists and user can read stats and path supports hashing and md5 is   md5 hash of the path; this will be removed in Ansible 2.9 in favor of the checksum return value
     string       supported                                                                           Sample:
                                                                                                      f88fa92d8cf2eeecf4c0a50ccc96d0c0
     mimetype     success, path exists and user can read stats and installed python supports it and   file magic data or mime-type
     string       the `mime` option was true, will return 'unknown' on error.                         Sample:
                                                                                                      application/pdf; charset=binary
     mode                                                                                             Unix permissions of the file in octal representation as a string
     string       success, path exists and user can read stats                                        Sample:
                                                                                                      1755
     mtime                                                                                            Time of last modification
     float        success, path exists and user can read stats                                        Sample:
                                                                                                      1424348972.575
     nlink                                                                                            Number of links to the inode (hard links)
     integer      success, path exists and user can read stats                                        Sample:
                                                                                                      1
     path                                                                                             The full path of the file/object to get the facts of
     string       success and if path exists                                                          Sample:
                                                                                                      /path/to/file
     pw_name                                                                                          User name of owner
     string       success, path exists and user can read stats and installed python supports it       Sample:
                                                                                                      httpd
     readable
     boolean      success, path exists and user can read the path                                     Tells you if the invoking user has the right to read the path
     added in 2.2
     rgrp                                                                                             Tells you if the owner's group has read permission
     boolean      success, path exists and user can read stats                                        Sample:
                                                                                                      True
     roth                                                                                             Tells you if others have read permission
     boolean      success, path exists and user can read stats                                        Sample:
                                                                                                      True
     rusr                                                                                             Tells you if the owner has read permission
     boolean      success, path exists and user can read stats                                        Sample:
                                                                                                      True
     size                                                                                             Size in bytes for a plain file, amount of data for some special files
     integer      success, path exists and user can read stats                                        Sample:
                                                                                                      203
     uid                                                                                              Numeric id representing the file owner
     integer      success, path exists and user can read stats                                        Sample:
                                                                                                      1003
     wgrp         success, path exists and user can read stats                                        Tells you if the owner's group has write permission
     boolean
     woth         success, path exists and user can read stats                                        Tells you if others have write permission
     boolean
     writeable
     boolean      success, path exists and user can write the path                                    Tells you if the invoking user has the right to write the path
     added in 2.2
     wusr                                                                                             Tells you if the owner has write permission
     boolean      success, path exists and user can read stats                                        Sample:
                                                                                                      True
     xgrp                                                                                             Tells you if the owner's group has execute permission
     boolean      success, path exists and user can read stats                                        Sample:
                                                                                                      True
     xoth                                                                                             Tells you if others have execute permission
     boolean      success, path exists and user can read stats                                        Sample:
                                                                                                      True
     xusr                                                                                             Tells you if the owner has execute permission
     boolean      success, path exists and user can read stats                                        Sample:
                                                                                                      True

STATUS                   *stat-status*

     • This module is guaranteed to have backward compatible interface changes going forward. [stableinterface]
     • This module is maintained by the Ansible Core Team. [core]

RED HAT SUPPORT                   *stat-red hat support*

     • Bruce Pennypacker (@bpennypacker)

   Hint

   If you notice any issues in this documentation, you can edit this document to improve it.

   ══════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════

MORE INFO                          *stat-moreinfo*
>
All arguments are omni-completed, but if you really want to see the online docs:
https://docs.ansible.com/ansible/latest/modules/stat_module.html
