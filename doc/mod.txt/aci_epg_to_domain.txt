SYNOPSIS                   *aci_epg_to_domain*

     • Bind EPGs to Physical and Virtual Domains on Cisco ACI fabrics.

Parameters¶

        Parameter        Choices/Defaults                                                                           Comments
   allow_useg             Choices:          Allows micro-segmentation.
   string                 • encap           The APIC defaults to encap when unset during creation.
                          • useg
   ap                                       Name of an existing application network profile, that will contain the EPGs.
   string                                   aliases: app_profile, app_profile_name
                                            The X.509 certificate name attached to the APIC AAA user used for signature-based authentication.
   certificate_name                         If a private_key filename was provided, this defaults to the private_key basename, without extension.
   string                                   If PEM-formatted content was provided for private_key, this defaults to the username value.
                                            aliases: cert_name
   deploy_immediacy       Choices:          Determines when the policy is pushed to hardware Policy CAM.
   string                 • immediate       The APIC defaults to lazy when unset during creation.
                          • lazy
   domain                                   Name of the physical or virtual domain being associated with the EPG.
   string                                   aliases: domain_name, domain_profile
                          Choices:
   domain_type            • l2dom           Specify whether the Domain is a physical (phys), a virtual (vmm) or an L2 external domain association (l2dom).
   string                 • phys            aliases: type
                          • vmm
   encap                                    The VLAN encapsulation for the EPG when binding a VMM Domain with static encap_mode.
   integer                                  This acts as the secondary encap when using useg.
                                            Accepted values range between 1 and 4096.
                          Choices:          The encapsulation method to be used.
   encap_mode             • auto            The APIC defaults to auto when unset during creation.
   string                 • vlan            If vxlan is selected, switching_mode must be "AVE".
                          • vxlan
   epg                                      Name of the end point group.
   string                                   aliases: epg_name, name
   host                                     IP Address or hostname of APIC resolvable by Ansible control host.
   string / required                        aliases: hostname
   netflow                Choices:          Determines if netflow should be enabled.
   boolean                • no              The APIC defaults to no when unset during creation.
                          • yes
                          Choices:          Influence the output of this ACI module.
   output_level           • debug           normal means the standard output, incl. current dict
   string                 • info            info adds informational output, incl. previous, proposed and sent dicts
                          • normal ←        debug adds debugging output, incl. filter_string, method, response, status and url information
   password                                 The password to use for authentication.
   string / required                        This option is mutual exclusive with private_key. If private_key is provided too, it will be used instead.
   port                                     Port number to be used for REST connection.
   integer                                  The default value depends on parameter use_ssl.
   primary_encap                            Determines the primary VLAN ID when using useg.
   integer                                  Accepted values range between 1 and 4096.
                                            Either a PEM-formatted private key file or the private key content used for signature-based authentication.
   private_key                              This value also influences the default certificate_name that is used.
   string / required                        This option is mutual exclusive with password. If password is provided too, it will be ignored.
                                            aliases: cert_key
                          Choices:
   resolution_immediacy   • immediate       Determines when the policies should be resolved and available.
   string                 • lazy            The APIC defaults to lazy when unset during creation.
                          • pre-provision
                          Choices:
   state                  • absent          Use present or absent for adding or removing.
   string                 • present ←       Use query for listing an object or multiple objects.
                          • query
   switching_mode         Choices:
   string                 • AVE             Switching Mode used by the switch
   added in 2.9           • native ←
   tenant                                   Name of an existing tenant.
   string                                   aliases: tenant_name
   timeout              Default:            The socket level timeout in seconds.
   integer              30
   use_proxy              Choices:
   boolean                • no              If no, it will not use a proxy, even if one is defined in an environment variable on the target hosts.
                          • yes ←
   use_ssl                Choices:
   boolean                • no              If no, an HTTP connection will be used instead of the default HTTPS connection.
                          • yes ←
   username             Default:            The username to use for authentication.
   string               "admin"             aliases: user
   validate_certs         Choices:          If no, SSL certificates will not be validated.
   boolean                • no              This should only set to no when used on personally controlled sites using self-signed certificates.
                          • yes ←
                          Choices:
                          • cloudfoundry
                          • kubernetes      The VM platform for VMM Domains.
   vm_provider            • microsoft       Support for Kubernetes was added in ACI v3.0.
   string                 • openshift       Support for CloudFoundry, OpenShift and Red Hat was added in ACI v3.1.
                          • openstack
                          • redhat
                          • vmware

Notes¶

   Note

     • The tenant, ap, epg, and domain used must exist before using this module in your playbook. The aci_tenant aci_ap, aci_epg aci_domain modules can be used for this.
     • OpenStack VMM domains must not be created using this module. The OpenStack VMM domain is created directly by the Cisco APIC Neutron plugin as part of the installation and configuration. This
       module can be used to query status of an OpenStack VMM domain.

See Also¶

   See also

   aci_ap – Manage top level Application Profile (AP) objects (fv:Ap)
   The official documentation on the aci_ap module.

   aci_epg – Manage End Point Groups (EPG) objects (fv:AEPg)
   The official documentation on the aci_epg module.

   aci_domain – Manage physical, virtual, bridged, routed or FC domain profiles (phys:DomP, vmm:DomP, l2ext:DomP, l3ext:DomP, fc:DomP)
   The official documentation on the aci_domain module.

   APIC Management Information Model reference
   More information about the internal APIC class fv:RsDomAtt.

   Cisco ACI Guide
   Detailed information on how to manage your ACI infrastructure using Ansible.

   Developing Cisco ACI modules
   Detailed guide on how to write your own Cisco ACI modules to contribute.

Examples¶

 - name: Add a new physical domain to EPG binding
   aci_epg_to_domain:
     host: apic
     username: admin
     password: SomeSecretPassword
     tenant: anstest
     ap: anstest
     epg: anstest
     domain: anstest
     domain_type: phys
     state: present
   delegate_to: localhost

 - name: Remove an existing physical domain to EPG binding
   aci_epg_to_domain:
     host: apic
     username: admin
     password: SomeSecretPassword
     tenant: anstest
     ap: anstest
     epg: anstest
     domain: anstest
     domain_type: phys
     state: absent
   delegate_to: localhost

 - name: Query a specific physical domain to EPG binding
   aci_epg_to_domain:
     host: apic
     username: admin
     password: SomeSecretPassword
     tenant: anstest
     ap: anstest
     epg: anstest
     domain: anstest
     domain_type: phys
     state: query
   delegate_to: localhost
   register: query_result

 - name: Query all domain to EPG bindings
   aci_epg_to_domain:
     host: apic
     username: admin
     password: SomeSecretPassword
     state: query
   delegate_to: localhost
   register: query_result

Return Values¶

   Common return values are documented here, the following are the fields unique to this module:

        Key         Returned                                                                                 Description
   current                      The existing configuration from the APIC after the module has finished
   list          success        Sample:
                                [{'fvTenant': {'attributes': {'descr': 'Production environment', 'dn': 'uni/tn-production', 'name': 'production', 'nameAlias': '', 'ownerKey': '', 'ownerTag': ''}}}]
   error                        The error information as returned from the APIC
   dictionary    failure        Sample:
                                {'code': '122', 'text': 'unknown managed object class foo'}
   filter_string failure or     The filter string used for the request
   string        debug          Sample:
                                ?rsp-prop-include=config-only
   method        failure or     The HTTP method used for the request to the APIC
   string        debug          Sample:
                                POST
   previous                     The original configuration from the APIC before the module has started
   list          info           Sample:
                                [{'fvTenant': {'attributes': {'descr': 'Production', 'dn': 'uni/tn-production', 'name': 'production', 'nameAlias': '', 'ownerKey': '', 'ownerTag': ''}}}]
   proposed                     The assembled configuration from the user-provided parameters
   dictionary    info           Sample:
                                {'fvTenant': {'attributes': {'descr': 'Production environment', 'name': 'production'}}}
   raw                          The raw output returned by the APIC REST API (xml or json)
   string        parse error    Sample:
                                <?xml version="1.0" encoding="UTF-8"?><imdata totalCount="1"><error code="122" text="unknown managed object class foo"/></imdata>
   response      failure or     The HTTP response from the APIC
   string        debug          Sample:
                                OK (30 bytes)
   sent                         The actual/minimal configuration pushed to the APIC
   list          info           Sample:
                                {'fvTenant': {'attributes': {'descr': 'Production environment'}}}
   status        failure or     The HTTP status from the APIC
   integer       debug          Sample:
                                200
   url           failure or     The HTTP url used for the request to the APIC
   string        debug          Sample:
                                https://10.11.12.13/api/mo/uni/tn-production.json

Status¶

     • This module is not guaranteed to have a backwards compatible interface. [preview]
     • This module is maintained by an Ansible Partner. [certified]

  Authors¶

     • Jacob McGill (@jmcgill298)

   Hint

   If you notice any issues in this documentation, you can edit this document to improve it.

   ══════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════

REQUIREMENTS                   *aci_epg_to_domain-requirements*

PARAMETERS                   *aci_epg_to_domain-parameters*

        Parameter        Choices/Defaults                                                                           Comments
   allow_useg             Choices:          Allows micro-segmentation.
   string                 • encap           The APIC defaults to encap when unset during creation.
                          • useg
   ap                                       Name of an existing application network profile, that will contain the EPGs.
   string                                   aliases: app_profile, app_profile_name
                                            The X.509 certificate name attached to the APIC AAA user used for signature-based authentication.
   certificate_name                         If a private_key filename was provided, this defaults to the private_key basename, without extension.
   string                                   If PEM-formatted content was provided for private_key, this defaults to the username value.
                                            aliases: cert_name
   deploy_immediacy       Choices:          Determines when the policy is pushed to hardware Policy CAM.
   string                 • immediate       The APIC defaults to lazy when unset during creation.
                          • lazy
   domain                                   Name of the physical or virtual domain being associated with the EPG.
   string                                   aliases: domain_name, domain_profile
                          Choices:
   domain_type            • l2dom           Specify whether the Domain is a physical (phys), a virtual (vmm) or an L2 external domain association (l2dom).
   string                 • phys            aliases: type
                          • vmm
   encap                                    The VLAN encapsulation for the EPG when binding a VMM Domain with static encap_mode.
   integer                                  This acts as the secondary encap when using useg.
                                            Accepted values range between 1 and 4096.
                          Choices:          The encapsulation method to be used.
   encap_mode             • auto            The APIC defaults to auto when unset during creation.
   string                 • vlan            If vxlan is selected, switching_mode must be "AVE".
                          • vxlan
   epg                                      Name of the end point group.
   string                                   aliases: epg_name, name
   host                                     IP Address or hostname of APIC resolvable by Ansible control host.
   string / required                        aliases: hostname
   netflow                Choices:          Determines if netflow should be enabled.
   boolean                • no              The APIC defaults to no when unset during creation.
                          • yes
                          Choices:          Influence the output of this ACI module.
   output_level           • debug           normal means the standard output, incl. current dict
   string                 • info            info adds informational output, incl. previous, proposed and sent dicts
                          • normal ←        debug adds debugging output, incl. filter_string, method, response, status and url information
   password                                 The password to use for authentication.
   string / required                        This option is mutual exclusive with private_key. If private_key is provided too, it will be used instead.
   port                                     Port number to be used for REST connection.
   integer                                  The default value depends on parameter use_ssl.
   primary_encap                            Determines the primary VLAN ID when using useg.
   integer                                  Accepted values range between 1 and 4096.
                                            Either a PEM-formatted private key file or the private key content used for signature-based authentication.
   private_key                              This value also influences the default certificate_name that is used.
   string / required                        This option is mutual exclusive with password. If password is provided too, it will be ignored.
                                            aliases: cert_key
                          Choices:
   resolution_immediacy   • immediate       Determines when the policies should be resolved and available.
   string                 • lazy            The APIC defaults to lazy when unset during creation.
                          • pre-provision
                          Choices:
   state                  • absent          Use present or absent for adding or removing.
   string                 • present ←       Use query for listing an object or multiple objects.
                          • query
   switching_mode         Choices:
   string                 • AVE             Switching Mode used by the switch
   added in 2.9           • native ←
   tenant                                   Name of an existing tenant.
   string                                   aliases: tenant_name
   timeout              Default:            The socket level timeout in seconds.
   integer              30
   use_proxy              Choices:
   boolean                • no              If no, it will not use a proxy, even if one is defined in an environment variable on the target hosts.
                          • yes ←
   use_ssl                Choices:
   boolean                • no              If no, an HTTP connection will be used instead of the default HTTPS connection.
                          • yes ←
   username             Default:            The username to use for authentication.
   string               "admin"             aliases: user
   validate_certs         Choices:          If no, SSL certificates will not be validated.
   boolean                • no              This should only set to no when used on personally controlled sites using self-signed certificates.
                          • yes ←
                          Choices:
                          • cloudfoundry
                          • kubernetes      The VM platform for VMM Domains.
   vm_provider            • microsoft       Support for Kubernetes was added in ACI v3.0.
   string                 • openshift       Support for CloudFoundry, OpenShift and Red Hat was added in ACI v3.1.
                          • openstack
                          • redhat
                          • vmware

NOTES                   *aci_epg_to_domain-notes*

   Note

     • The tenant, ap, epg, and domain used must exist before using this module in your playbook. The aci_tenant aci_ap, aci_epg aci_domain modules can be used for this.
     • OpenStack VMM domains must not be created using this module. The OpenStack VMM domain is created directly by the Cisco APIC Neutron plugin as part of the installation and configuration. This
       module can be used to query status of an OpenStack VMM domain.

See Also¶

   See also

   aci_ap – Manage top level Application Profile (AP) objects (fv:Ap)
   The official documentation on the aci_ap module.

   aci_epg – Manage End Point Groups (EPG) objects (fv:AEPg)
   The official documentation on the aci_epg module.

   aci_domain – Manage physical, virtual, bridged, routed or FC domain profiles (phys:DomP, vmm:DomP, l2ext:DomP, l3ext:DomP, fc:DomP)
   The official documentation on the aci_domain module.

   APIC Management Information Model reference
   More information about the internal APIC class fv:RsDomAtt.

   Cisco ACI Guide
   Detailed information on how to manage your ACI infrastructure using Ansible.

   Developing Cisco ACI modules
   Detailed guide on how to write your own Cisco ACI modules to contribute.

EXAMPLES                   *aci_epg_to_domain-examples*

 - name: Add a new physical domain to EPG binding
   aci_epg_to_domain:
     host: apic
     username: admin
     password: SomeSecretPassword
     tenant: anstest
     ap: anstest
     epg: anstest
     domain: anstest
     domain_type: phys
     state: present
   delegate_to: localhost

 - name: Remove an existing physical domain to EPG binding
   aci_epg_to_domain:
     host: apic
     username: admin
     password: SomeSecretPassword
     tenant: anstest
     ap: anstest
     epg: anstest
     domain: anstest
     domain_type: phys
     state: absent
   delegate_to: localhost

 - name: Query a specific physical domain to EPG binding
   aci_epg_to_domain:
     host: apic
     username: admin
     password: SomeSecretPassword
     tenant: anstest
     ap: anstest
     epg: anstest
     domain: anstest
     domain_type: phys
     state: query
   delegate_to: localhost
   register: query_result

 - name: Query all domain to EPG bindings
   aci_epg_to_domain:
     host: apic
     username: admin
     password: SomeSecretPassword
     state: query
   delegate_to: localhost
   register: query_result

RETURN VALUES                   *aci_epg_to_domain-return values*

   Common return values are documented here, the following are the fields unique to this module:

        Key         Returned                                                                                 Description
   current                      The existing configuration from the APIC after the module has finished
   list          success        Sample:
                                [{'fvTenant': {'attributes': {'descr': 'Production environment', 'dn': 'uni/tn-production', 'name': 'production', 'nameAlias': '', 'ownerKey': '', 'ownerTag': ''}}}]
   error                        The error information as returned from the APIC
   dictionary    failure        Sample:
                                {'code': '122', 'text': 'unknown managed object class foo'}
   filter_string failure or     The filter string used for the request
   string        debug          Sample:
                                ?rsp-prop-include=config-only
   method        failure or     The HTTP method used for the request to the APIC
   string        debug          Sample:
                                POST
   previous                     The original configuration from the APIC before the module has started
   list          info           Sample:
                                [{'fvTenant': {'attributes': {'descr': 'Production', 'dn': 'uni/tn-production', 'name': 'production', 'nameAlias': '', 'ownerKey': '', 'ownerTag': ''}}}]
   proposed                     The assembled configuration from the user-provided parameters
   dictionary    info           Sample:
                                {'fvTenant': {'attributes': {'descr': 'Production environment', 'name': 'production'}}}
   raw                          The raw output returned by the APIC REST API (xml or json)
   string        parse error    Sample:
                                <?xml version="1.0" encoding="UTF-8"?><imdata totalCount="1"><error code="122" text="unknown managed object class foo"/></imdata>
   response      failure or     The HTTP response from the APIC
   string        debug          Sample:
                                OK (30 bytes)
   sent                         The actual/minimal configuration pushed to the APIC
   list          info           Sample:
                                {'fvTenant': {'attributes': {'descr': 'Production environment'}}}
   status        failure or     The HTTP status from the APIC
   integer       debug          Sample:
                                200
   url           failure or     The HTTP url used for the request to the APIC
   string        debug          Sample:
                                https://10.11.12.13/api/mo/uni/tn-production.json

STATUS                   *aci_epg_to_domain-status*

     • This module is not guaranteed to have a backwards compatible interface. [preview]
     • This module is maintained by an Ansible Partner. [certified]

     • Jacob McGill (@jmcgill298)

   Hint

   If you notice any issues in this documentation, you can edit this document to improve it.

   ══════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════

MORE INFO                          *aci_epg_to_domain-moreinfo*
>
All arguments are omni-completed, but if you really want to see the online docs:
https://docs.ansible.com/ansible/latest/modules/aci_epg_to_domain_module.html
