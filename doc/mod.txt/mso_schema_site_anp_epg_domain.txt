SYNOPSIS                   *mso_schema_site_anp_epg_domain*

     • Manage site-local EPG domains in schema template on Cisco ACI Multi-Site.

REQUIREMENTS                   *mso_schema_site_anp_epg_domain-requirements*

   The below requirements are needed on the host that executes this module.

     • Multi Site Orchestrator v2.1 or newer

PARAMETERS                   *mso_schema_site_anp_epg_domain-parameters*

          Parameter           Choices/Defaults                                                                         Comments
   allow_micro_segmentation   Choices:
   boolean                    • no               Specifies microsegmentation is enabled or not. This attribute can only be used with vmmDomain domain association.
                              • yes
   anp                                           The name of the ANP.
   string / required
   deployment_immediacy       Choices:           The deployment immediacy of the domain.
   string                     • immediate        immediate means Deploy immediate.
                              • lazy             lazy means deploy on demand.
                              Choices:
                              • vmmDomain
   domain_association_type    • l3ExtDomain      The type of domain to associate.
   string                     • l2ExtDomain
                              • physicalDomain
                              • fibreChannel
   domain_profile                                The domain profile name.
   string
   enhanced_lagpolicy_dn                         Distinguished name of EPG lagpolicy. This attribute can only be used with vmmDomain domain association.
   string
   enhanced_lagpolicy_name                       EPG enhanced lagpolicy name. This attribute can only be used with vmmDomain domain association.
   string
   epg                                           The name of the EPG.
   string / required
   host                                          IP Address or hostname of the ACI Multi Site Orchestrator host.
   string / required                             aliases: hostname
   micro_seg_vlan                                Virtual LAN for microsegmentation. This attribute can only be used with vmmDomain domain association.
   integer
   micro_seg_vlan_type                           Virtual LAN type for microsegmentation. This attribute can only be used with vmmDomain domain association.
   string
                              Choices:           Influence the output of this ACI module.
   output_level               • debug            normal means the standard output, incl. current dict
   string                     • info             info adds informational output, incl. previous, proposed and sent dicts
                              • normal ←         debug adds debugging output, incl. filter_string, method, response, status and url information
   password                                      The password to use for authentication.
   string / required                             This option is mutual exclusive with private_key. If private_key is provided too, it will be used instead.
   port                                          Port number to be used for the REST connection.
   integer                                       The default value depends on parameter `use_ssl`.
   port_encap_vlan                               Virtual LAN type for port encap. This attribute can only be used with vmmDomain domain association.
   integer
   port_encap_vlan_type                          Virtual LAN type for port encap. This attribute can only be used with vmmDomain domain association.
   string
                              Choices:
   resolution_immediacy       • immediate        Determines when the policies should be resolved and available.
   string                     • lazy             Defaults to lazy when unset during creation.
                              • pre-provision
   schema                                        The name of the schema.
   string / required
   site                                          The name of the site.
   string / required
                              Choices:
   state                      • absent           Use present or absent for adding or removing.
   string                     • present ←        Use query for listing an object or multiple objects.
                              • query
   switch_type                                   Which switch type to use with this domain association. This attribute can only be used with vmmDomain domain association.
   string
   switching_mode                                Which switching mode to use with this domain association. This attribute can only be used with vmmDomain domain association.
   string
   template                                      The name of the template.
   string / required
   timeout                  Default:             The socket level timeout in seconds.
   integer                  30
   use_proxy                  Choices:
   boolean                    • no               If no, it will not use a proxy, even if one is defined in an environment variable on the target hosts.
                              • yes ←
   use_ssl                    Choices:
   boolean                    • no               If no, an HTTP connection will be used instead of the default HTTPS connection.
                              • yes ←
   username                 Default:             The username to use for authentication.
   string                   "admin"
   validate_certs             Choices:           If no, SSL certificates will not be validated.
   boolean                    • no               This should only set to no when used on personally controlled sites using self-signed certificates.
                              • yes ←
   vlan_encap_mode            Choices:
   string                     • static           Which VLAN enacap mode to use. This attribute can only be used with vmmDomain domain association.
                              • dynamic

NOTES                   *mso_schema_site_anp_epg_domain-notes*

   Note

     • The ACI MultiSite PATCH API has a deficiency requiring some objects to be referenced by index. This can cause silent corruption on concurrent access when changing/removing on object as the
       wrong object may be referenced. This module is affected by this deficiency.
     • Please read the Cisco ACI Guide for more detailed information on how to manage your ACI infrastructure using Ansible.
     • This module was written to support ACI Multi Site Orchestrator v2.1 or newer. Some or all functionality may not work on earlier versions.

SEE ALSO                   *mso_schema_site_anp_epg_domain-see also*

   See also

   mso_schema_site_anp_epg – Manage site-local Endpoint Groups (EPGs) in schema template
   The official documentation on the mso_schema_site_anp_epg module.

   mso_schema_template_anp_epg – Manage Endpoint Groups (EPGs) in schema templates
   The official documentation on the mso_schema_template_anp_epg module.

EXAMPLES                   *mso_schema_site_anp_epg_domain-examples*

 - name: Add a new static leaf to a site EPG
   mso_schema_site_anp_epg_domain:
     host: mso_host
     username: admin
     password: SomeSecretPassword
     schema: Schema1
     site: Site1
     template: Template1
     anp: ANP1
     epg: EPG1
     domain_association_type: vmmDomain
     domain_profile: 'VMware-VMM'
     deployment_immediacy: lazy
     resolution_immediacy: pre-provision
     state: present
   delegate_to: localhost

 - name: Remove a static leaf from a site EPG
   mso_schema_site_anp_epg_domain:
     host: mso_host
     username: admin
     password: SomeSecretPassword
     schema: Schema1
     site: Site1
     template: Template1
     anp: ANP1
     epg: EPG1
     domain_association_type: vmmDomain
     domain_profile: 'VMware-VMM'
     deployment_immediacy: lazy
     resolution_immediacy: pre-provision
     state: absent
   delegate_to: localhost

 - name: Query a specific site EPG static leaf
   mso_schema_site_anp_epg_domain:
     host: mso_host
     username: admin
     password: SomeSecretPassword
     schema: Schema1
     site: Site1
     template: Template1
     anp: ANP1
     epg: EPG1
     domain_association_type: vmmDomain
     domain_profile: 'VMware-VMM'
     state: query
   delegate_to: localhost
   register: query_result

 - name: Query all site EPG static leafs
   mso_schema_site_anp_epg_domain:
     host: mso_host
     username: admin
     password: SomeSecretPassword
     schema: Schema1
     site: Site1
     template: Template1
     anp: ANP1
     epg: EPG1
     state: query
   delegate_to: localhost
   register: query_result

STATUS                   *mso_schema_site_anp_epg_domain-status*

     • This module is not guaranteed to have a backwards compatible interface. [preview]
     • This module is maintained by the Ansible Community. [community]

     • Nirav Katarmal (@nkatarmal-crest)

   Hint

   If you notice any issues in this documentation, you can edit this document to improve it.

   ══════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════

MORE INFO                          *mso_schema_site_anp_epg_domain-moreinfo*
>
All arguments are omni-completed, but if you really want to see the online docs:
https://docs.ansible.com/ansible/latest/modules/mso_schema_site_anp_epg_domain_module.html
