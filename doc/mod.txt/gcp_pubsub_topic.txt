SYNOPSIS                   *gcp_pubsub_topic*

     • A named resource to which messages are sent by publishers.

REQUIREMENTS                   *gcp_pubsub_topic-requirements*

   The below requirements are needed on the host that executes this module.

     • python >= 2.6
     • requests >= 2.18.4
     • google-auth >= 1.3.0

PARAMETERS                   *gcp_pubsub_topic-parameters*

            Parameter            Choices/Defaults                                                                       Comments
                                  Choices:
   auth_kind                      • application    The type of credential used.
   string / required              • machineaccount
                                  • serviceaccount
   env_type                                        Specifies which Ansible environment you're running this module within.
   string                                          This should not be set unless you know what you're doing.
                                                   This only alters the User Agent string for any API requests.
   kms_key_name                                    The resource name of the Cloud KMS CryptoKey to be used to protect access to messages published on this topic. Your project's PubSub service
   string                                          account (`service-{{PROJECT_NUMBER}}@gcp-sa-pubsub.iam.gserviceaccount.com`) must have `roles/cloudkms.cryptoKeyEncrypterDecrypter` to use this
   added in 2.9                                    feature.
                                                   The expected format is `projects/"/locations/"/keyRings/"/cryptoKeys/"` .
   labels
   dictionary                                      A set of key/value label pairs to assign to this Topic.
   added in 2.8
   message_storage_policy                          Policy constraining the set of Google Cloud Platform regions where messages published to the topic may be stored. If not present, then no
   dictionary                                      constraints are in effect.
   added in 2.9
    allowed_persistence_regions                    A list of IDs of GCP regions where messages that are published to the topic may be persisted in storage. Messages published by publishers running
    list / required                                in non-allowed GCP regions (or running outside of GCP altogether) will be routed for storage in one of the allowed regions. An empty list means
                                                   that no regions are allowed, and is not a valid configuration.
   name                                            Name of the topic.
   string / required
   project                                         The Google Cloud Platform project to use.
   string
   scopes                                          Array of scopes to be used.
   list
   service_account_contents                        The contents of a Service Account JSON file, either in a dictionary or as a JSON string that represents it.
   jsonarg
   service_account_email                           An optional service account email address if machineaccount is selected and the user does not wish to use the default email.
   string
   service_account_file                            The path of a Service Account JSON file if serviceaccount is selected as type.
   path
   state                          Choices:
   string                         • present ←      Whether the given object should exist in GCP
                                  • absent

NOTES                   *gcp_pubsub_topic-notes*

   Note

     • API Reference: https://cloud.google.com/pubsub/docs/reference/rest/v1/projects.topics
     • Managing Topics: https://cloud.google.com/pubsub/docs/admin#managing_topics
     • for authentication, you can set service_account_file using the c(gcp_service_account_file) env variable.
     • for authentication, you can set service_account_contents using the c(GCP_SERVICE_ACCOUNT_CONTENTS) env variable.
     • For authentication, you can set service_account_email using the GCP_SERVICE_ACCOUNT_EMAIL env variable.
     • For authentication, you can set auth_kind using the GCP_AUTH_KIND env variable.
     • For authentication, you can set scopes using the GCP_SCOPES env variable.
     • Environment variables values will only be used if the playbook values are not set.
     • The service_account_email and service_account_file options are mutually exclusive.

EXAMPLES                   *gcp_pubsub_topic-examples*

 - name: create a topic
   gcp_pubsub_topic:
     name: test-topic1
     project: test_project
     auth_kind: serviceaccount
     service_account_file: "/tmp/auth.pem"
     state: present

RETURN VALUES                   *gcp_pubsub_topic-return values*

   Common return values are documented here, the following are the fields unique to this module:

               Key             Returned                                                                          Description
   kmsKeyName                           The resource name of the Cloud KMS CryptoKey to be used to protect access to messages published on this topic. Your project's PubSub service account
   string                      success  (`service-{{PROJECT_NUMBER}}@gcp-sa-pubsub.iam.gserviceaccount.com`) must have `roles/cloudkms.cryptoKeyEncrypterDecrypter` to use this feature.
                                        The expected format is `projects/"/locations/"/keyRings/"/cryptoKeys/"` .
   labels                      success  A set of key/value label pairs to assign to this Topic.
   dictionary
   messageStoragePolicy        success  Policy constraining the set of Google Cloud Platform regions where messages published to the topic may be stored. If not present, then no constraints are in
   complex                              effect.
     allowedPersistenceRegions          A list of IDs of GCP regions where messages that are published to the topic may be persisted in storage. Messages published by publishers running in
     list                      success  non-allowed GCP regions (or running outside of GCP altogether) will be routed for storage in one of the allowed regions. An empty list means that no regions
                                        are allowed, and is not a valid configuration.
   name                        success  Name of the topic.
   string

STATUS                   *gcp_pubsub_topic-status*

     • This module is not guaranteed to have a backwards compatible interface. [preview]
     • This module is maintained by the Ansible Community. [community]

     • Google Inc. (@googlecloudplatform)

   Hint

   If you notice any issues in this documentation, you can edit this document to improve it.

   ══════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════

MORE INFO                          *gcp_pubsub_topic-moreinfo*
>
All arguments are omni-completed, but if you really want to see the online docs:
https://docs.ansible.com/ansible/latest/modules/gcp_pubsub_topic_module.html
