SYNOPSIS                   *icx_vlan*

     • This module provides declarative management of VLANs on ICX network devices.

PARAMETERS                   *icx_vlan-parameters*

         Parameter        Choices/Defaults                                                                          Comments
   aggregate                               List of VLANs definitions.
   list
    associated_interfaces                  This is a intent option and checks the operational state of the for given vlan name for associated interfaces. If the value in the associated_interfaces
    list                                   does not match with the operational state of vlan interfaces on device it will result in failure.
    associated_tagged                      This is a intent option and checks the operational state of given vlan name for associated tagged ports and lags. If the value in the associated_tagged
    list                                   does not match with the operational state of vlan interfaces on device it will result in failure.
    check_running_config    Choices:       Check running configuration. This can be set as environment variable. Module will use environment variable value(default:True), unless it is overridden,
    boolean                 • no           by specifying it as module parameter.
                            • yes
    delay                                  Delay the play should wait to check for declarative intent params values.
    integer
    interfaces                             List of ethernet ports or LAGS to be added as access(untagged) ports to the vlan. To add a range of ports use 'to' keyword. See the example.
    dictionary
           name                            Name of the interface or lag
           list
           purge            Choices:
           boolean          • no           Purge interfaces not defined in the name
                            • yes
    ip_arp_inspection       Choices:
    boolean                 • no           Enables dynamic ARP inspection on a VLAN.
                            • yes
    ip_dhcp_snooping        Choices:
    boolean                 • no           Enables DHCP snooping on a VLAN.
                            • yes
    name                                   Name of the VLAN.
    string
    state                   Choices:
    string                  • present      State of the VLAN configuration.
                            • absent
    stp                                    Enable spanning-tree 802-1w/rstp for this vlan.
    dictionary
           enabled          Choices:
           boolean          • no           Manage the state(Enable/Disable) of the spanning_tree_802_1w in the current vlan
                            • yes
           priority                        Configures the priority of the bridge. The value ranges from 0 through 65535. A lower numerical value means the bridge has a higher priority. Thus, the
           string                          highest priority is 0. The default is 32768.
           type             Choices:
           string           • 802-1w ←     Specify the type of spanning-tree
                            • rstp
    tagged                                 List of ethernet ports or LAGS to be added as trunk(tagged) ports to the vlan. To add a range of ports use 'to' keyword. See the example.
    dictionary
           name                            Name of the interface or lag
           list
           purge            Choices:
           boolean          • no           Purge interfaces not defined in the name
                            • yes
    vlan_id                                ID of the VLAN. Range 1-4094.
    string / required
   associated_interfaces                   This is a intent option and checks the operational state of the for given vlan name for associated interfaces. If the value in the associated_interfaces
   list                                    does not match with the operational state of vlan interfaces on device it will result in failure.
   associated_tagged                       This is a intent option and checks the operational state of given vlan name for associated tagged ports and lags. If the value in the associated_tagged
   list                                    does not match with the operational state of vlan interfaces on device it will result in failure.
   check_running_config     Choices:       Check running configuration. This can be set as environment variable. Module will use environment variable value(default:True), unless it is overridden,
   boolean                  • no           by specifying it as module parameter.
                            • yes ←
   delay                  Default:         Delay the play should wait to check for declarative intent params values.
   integer                10
   interfaces                              List of ethernet ports or LAGS to be added as access(untagged) ports to the vlan. To add a range of ports use 'to' keyword. See the example.
   dictionary
    name                                   Name of the interface or lag
    list
    purge                   Choices:
    boolean                 • no           Purge interfaces not defined in the name
                            • yes
   ip_arp_inspection        Choices:
   boolean                  • no           Enables dynamic ARP inspection on a VLAN.
                            • yes
   ip_dhcp_snooping         Choices:
   boolean                  • no           Enables DHCP snooping on a VLAN.
                            • yes
   name                                    Name of the VLAN.
   string
   purge                    Choices:
   boolean                  • no ←         Purge VLANs not defined in the aggregate parameter.
                            • yes
   state                    Choices:
   string                   • present ←    State of the VLAN configuration.
                            • absent
   stp                                     Enable spanning-tree 802-1w/rstp for this vlan.
   dictionary
    enabled                 Choices:
    boolean                 • no           Manage the state(Enable/Disable) of the spanning_tree_802_1w in the current vlan
                            • yes
    priority                               Configures the priority of the bridge. The value ranges from 0 through 65535. A lower numerical value means the bridge has a higher priority. Thus, the
    string                                 highest priority is 0. The default is 32768.
    type                    Choices:
    string                  • 802-1w ←     Specify the type of spanning-tree
                            • rstp
   tagged                                  List of ethernet ports or LAGS to be added as trunk(tagged) ports to the vlan. To add a range of ports use 'to' keyword. See the example.
   dictionary
    name                                   Name of the interface or lag
    list
    purge                   Choices:
    boolean                 • no           Purge interfaces not defined in the name
                            • yes
   vlan_id                                 ID of the VLAN. Range 1-4094.
   integer / required

NOTES                   *icx_vlan-notes*

   Note

     • Tested against ICX 10.1.
     • For information on using ICX platform, see the ICX OS Platform Options guide.

EXAMPLES                   *icx_vlan-examples*

 - name: Add a single ethernet 1/1/48 as access(untagged) port to vlan 20
   icx_vlan:
     name: test-vlan
     vlan_id: 20
     interfaces:
       name:
         - ethernet 1/1/48

 - name: Add a single LAG 10 as access(untagged) port to vlan 20
   icx_vlan:
     vlan_id: 20
     interfaces:
       name:
         - lag 10

 - name: Add a range of ethernet ports as trunk(tagged) ports to vlan 20 by port
   icx_vlan:
     vlan_id: 20
     tagged:
       name:
         - ethernet 1/1/40 to 1/1/48

 - name: Add discontinuous lags, ethernet ports as access(untagged) and trunk(tagged) port to vlan 20.
   icx_vlan:
     vlan_id: 20
     interfaces:
       name:
         - ethernet 1/1/40 to 1/1/48
         - ethernet 2/1/1
         - lag 1
         - lag 3 to 5
     tagged:
       name:
         - ethernet 1/1/20 to 1/1/25
         - lag 1 to 3

 - name: Remove an access and range of trunk ports from vlan
   icx_vlan:
     vlan_id: 20
     interfaces:
       name:
         - ethernet 1/1/40
     tagged:
       name:
         - ethernet 1/1/39 to 1/1/70

 - name: Enable dhcp snooping, disable arp inspection in vlan
   icx_vlan:
     vlan_id: 20
     ip_dhcp_snooping: present
     ip_arp_inspection: absent

 - name: Create vlan 20.  Enable  arp inspection in vlan. Purge all other vlans.
   icx_vlan:
     vlan_id: 20
     ip_arp_inspection: present
     purge: present

 - name: Remove vlan 20.
   icx_vlan:
     vlan_id: 20
     state: absent

RETURN VALUES                   *icx_vlan-return values*

   Common return values are documented here, the following are the fields unique to this module:

     Key    Returned                                                                                   Description
   commands          The list of configuration mode commands to send to the device
   list     always   Sample:
                     ['vlan 100', 'name test-vlan']

STATUS                   *icx_vlan-status*

     • This module is not guaranteed to have a backwards compatible interface. [preview]
     • This module is maintained by the Ansible Community. [community]

     • Ruckus Wireless (@Commscope)

   Hint

   If you notice any issues in this documentation, you can edit this document to improve it.

   ══════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════

MORE INFO                          *icx_vlan-moreinfo*
>
All arguments are omni-completed, but if you really want to see the online docs:
https://docs.ansible.com/ansible/latest/modules/icx_vlan_module.html
