SYNOPSIS                   *influxdb_query*

     • Query data points from InfluxDB.

REQUIREMENTS                   *influxdb_query-requirements*

   The below requirements are needed on the host that executes this module.

     • python >= 2.6
     • influxdb >= 0.9

PARAMETERS                   *influxdb_query-parameters*

       Parameter     Choices/Defaults                                                                            Comments
   database_name                      Name of the database.
   string / required
   hostname          Default:         The hostname or IP address on which InfluxDB server is listening.
   string            "localhost"      Since Ansible 2.5, defaulted to localhost.
   password          Default:         Password that will be used to authenticate against InfluxDB server.
   string            "root"           Alias login_password added in Ansible 2.5.
                                      aliases: login_password
   port              Default:         The port on which InfluxDB server is listening
   integer           8086
   proxies
   dictionary                         HTTP(S) proxy to use for Requests to connect to InfluxDB server.
   added in 2.5
   query                              Query to be executed.
   string / required
   retries           Default:         Number of retries client will try before aborting.
   integer           3                0 indicates try until success.
   added in 2.5
   ssl                 Choices:
   boolean             • no           Use https instead of http to connect to InfluxDB server.
   added in 2.5        • yes
   timeout
   integer                            Number of seconds Requests will wait for client to establish a connection.
   added in 2.5
   udp_port          Default:
   integer           4444             UDP port to connect to InfluxDB server.
   added in 2.5
   use_udp             Choices:
   boolean             • no           Use UDP to connect to InfluxDB server.
   added in 2.5        • yes
   username          Default:         Username that will be used to authenticate against InfluxDB server.
   string            "root"           Alias login_username added in Ansible 2.5.
                                      aliases: login_username
   validate_certs      Choices:       If set to no, the SSL certificates will not be validated.
   boolean             • no           This should only set to no used on personally controlled sites using self-signed certificates.
   added in 2.5        • yes ←

EXAMPLES                   *influxdb_query-examples*

 - name: Query connections
   influxdb_query:
     hostname: "{{ influxdb_ip_address }}"
     database_name: "{{ influxdb_database_name }}"
     query: "select mean(value) from connections"
   register: connection

 - name: Query connections with tags filters
   influxdb_query:
     hostname: "{{ influxdb_ip_address }}"
     database_name: "{{ influxdb_database_name }}"
     query: "select mean(value) from connections where region='zue01' and host='server01'"
   register: connection

 - name: Print results from the query
   debug:
     var: connection.query_results

RETURN VALUES                   *influxdb_query-return values*

   Common return values are documented here, the following are the fields unique to this module:

        Key      Returned                                                                                 Description
   query_results          Result from the query
   list          success  Sample:
                          [{'mean': 1245.5333333333333, 'time': '1970-01-01T00:00:00Z'}]

STATUS                   *influxdb_query-status*

     • This module is not guaranteed to have a backwards compatible interface. [preview]
     • This module is maintained by the Ansible Community. [community]

     • René Moser (@resmo)

   Hint

   If you notice any issues in this documentation, you can edit this document to improve it.

   ══════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════

MORE INFO                          *influxdb_query-moreinfo*
>
All arguments are omni-completed, but if you really want to see the online docs:
https://docs.ansible.com/ansible/latest/modules/influxdb_query_module.html
