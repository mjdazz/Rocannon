SYNOPSIS                   *udm_share*

     • This module allows to manage samba shares on a univention corporate server (UCS). It uses the python API of the UCS to create a new object or edit it.

REQUIREMENTS                   *udm_share-requirements*

   The below requirements are needed on the host that executes this module.

     • Python >= 2.6

PARAMETERS                   *udm_share-parameters*

                Parameter              Choices/Defaults                                                                   Comments
   directorymode                       Default:         Permissions for the share's root directory.
   -                                   "00755"
   group                               Default:         Directory owner group of the share's root directory.
   -                                   "0"
   host                                                 Host FQDN (server which provides the share), e.g. {{ ansible_fqdn }}. Required if state=present.
   -
   name                                                 Name
   - / required
   nfs_custom_settings                 Default:         Option name in exports file.
   -                                   []               aliases: nfsCustomSettings
   nfs_hosts                           Default:         Only allow access for this host, IP address or network.
   -                                   []
   ou                                                   Organisational unit, inside the LDAP Base DN.
   - / required
   owner                               Default:         Directory owner of the share's root directory.
   -                                   0
   path                                                 Directory on the providing server, e.g. /home. Required if state=present.
   -
   root_squash                           Choices:
   -                                     • 0            Modify user ID for root user (root squashing).
                                         • 1 ←
   samba_block_size                                     Blocking size.
   -                                                    aliases: sambaBlockSize
   samba_blocking_locks                  Choices:       Blocking locks.
   -                                     • 0            aliases: sambaBlockingLocks
                                         • 1 ←
   samba_browseable                      Choices:       Show in Windows network environment.
   -                                     • 0            aliases: sambaBrowseable
                                         • 1 ←
   samba_create_mode                   Default:         File mode.
   -                                   "0744"           aliases: sambaCreateMode
   samba_csc_policy                    Default:         Client-side caching policy.
   -                                   "manual"         aliases: sambaCscPolicy
   samba_custom_settings               Default:         Option name in smb.conf and its value.
   -                                   []               aliases: sambaCustomSettings
   samba_directory_mode                Default:         Directory mode.
   -                                   "0755"           aliases: sambaDirectoryMode
   samba_directory_security_mode       Default:         Directory security mode.
   -                                   "0777"           aliases: sambaDirectorySecurityMode
   samba_dos_filemode                    Choices:       Users with write access may modify permissions.
   -                                     • 0 ←          aliases: sambaDosFilemode
                                         • 1
   samba_fake_oplocks                    Choices:       Fake oplocks.
   -                                     • 0 ←          aliases: sambaFakeOplocks
                                         • 1
   samba_force_create_mode               Choices:       Force file mode.
   -                                     • 0 ←          aliases: sambaForceCreateMode
                                         • 1
   samba_force_directory_mode            Choices:       Force directory mode.
   -                                     • 0 ←          aliases: sambaForceDirectoryMode
                                         • 1
   samba_force_directory_security_mode   Choices:       Force directory security mode.
   -                                     • 0 ←          aliases: sambaForceDirectorySecurityMode
                                         • 1
   samba_force_group                                    Force group.
   -                                                    aliases: sambaForceGroup
   samba_force_security_mode             Choices:       Force security mode.
   -                                     • 0 ←          aliases: sambaForceSecurityMode
                                         • 1
   samba_force_user                                     Force user.
   -                                                    aliases: sambaForceUser
   samba_hide_files                                     Hide files.
   -                                                    aliases: sambaHideFiles
   samba_hide_unreadable                 Choices:       Hide unreadable files/directories.
   -                                     • 0 ←          aliases: sambaHideUnreadable
                                         • 1
   samba_hosts_allow                   Default:         Allowed host/network.
   -                                   []               aliases: sambaHostsAllow
   samba_hosts_deny                    Default:         Denied host/network.
   -                                   []               aliases: sambaHostsDeny
   samba_inherit_acls                    Choices:       Inherit ACLs.
   -                                     • 0            aliases: sambaInheritAcls
                                         • 1 ←
   samba_inherit_owner                   Choices:       Create files/directories with the owner of the parent directory.
   -                                     • 0 ←          aliases: sambaInheritOwner
                                         • 1
   samba_inherit_permissions             Choices:       Create files/directories with permissions of the parent directory.
   -                                     • 0 ←          aliases: sambaInheritPermissions
                                         • 1
   samba_invalid_users                                  Invalid users or groups.
   -                                                    aliases: sambaInvalidUsers
   samba_level_2_oplocks                 Choices:       Level 2 oplocks.
   -                                     • 0            aliases: sambaLevel2Oplocks
                                         • 1 ←
   samba_locking                         Choices:       Locking.
   -                                     • 0            aliases: sambaLocking
                                         • 1 ←
   samba_msdfs_root                      Choices:       MSDFS root.
   -                                     • 0 ←          aliases: sambaMSDFSRoot
                                         • 1
   samba_name                                           Windows name. Required if state=present.
   -                                                    aliases: sambaName
   samba_nt_acl_support                  Choices:       NT ACL support.
   -                                     • 0            aliases: sambaNtAclSupport
                                         • 1 ←
   samba_oplocks                         Choices:       Oplocks.
   -                                     • 0            aliases: sambaOplocks
                                         • 1 ←
   samba_postexec                                       Postexec script.
   -                                                    aliases: sambaPostexec
   samba_preexec                                        Preexec script.
   -                                                    aliases: sambaPreexec
   samba_public                          Choices:       Allow anonymous read-only access with a guest user.
   -                                     • 0 ←          aliases: sambaPublic
                                         • 1
   samba_security_mode                 Default:         Security mode.
   -                                   "0777"           aliases: sambaSecurityMode
   samba_strict_locking                Default:         Strict locking.
   -                                   "Auto"           aliases: sambaStrictLocking
   samba_valid_users                                    Valid users or groups.
   -                                                    aliases: sambaValidUsers
   samba_vfs_objects                                    VFS objects.
   -                                                    aliases: sambaVFSObjects
   samba_write_list                                     Restrict write access to these users/groups.
   -                                                    aliases: sambaWriteList
   samba_writeable                       Choices:       Samba write access.
   -                                     • 0            aliases: sambaWriteable
                                         • 1 ←
   state                                 Choices:
   -                                     • present ←    Whether the share is present or not.
                                         • absent
   subtree_checking                      Choices:
   -                                     • 0            Subtree checking.
                                         • 1 ←
   sync                                Default:         NFS synchronisation.
   -                                   "sync"
   writeable                             Choices:
   -                                     • 0            NFS write access.
                                         • 1 ←

EXAMPLES                   *udm_share-examples*

 # Create a share named home on the server ucs.example.com with the path /home.
 - udm_share:
     name: home
     path: /home
     host: ucs.example.com
     sambaName: Home

STATUS                   *udm_share-status*

     • This module is not guaranteed to have a backwards compatible interface. [preview]
     • This module is maintained by the Ansible Community. [community]

     • Tobias Rüetschi (@keachi)

   Hint

   If you notice any issues in this documentation, you can edit this document to improve it.

   ══════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════

MORE INFO                          *udm_share-moreinfo*
>
All arguments are omni-completed, but if you really want to see the online docs:
https://docs.ansible.com/ansible/latest/modules/udm_share_module.html
