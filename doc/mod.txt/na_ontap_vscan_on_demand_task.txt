SYNOPSIS                   *na_ontap_vscan_on_demand_task*

     • Configure on demand task for Vscan

REQUIREMENTS                   *na_ontap_vscan_on_demand_task-requirements*

   The below requirements are needed on the host that executes this module.

     • A physical or virtual clustered Data ONTAP system. The modules support Data ONTAP 9.1 and onward
     • Ansible 2.6
     • Python2 netapp-lib (2017.10.30) or later. Install using ‘pip install netapp-lib’
     • Python3 netapp-lib (2018.11.13) or later. Install using ‘pip install netapp-lib’
     • To enable http on the cluster you must run the following commands ‘set -privilege advanced;’ ‘system services web modify -http-enabled true;’

PARAMETERS                   *na_ontap_vscan_on_demand_task-parameters*

         Parameter        Choices/Defaults                                                                          Comments
   cross_junction           Choices:
   boolean                  • no ←         Specifies whether the On-Demand task is allowed to cross volume junctions
                            • yes
   directory_recursion      Choices:
   boolean                  • no ←         Specifies whether the On-Demand task is allowed to recursively scan through sub-directories.
                            • yes
   file_ext_to_exclude                     File-Extensions for which scanning must not be performed.
   list                                    File whose extension matches with both inclusion and exclusion list is not considered for scanning.
   file_ext_to_include                     File extensions for which scanning is considered.
   list                                    The default value is '"', which means that all files are considered for scanning except those which are excluded from scanning.
                                           File whose extension matches with both inclusion and exclusion list is not considered for scanning.
   hostname                                The hostname or IP address of the ONTAP instance.
   string / required
   http_port                               Override the default port (80 or 443) with this port
   integer
   https                    Choices:
   boolean                  • no ←         Enable and disable https
                            • yes
   max_file_size                           Max file-size (in bytes) allowed for scanning. The default value of 10737418240 (10GB) is taken if not provided at the time of creating a task.
   -
   ontapi                                  The ontap api version to use
   integer
   password                                Password for the specified user.
   string / required                       aliases: pass
   paths_to_exclude                        File-paths for which scanning must not be performed.
   list
   report_directory                        Path from the vserver root where task report is created. The path must be a directory and provided in unix-format from the root of the Vserver.
   -                                       Example /vol1/on-demand-reports.
                            Choices:
   report_log_level         • verbose      Log level for the On-Demand report.
   -                        • info
                            • error ←
   request_timeout                         Total request-service time-limit in seconds. If the virus-scanner does not respond within the provided time, scan will be timed out.
   -
   scan_files_with_no_ext   Choices:
   boolean                  • no           Specifies whether files without any extension are considered for scanning or not.
                            • yes ←
   scan_paths                              List of paths that need to be scanned. The path must be provided in unix-format and from the root of the Vserver.
   list                                    Example /vol1/large_files.
   scan_priority            Choices:
   -                        • low ←        Priority of the On-Demand scan requests generated by this task.
                            • normal
   schedule                                Schedule of the task. The task will be run as per the schedule.
   -                                       For running the task immediately, vscan-on-demand-task-run api must be used after creating a task.
   state                    Choices:
   -                        • present ←    Whether a Vscan on demand task is present or not
                            • absent
   task_name                               Name of the task.
   - / required
                            Choices:       REST API if supported by the target system for all the resources and attributes the module requires. Otherwise will revert to ZAPI.
   use_rest                 • Never        Always -- will always use the REST API
   string                   • Always       Never -- will always use the ZAPI
                            • Auto ←       Auto -- will try to use the REST Api
   username                                This can be a Cluster-scoped or SVM-scoped account, depending on whether a Cluster-level or SVM-level API is required. For more information, please read
   string / required                       the documentation https://mysupport.netapp.com/NOW/download/software/nmsdk/9.4/.
                                           aliases: user
   validate_certs           Choices:       If set to no, the SSL certificates will not be validated.
   boolean                  • no           This should only set to False used on personally controlled sites using self-signed certificates.
                            • yes ←
   vserver                                 the name of the data vserver to use.
   - / required

NOTES                   *na_ontap_vscan_on_demand_task-notes*

   Note

     • The modules prefixed with na\_ontap are built to support the ONTAP storage platform.

EXAMPLES                   *na_ontap_vscan_on_demand_task-examples*

 - name: Create Vscan On Demand Task
   na_ontap_vscan_on_demand_task:
     state: present
     username: '{{ netapp_username }}'
     password: '{{ netapp_password }}'
     hostname: '{{ netapp_hostname }}'
     vserver: carchi-vsim2
     task_name: carchiOnDemand
     scan_paths: /
     report_directory: /
     file_ext_to_exclude: ['py', 'yml']
     max_file_size: 10737418241
     paths_to_exclude: ['/tmp', '/var']
     report_log_level: info
     request_timeout: 60

 - name: Delete Vscan On Demand Task
   na_ontap_vscan_on_demand_task:
     state: absent
     username: '{{ netapp_username }}'
     password: '{{ netapp_password }}'
     hostname: '{{ netapp_hostname }}'
     vserver: carchi-vsim2
     task_name: carchiOnDemand

STATUS                   *na_ontap_vscan_on_demand_task-status*

     • This module is not guaranteed to have a backwards compatible interface. [preview]
     • This module is maintained by an Ansible Partner. [certified]

     • NetApp Ansible Team (@carchi8py) <ng-ansibleteam@netapp.com>

   Hint

   If you notice any issues in this documentation, you can edit this document to improve it.

   ══════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════

MORE INFO                          *na_ontap_vscan_on_demand_task-moreinfo*
>
All arguments are omni-completed, but if you really want to see the online docs:
https://docs.ansible.com/ansible/latest/modules/na_ontap_vscan_on_demand_task_module.html
