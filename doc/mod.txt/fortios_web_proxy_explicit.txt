SYNOPSIS                   *fortios_web_proxy_explicit*

     • This module is able to configure a FortiGate or FortiOS (FOS) device by allowing the user to set and modify web_proxy feature and explicit category. Examples include all parameters and
       values need to be adjusted to datasources before usage. Tested with FOS v6.0.5

REQUIREMENTS                   *fortios_web_proxy_explicit-requirements*

   The below requirements are needed on the host that executes this module.

     • fortiosapi>=0.9.8

PARAMETERS                   *fortios_web_proxy_explicit-parameters*

            Parameter           Choices/Defaults                                                                       Comments
   host                                           FortiOS or FortiGate IP address.
   string
   https                          Choices:
   boolean                        • no            Indicates if the requests towards FortiGate must use HTTPS protocol.
                                  • yes ←
   password                     Default:          FortiOS or FortiGate password.
   string                       ""
   ssl_verify                     Choices:
   boolean                        • no            Ensures FortiGate certificate must be verified by a proper CA.
   added in 2.9                   • yes ←
   username                                       FortiOS or FortiGate username.
   string
   vdom                         Default:          Virtual domain, among those defined previously. A vdom is a virtual instance of the FortiGate that can be configured and used as a different unit.
   string                       "root"
   web_proxy_explicit           Default:          Configure explicit Web proxy settings.
   dictionary                   null
    ftp_incoming_port                             Accept incoming FTP-over-HTTP requests on one or more ports (0 - 65535).
    string
    ftp_over_http                 Choices:
    string                        • enable        Enable to proxy FTP-over-HTTP sessions sent from a web browser.
                                  • disable
    http_incoming_port                            Accept incoming HTTP requests on one or more ports (0 - 65535).
    string
    https_incoming_port                           Accept incoming HTTPS requests on one or more ports (0 - 65535).
    string
    https_replacement_message     Choices:
    string                        • enable        Enable/disable sending the client a replacement message for HTTPS requests.
                                  • disable
    incoming_ip                                   Restrict the explicit HTTP proxy to only accept sessions from this IP address. An interface must have this IP address.
    string
    incoming_ip6                                  Restrict the explicit web proxy to only accept sessions from this IPv6 address. An interface must have this IPv6 address.
    string
    ipv6_status                   Choices:
    string                        • enable        Enable/disable allowing an IPv6 web proxy destination in policies and all IPv6 related entries in this command.
                                  • disable
    message_upon_server_error     Choices:
    string                        • enable        Enable/disable displaying a replacement message when a server error is detected.
                                  • disable
    outgoing_ip                                   Outgoing HTTP requests will have this IP address as their source address. An interface must have this IP address.
    string
    outgoing_ip6                                  Outgoing HTTP requests will leave this IPv6. Multiple interfaces can be specified. Interfaces must have these IPv6 addresses.
    string
    pac_file_data                                 PAC file contents enclosed in quotes (maximum of 256K bytes).
    string
    pac_file_name                                 Pac file name.
    string
    pac_file_server_port                          Port number that PAC traffic from client web browsers uses to connect to the explicit web proxy (0 - 65535).
    string
    pac_file_server_status        Choices:
    string                        • enable        Enable/disable Proxy Auto-Configuration (PAC) for users of this explicit proxy profile.
                                  • disable
    pac_file_url                                  PAC file access URL.
    string
    pac_policy                                    PAC policies.
    list
          comments                                Optional comments.
          string
          dstaddr                                 Destination address objects.
          list
              name                                Address name. Source firewall.address.name firewall.addrgrp.name.
              string / required
          pac_file_data                           PAC file contents enclosed in quotes (maximum of 256K bytes).
          string
          pac_file_name                           Pac file name.
          string
          policyid                                Policy ID.
          integer / required
          srcaddr                                 Source address objects.
          list
              name                                Address name. Source firewall.address.name firewall.addrgrp.name firewall.proxy-address.name firewall.proxy-addrgrp.name.
              string / required
          srcaddr6                                Source address6 objects.
          list
              name                                Address name. Source firewall.address6.name firewall.addrgrp6.name.
              string / required
          status                  Choices:
          string                  • enable        Enable/disable policy.
                                  • disable
    pref_dns_result               Choices:
    string                        • ipv4          Prefer resolving addresses using the configured IPv4 or IPv6 DNS server .
                                  • ipv6
    realm                                         Authentication realm used to identify the explicit web proxy (maximum of 63 characters).
    string
    sec_default_action            Choices:
    string                        • accept        Accept or deny explicit web proxy sessions when no web proxy firewall policy exists.
                                  • deny
    socks                         Choices:
    string                        • enable        Enable/disable the SOCKS proxy.
                                  • disable
    socks_incoming_port                           Accept incoming SOCKS proxy requests on one or more ports (0 - 65535).
    string
    ssl_algorithm                 Choices:        Relative strength of encryption algorithms accepted in HTTPS deep scan: high, medium, or low.
    string                        • low
    status                        Choices:
    string                        • enable        Enable/disable the explicit Web proxy for HTTP and HTTPS session.
                                  • disable
    strict_guest                  Choices:
    string                        • enable        Enable/disable strict guest user checking by the explicit web proxy.
                                  • disable
    trace_auth_no_rsp             Choices:
    string                        • enable        Enable/disable logging timed-out authentication requests.
                                  • disable
    unknown_http_version          Choices:
    string                        • reject        Either reject unknown HTTP traffic as malformed or handle unknown HTTP traffic as best as the proxy server can.
                                  • best-effort

NOTES                   *fortios_web_proxy_explicit-notes*

   Note

     • Requires fortiosapi library developed by Fortinet
     • Run as a local_action in your playbook

EXAMPLES                   *fortios_web_proxy_explicit-examples*

 - hosts: localhost
   vars:
    host: "192.168.122.40"
    username: "admin"
    password: ""
    vdom: "root"
    ssl_verify: "False"
   tasks:
   - name: Configure explicit Web proxy settings.
     fortios_web_proxy_explicit:
       host:  "{{ host }}"
       username: "{{ username }}"
       password: "{{ password }}"
       vdom:  "{{ vdom }}"
       https: "False"
       web_proxy_explicit:
         ftp_incoming_port: "<your_own_value>"
         ftp_over_http: "enable"
         http_incoming_port: "<your_own_value>"
         https_incoming_port: "<your_own_value>"
         https_replacement_message: "enable"
         incoming_ip: "<your_own_value>"
         incoming_ip6: "<your_own_value>"
         ipv6_status: "enable"
         message_upon_server_error: "enable"
         outgoing_ip: "<your_own_value>"
         outgoing_ip6: "<your_own_value>"
         pac_file_data: "<your_own_value>"
         pac_file_name: "<your_own_value>"
         pac_file_server_port: "<your_own_value>"
         pac_file_server_status: "enable"
         pac_file_url: "<your_own_value>"
         pac_policy:
          -
             comments: "<your_own_value>"
             dstaddr:
              -
                 name: "default_name_22 (source firewall.address.name firewall.addrgrp.name)"
             pac_file_data: "<your_own_value>"
             pac_file_name: "<your_own_value>"
             policyid: "25"
             srcaddr:
              -
                 name: "default_name_27 (source firewall.address.name firewall.addrgrp.name firewall.proxy-address.name firewall.proxy-addrgrp.name)"
             srcaddr6:
              -
                 name: "default_name_29 (source firewall.address6.name firewall.addrgrp6.name)"
             status: "enable"
         pref_dns_result: "ipv4"
         realm: "<your_own_value>"
         sec_default_action: "accept"
         socks: "enable"
         socks_incoming_port: "<your_own_value>"
         ssl_algorithm: "low"
         status: "enable"
         strict_guest: "enable"
         trace_auth_no_rsp: "enable"
         unknown_http_version: "reject"

RETURN VALUES                   *fortios_web_proxy_explicit-return values*

   Common return values are documented here, the following are the fields unique to this module:

       Key     Returned                                                                                  Description
   build                Build number of the fortigate image
   string      always   Sample:
                        1547
   http_method          Last method used to provision the content into FortiGate
   string      always   Sample:
                        PUT
   http_status          Last result given by FortiGate on last operation applied
   string      always   Sample:
                        200
   mkey                 Master key (id) used in the last call to FortiGate
   string      success  Sample:
                        id
   name                 Name of the table used to fulfill the request
   string      always   Sample:
                        urlfilter
   path                 Path of the table used to fulfill the request
   string      always   Sample:
                        webfilter
   revision             Internal revision number
   string      always   Sample:
                        17.0.2.10658
   serial               Serial number of the unit
   string      always   Sample:
                        FGVMEVYYQT3AB5352
   status               Indication of the operation's result
   string      always   Sample:
                        success
   vdom                 Virtual domain used
   string      always   Sample:
                        root
   version              Version of the FortiGate
   string      always   Sample:
                        v5.6.3

STATUS                   *fortios_web_proxy_explicit-status*

     • This module is not guaranteed to have a backwards compatible interface. [preview]
     • This module is maintained by the Ansible Community. [community]

     • Miguel Angel Munoz (@mamunozgonzalez)
     • Nicolas Thomas (@thomnico)

   Hint

   If you notice any issues in this documentation, you can edit this document to improve it.

   ══════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════

MORE INFO                          *fortios_web_proxy_explicit-moreinfo*
>
All arguments are omni-completed, but if you really want to see the online docs:
https://docs.ansible.com/ansible/latest/modules/fortios_web_proxy_explicit_module.html
