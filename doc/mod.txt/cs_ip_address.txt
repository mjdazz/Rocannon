SYNOPSIS                   *cs_ip_address*

     • Acquires and associates a public IP to an account or project.
     • Due to API limitations this is not an idempotent call, so be sure to only conditionally call this when state=present.
     • Tagging the IP address can also make the call idempotent.

REQUIREMENTS                   *cs_ip_address-requirements*

   The below requirements are needed on the host that executes this module.

     • python >= 2.6
     • cs >= 0.6.10

PARAMETERS                   *cs_ip_address-parameters*

      Parameter    Choices/Defaults                                                                             Comments
   account                          Account the IP address is related to.
   string
                     Choices:       HTTP method used to query the API endpoint.
   api_http_method   • get          If not given, the CLOUDSTACK_METHOD env variable is considered.
   string            • post         As the last option, the value is taken from the ini config file, also see the notes.
                                    Fallback value is get if not specified.
   api_key                          API key of the CloudStack API.
   string                           If not given, the CLOUDSTACK_KEY env variable is considered.
                                    As the last option, the value is taken from the ini config file, also see the notes.
   api_region      Default:         Name of the ini section in the cloustack.ini file.
   string          "cloudstack"     If not given, the CLOUDSTACK_REGION env variable is considered.
   api_secret                       Secret key of the CloudStack API.
   string                           If not set, the CLOUDSTACK_SECRET env variable is considered.
                                    As the last option, the value is taken from the ini config file, also see the notes.
                                    HTTP timeout in seconds.
   api_timeout                      If not given, the CLOUDSTACK_TIMEOUT env variable is considered.
   integer                          As the last option, the value is taken from the ini config file, also see the notes.
                                    Fallback value is 10 seconds if not specified.
   api_url                          URL of the CloudStack API e.g. https://cloud.example.com/client/api.
   string                           If not given, the CLOUDSTACK_ENDPOINT env variable is considered.
                                    As the last option, the value is taken from the ini config file, also see the notes.
   domain                           Domain the IP address is related to.
   string
   ip_address                       Public IP address.
   string                           Required if state=absent and tags is not set.
   network                          Network the IP address is related to.
   string                           Mutually exclusive with vpc.
   poll_async        Choices:
   boolean           • no           Poll async jobs until job has finished.
                     • yes ←
   project                          Name of the project the IP address is related to.
   string
   state             Choices:
   string            • present ←    State of the IP address.
                     • absent
   tags                             List of tags. Tags are a list of dictionaries having keys key and value.
   list                             Tags can be used as an unique identifier for the IP Addresses.
   added in 2.6                     In this case, at least one of them must be unique to ensure idempotency.
                                    aliases: tag
   vpc                              VPC the IP address is related to.
   string                           Mutually exclusive with network.
   zone                             Name of the zone in which the IP address is in.
   string                           If not set, default zone is used.

NOTES                   *cs_ip_address-notes*

   Note

     • Ansible uses the cs library’s configuration method if credentials are not provided by the arguments api_url, api_key, api_secret. Configuration is read from several locations, in the
       following order. The CLOUDSTACK_ENDPOINT, CLOUDSTACK_KEY, CLOUDSTACK_SECRET and CLOUDSTACK_METHOD. CLOUDSTACK_TIMEOUT environment variables. A CLOUDSTACK_CONFIG environment variable pointing
       to an .ini file. A cloudstack.ini file in the current working directory. A .cloudstack.ini file in the users home directory. Optionally multiple credentials and endpoints can be specified
       using ini sections in cloudstack.ini. Use the argument api_region to select the section name, default section is cloudstack. See https://github.com/exoscale/cs for more information.
     • A detailed guide about cloudstack modules can be found in the CloudStack Cloud Guide.
     • This module supports check mode.

EXAMPLES                   *cs_ip_address-examples*

 - name: Associate an IP address conditionally
   cs_ip_address:
     network: My Network
   register: ip_address
   when: instance.public_ip is undefined
   delegate_to: localhost

 - name: Disassociate an IP address
   cs_ip_address:
     ip_address: 1.2.3.4
     state: absent
   delegate_to: localhost

 - name: Associate an IP address with tags
   cs_ip_address:
     network: My Network
     tags:
       - key: myCustomID
       - value: 5510c31a-416e-11e8-9013-02000a6b00bf
   register: ip_address
   delegate_to: localhost

 - name: Disassociate an IP address with tags
   cs_ip_address:
     state: absent
     tags:
       - key: myCustomID
       - value: 5510c31a-416e-11e8-9013-02000a6b00bf
   delegate_to: localhost

RETURN VALUES                   *cs_ip_address-return values*

   Common return values are documented here, the following are the fields unique to this module:

       Key      Returned                                                                                 Description
   account               Account the IP address is related to.
   string       success  Sample:
                         example account
   domain                Domain the IP address is related to.
   string       success  Sample:
                         example domain
   id                    UUID of the Public IP address.
   string       success  Sample:
                         a6f7a5fc-43f8-11e5-a151-feff819cdc9f
   ip_address            Public IP address.
   string       success  Sample:
                         1.2.3.4
   project               Name of project the IP address is related to.
   string       success  Sample:
                         Production
   tags                  List of resource tags associated with the IP address.
   dictionary   success  Sample:
   added in 2.6          [ { "key": "myCustomID", "value": "5510c31a-416e-11e8-9013-02000a6b00bf" } ]
   zone                  Name of zone the IP address is related to.
   string       success  Sample:
                         ch-gva-2

STATUS                   *cs_ip_address-status*

     • This module is guaranteed to have backward compatible interface changes going forward. [stableinterface]
     • This module is maintained by the Ansible Community. [community]

     • Darren Worrall (@dazworrall)
     • René Moser (@resmo)

   Hint

   If you notice any issues in this documentation, you can edit this document to improve it.

   ══════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════

MORE INFO                          *cs_ip_address-moreinfo*
>
All arguments are omni-completed, but if you really want to see the online docs:
https://docs.ansible.com/ansible/latest/modules/cs_ip_address_module.html
