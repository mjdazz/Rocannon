SYNOPSIS                   *fortios_vpn_ssl_web_portal*

     • This module is able to configure a FortiGate or FortiOS (FOS) device by allowing the user to set and modify vpn_ssl_web feature and portal category. Examples include all parameters and
       values need to be adjusted to datasources before usage. Tested with FOS v6.0.5

REQUIREMENTS                   *fortios_vpn_ssl_web_portal-requirements*

   The below requirements are needed on the host that executes this module.

     • fortiosapi>=0.9.8

PARAMETERS                   *fortios_vpn_ssl_web_portal-parameters*

                 Parameter                 Choices/Defaults                                                                  Comments
   host                                                       FortiOS or FortiGate IP address.
   string
   https                                   Choices:
   boolean                                 • no               Indicates if the requests towards FortiGate must use HTTPS protocol.
                                           • yes ←
   password                              Default:             FortiOS or FortiGate password.
   string                                ""
   ssl_verify                              Choices:
   boolean                                 • no               Ensures FortiGate certificate must be verified by a proper CA.
   added in 2.9                            • yes ←
   state                                   Choices:           Indicates whether to create or remove the object. This attribute was present already in previous version in a deeper level. It has been
   string                                  • present          moved out to this outer level.
   added in 2.9                            • absent
   username                                                   FortiOS or FortiGate username.
   string
   vdom                                  Default:             Virtual domain, among those defined previously. A vdom is a virtual instance of the FortiGate that can be configured and used as a
   string                                "root"               different unit.
   vpn_ssl_web_portal                    Default:             Portal.
   dictionary                            null
                                           Choices:
                                           • web
                                           • ftp
                                           • smb
    allow_user_access                      • telnet
    string                                 • ssh              Allow user access to SSL-VPN applications.
                                           • vnc
                                           • rdp
                                           • ping
                                           • citrix
                                           • portforward
    auto_connect                           Choices:
    string                                 • enable           Enable/disable automatic connect by client when system is up.
                                           • disable
    bookmark_group                                            Portal bookmark group.
    list
         bookmarks                                            Bookmark table.
         list
             additional_params                                Additional parameters.
             string
                                           Choices:
                                           • citrix
                                           • ftp
                                           • portforward
             apptype                       • rdp              Application type.
             string                        • smb
                                           • ssh
                                           • telnet
                                           • vnc
                                           • web
             description                                      Description.
             string
             folder                                           Network shared file folder parameter.
             string
             form_data                                        Form data.
             list
                    name                                      Name.
                    string / required
                    value                                     Value.
                    string
             host                                             Host name/IP parameter.
             string
             listening_port                                   Listening port (0 - 65535).
             integer
             load_balancing_info                              The load balancing information or cookie which should be provided to the connection broker.
             string
             logon_password                                   Logon password.
             string
             logon_user                                       Logon user.
             string
             name                                             Bookmark name.
             string / required
             port                                             Remote port.
             integer
             preconnection_blob                               An arbitrary string which identifies the RDP source.
             string
             preconnection_id                                 The numeric ID of the RDP source (0-2147483648).
             integer
             remote_port                                      Remote port (0 - 65535).
             integer
                                           Choices:
             security                      • rdp
             string                        • nla              Security mode for RDP connection.
                                           • tls
                                           • any
                                           Choices:
                                           • de-de-qwertz
                                           • en-gb-qwerty
                                           • en-us-qwerty
                                           • es-es-qwerty
             server_layout                 • fr-fr-azerty
             string                        • fr-ch-qwertz     Server side keyboard layout.
                                           • it-it-qwerty
                                           • ja-jp-qwerty
                                           • pt-br-qwerty
                                           • sv-se-qwerty
                                           • tr-tr-qwerty
                                           • failsafe
             show_status_window            Choices:
             string                        • enable           Enable/disable showing of status window.
                                           • disable
                                           Choices:
             sso                           • disable          Single Sign-On.
             string                        • static
                                           • auto
             sso_credential                Choices:
             string                        • sslvpn-login     Single sign-on credentials.
                                           • alternative
             sso_credential_sent_once      Choices:
             string                        • enable           Single sign-on credentials are only sent once to remote server.
                                           • disable
             sso_password                                     SSO password.
             string
             sso_username                                     SSO user name.
             string
             url                                              URL parameter.
             string
         name                                                 Bookmark group name.
         string / required
    custom_lang                                               Change the web portal display language. Overrides config system global set language. You can use config system custom-language and
    string                                                    execute system custom-language to add custom language files. Source system.custom-language.name.
    customize_forticlient_download_url     Choices:
    string                                 • enable           Enable support of customized download URL for FortiClient.
                                           • disable
    display_bookmark                       Choices:
    string                                 • enable           Enable to display the web portal bookmark widget.
                                           • disable
    display_connection_tools               Choices:
    string                                 • enable           Enable to display the web portal connection tools widget.
                                           • disable
    display_history                        Choices:
    string                                 • enable           Enable to display the web portal user login history widget.
                                           • disable
    display_status                         Choices:
    string                                 • enable           Enable to display the web portal status widget.
                                           • disable
    dns_server1                                               IPv4 DNS server 1.
    string
    dns_server2                                               IPv4 DNS server 2.
    string
    dns_suffix                                                DNS suffix.
    string
    exclusive_routing                      Choices:
    string                                 • enable           Enable/disable all traffic go through tunnel only.
                                           • disable
    forticlient_download                   Choices:
    string                                 • enable           Enable/disable download option for FortiClient.
                                           • disable
    forticlient_download_method            Choices:
    string                                 • direct           FortiClient download method.
                                           • ssl-vpn
    heading                                                   Web portal heading message.
    string
    hide_sso_credential                    Choices:
    string                                 • enable           Enable to prevent SSO credential being sent to client.
                                           • disable
                                           Choices:
                                           • none
    host_check                             • av               Type of host checking performed on endpoints.
    string                                 • fw
                                           • av-fw
                                           • custom
    host_check_interval                                       Periodic host check interval. Value of 0 means disabled and host checking only happens when the endpoint connects.
    integer
    host_check_policy                                         One or more policies to require the endpoint to have specific security software.
    list
         name                                                 Host check software list name. Source vpn.ssl.web.host-check-software.name.
         string / required
    ip_mode                                Choices:
    string                                 • range            Method by which users of this SSL-VPN tunnel obtain IP addresses.
                                           • user-group
    ip_pools                                                  IPv4 firewall source address objects reserved for SSL-VPN tunnel mode clients.
    list
         name                                                 Address name. Source firewall.address.name firewall.addrgrp.name.
         string / required
    ipv6_dns_server1                                          IPv6 DNS server 1.
    string
    ipv6_dns_server2                                          IPv6 DNS server 2.
    string
    ipv6_exclusive_routing                 Choices:
    string                                 • enable           Enable/disable all IPv6 traffic go through tunnel only.
                                           • disable
    ipv6_pools                                                IPv4 firewall source address objects reserved for SSL-VPN tunnel mode clients.
    list
         name                                                 Address name. Source firewall.address6.name firewall.addrgrp6.name.
         string / required
    ipv6_service_restriction               Choices:
    string                                 • enable           Enable/disable IPv6 tunnel service restriction.
                                           • disable
    ipv6_split_tunneling                   Choices:
    string                                 • enable           Enable/disable IPv6 split tunneling.
                                           • disable
    ipv6_split_tunneling_routing_address                      IPv6 SSL-VPN tunnel mode firewall address objects that override firewall policy destination addresses to control split-tunneling
    list                                                      access.
         name                                                 Address name. Source firewall.address6.name firewall.addrgrp6.name.
         string / required
    ipv6_tunnel_mode                       Choices:
    string                                 • enable           Enable/disable IPv6 SSL-VPN tunnel mode.
                                           • disable
    ipv6_wins_server1                                         IPv6 WINS server 1.
    string
    ipv6_wins_server2                                         IPv6 WINS server 2.
    string
    keep_alive                             Choices:
    string                                 • enable           Enable/disable automatic reconnect for FortiClient connections.
                                           • disable
    limit_user_logins                      Choices:
    string                                 • enable           Enable to limit each user to one SSL-VPN session at a time.
                                           • disable
    mac_addr_action                        Choices:
    string                                 • allow            Client MAC address action.
                                           • deny
    mac_addr_check                         Choices:
    string                                 • enable           Enable/disable MAC address host checking.
                                           • disable
    mac_addr_check_rule                                       Client MAC address check rule.
    list
         mac_addr_list                                        Client MAC address list.
         list
             addr                                             Client MAC address.
             string / required
         mac_addr_mask                                        Client MAC address mask.
         integer
         name                                                 Client MAC address check rule name.
         string / required
    macos_forticlient_download_url                            Download URL for Mac FortiClient.
    string
    name                                                      Portal name.
    string / required
    os_check                               Choices:
    string                                 • enable           Enable to let the FortiGate decide action based on client OS.
                                           • disable
    os_check_list                                             SSL VPN OS checks.
    list
                                           Choices:
         action                            • deny             OS check options.
         string                            • allow
                                           • check-up-to-date
         latest_patch_level                                   Latest OS patch level.
         string
         name                                                 Name.
         string / required
         tolerance                                            OS patch level tolerance.
         integer
    redir_url                                                 Client login redirect URL.
    string
    save_password                          Choices:
    string                                 • enable           Enable/disable FortiClient saving the user's password.
                                           • disable
    service_restriction                    Choices:
    string                                 • enable           Enable/disable tunnel service restriction.
                                           • disable
    skip_check_for_unsupported_browser     Choices:
    string                                 • enable           Enable to skip host check if browser does not support it.
                                           • disable
    skip_check_for_unsupported_os          Choices:
    string                                 • enable           Enable to skip host check if client OS does not support it.
                                           • disable
    smb_ntlmv1_auth                        Choices:
    string                                 • enable           Enable support of NTLMv1 for Samba authentication.
                                           • disable
    smbv1                                  Choices:
    string                                 • enable           Enable/disable support of SMBv1 for Samba.
                                           • disable
    split_dns                                                 Split DNS for SSL VPN.
    list
         dns_server1                                          DNS server 1.
         string
         dns_server2                                          DNS server 2.
         string
         domains                                              Split DNS domains used for SSL-VPN clients separated by comma(,).
         string
         id                                                   ID.
         integer / required
         ipv6_dns_server1                                     IPv6 DNS server 1.
         string
         ipv6_dns_server2                                     IPv6 DNS server 2.
         string
    split_tunneling                        Choices:
    string                                 • enable           Enable/disable IPv4 split tunneling.
                                           • disable
    split_tunneling_routing_address                           IPv4 SSL-VPN tunnel mode firewall address objects that override firewall policy destination addresses to control split-tunneling
    list                                                      access.
         name                                                 Address name. Source firewall.address.name firewall.addrgrp.name.
         string / required
                                                              Deprecated
                                           Choices:           Starting with Ansible 2.9 we recommend using the top-level 'state' parameter.
    state                                  • present
    string                                 • absent           ═══════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════

                                                              Indicates whether to create or remove the object.
                                           Choices:
                                           • blue
    theme                                  • green            Web portal color scheme.
    string                                 • red
                                           • melongene
                                           • mariner
    tunnel_mode                            Choices:
    string                                 • enable           Enable/disable IPv4 SSL-VPN tunnel mode.
                                           • disable
    user_bookmark                          Choices:
    string                                 • enable           Enable to allow web portal users to create their own bookmarks.
                                           • disable
    user_group_bookmark                    Choices:
    string                                 • enable           Enable to allow web portal users to create bookmarks for all users in the same user group.
                                           • disable
    web_mode                               Choices:
    string                                 • enable           Enable/disable SSL VPN web mode.
                                           • disable
    windows_forticlient_download_url                          Download URL for Windows FortiClient.
    string
    wins_server1                                              IPv4 WINS server 1.
    string
    wins_server2                                              IPv4 WINS server 1.
    string

NOTES                   *fortios_vpn_ssl_web_portal-notes*

   Note

     • Requires fortiosapi library developed by Fortinet
     • Run as a local_action in your playbook

EXAMPLES                   *fortios_vpn_ssl_web_portal-examples*

 - hosts: localhost
   vars:
    host: "192.168.122.40"
    username: "admin"
    password: ""
    vdom: "root"
    ssl_verify: "False"
   tasks:
   - name: Portal.
     fortios_vpn_ssl_web_portal:
       host:  "{{ host }}"
       username: "{{ username }}"
       password: "{{ password }}"
       vdom:  "{{ vdom }}"
       https: "False"
       state: "present"
       vpn_ssl_web_portal:
         allow_user_access: "web"
         auto_connect: "enable"
         bookmark_group:
          -
             bookmarks:
              -
                 additional_params: "<your_own_value>"
                 apptype: "citrix"
                 description: "<your_own_value>"
                 folder: "<your_own_value>"
                 form_data:
                  -
                     name: "default_name_12"
                     value: "<your_own_value>"
                 host: "<your_own_value>"
                 listening_port: "15"
                 load_balancing_info: "<your_own_value>"
                 logon_password: "<your_own_value>"
                 logon_user: "<your_own_value>"
                 name: "default_name_19"
                 port: "20"
                 preconnection_blob: "<your_own_value>"
                 preconnection_id: "22"
                 remote_port: "23"
                 security: "rdp"
                 server_layout: "de-de-qwertz"
                 show_status_window: "enable"
                 sso: "disable"
                 sso_credential: "sslvpn-login"
                 sso_credential_sent_once: "enable"
                 sso_password: "<your_own_value>"
                 sso_username: "<your_own_value>"
                 url: "myurl.com"
             name: "default_name_33"
         custom_lang: "<your_own_value> (source system.custom-language.name)"
         customize_forticlient_download_url: "enable"
         display_bookmark: "enable"
         display_connection_tools: "enable"
         display_history: "enable"
         display_status: "enable"
         dns_server1: "<your_own_value>"
         dns_server2: "<your_own_value>"
         dns_suffix: "<your_own_value>"
         exclusive_routing: "enable"
         forticlient_download: "enable"
         forticlient_download_method: "direct"
         heading: "<your_own_value>"
         hide_sso_credential: "enable"
         host_check: "none"
         host_check_interval: "49"
         host_check_policy:
          -
             name: "default_name_51 (source vpn.ssl.web.host-check-software.name)"
         ip_mode: "range"
         ip_pools:
          -
             name: "default_name_54 (source firewall.address.name firewall.addrgrp.name)"
         ipv6_dns_server1: "<your_own_value>"
         ipv6_dns_server2: "<your_own_value>"
         ipv6_exclusive_routing: "enable"
         ipv6_pools:
          -
             name: "default_name_59 (source firewall.address6.name firewall.addrgrp6.name)"
         ipv6_service_restriction: "enable"
         ipv6_split_tunneling: "enable"
         ipv6_split_tunneling_routing_address:
          -
             name: "default_name_63 (source firewall.address6.name firewall.addrgrp6.name)"
         ipv6_tunnel_mode: "enable"
         ipv6_wins_server1: "<your_own_value>"
         ipv6_wins_server2: "<your_own_value>"
         keep_alive: "enable"
         limit_user_logins: "enable"
         mac_addr_action: "allow"
         mac_addr_check: "enable"
         mac_addr_check_rule:
          -
             mac_addr_list:
              -
                 addr: "<your_own_value>"
             mac_addr_mask: "74"
             name: "default_name_75"
         macos_forticlient_download_url: "<your_own_value>"
         name: "default_name_77"
         os_check: "enable"
         os_check_list:
          -
             action: "deny"
             latest_patch_level: "<your_own_value>"
             name: "default_name_82"
             tolerance: "83"
         redir_url: "<your_own_value>"
         save_password: "enable"
         service_restriction: "enable"
         skip_check_for_unsupported_browser: "enable"
         skip_check_for_unsupported_os: "enable"
         smb_ntlmv1_auth: "enable"
         smbv1: "enable"
         split_dns:
          -
             dns_server1: "<your_own_value>"
             dns_server2: "<your_own_value>"
             domains: "<your_own_value>"
             id:  "95"
             ipv6_dns_server1: "<your_own_value>"
             ipv6_dns_server2: "<your_own_value>"
         split_tunneling: "enable"
         split_tunneling_routing_address:
          -
             name: "default_name_100 (source firewall.address.name firewall.addrgrp.name)"
         theme: "blue"
         tunnel_mode: "enable"
         user_bookmark: "enable"
         user_group_bookmark: "enable"
         web_mode: "enable"
         windows_forticlient_download_url: "<your_own_value>"
         wins_server1: "<your_own_value>"
         wins_server2: "<your_own_value>"

RETURN VALUES                   *fortios_vpn_ssl_web_portal-return values*

   Common return values are documented here, the following are the fields unique to this module:

       Key     Returned                                                                                  Description
   build                Build number of the fortigate image
   string      always   Sample:
                        1547
   http_method          Last method used to provision the content into FortiGate
   string      always   Sample:
                        PUT
   http_status          Last result given by FortiGate on last operation applied
   string      always   Sample:
                        200
   mkey                 Master key (id) used in the last call to FortiGate
   string      success  Sample:
                        id
   name                 Name of the table used to fulfill the request
   string      always   Sample:
                        urlfilter
   path                 Path of the table used to fulfill the request
   string      always   Sample:
                        webfilter
   revision             Internal revision number
   string      always   Sample:
                        17.0.2.10658
   serial               Serial number of the unit
   string      always   Sample:
                        FGVMEVYYQT3AB5352
   status               Indication of the operation's result
   string      always   Sample:
                        success
   vdom                 Virtual domain used
   string      always   Sample:
                        root
   version              Version of the FortiGate
   string      always   Sample:
                        v5.6.3

STATUS                   *fortios_vpn_ssl_web_portal-status*

     • This module is not guaranteed to have a backwards compatible interface. [preview]
     • This module is maintained by the Ansible Community. [community]

     • Miguel Angel Munoz (@mamunozgonzalez)
     • Nicolas Thomas (@thomnico)

   Hint

   If you notice any issues in this documentation, you can edit this document to improve it.

   ══════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════

MORE INFO                          *fortios_vpn_ssl_web_portal-moreinfo*
>
All arguments are omni-completed, but if you really want to see the online docs:
https://docs.ansible.com/ansible/latest/modules/fortios_vpn_ssl_web_portal_module.html
