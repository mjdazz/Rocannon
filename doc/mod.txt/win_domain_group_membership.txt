SYNOPSIS                   *win_domain_group_membership*

     • Allows the addition and removal of domain users and domain groups from/to a domain group.

PARAMETERS                   *win_domain_group_membership-parameters*

       Parameter     Choices/Defaults                                                                            Comments
   domain_password                    The password for username.
   string
   domain_server                      Specifies the Active Directory Domain Services instance to connect to.
   string                             Can be in the form of an FQDN or NetBIOS name.
                                      If not specified then the value is based on the domain of the computer running PowerShell.
   domain_username                    The username to use when interacting with AD.
   string                             If this is not set then the user Ansible used to log in with will be used instead when using CredSSP or Kerberos with credential delegation.
   members                            A list of members to ensure are present/absent from the group.
   list / required                    The given names must be a SamAccountName of a user, group, service account, or computer.
                                      For computers, you must add "$" after the name; for example, to add "Mycomputer" to a group, use "Mycomputer$" as the member.
   name                               Name of the domain group to manage membership on.
   string / required
                       Choices:
   state               • absent       Desired state of the members in the group.
   string              • present ←    When state is pure, only the members specified will exist, and all other existing members not specified are removed.
                       • pure

NOTES                   *win_domain_group_membership-notes*

   Note

     • This must be run on a host that has the ActiveDirectory powershell module installed.

SEE ALSO                   *win_domain_group_membership-see also*

   See also

   win_domain_user – Manages Windows Active Directory user accounts
   The official documentation on the win_domain_user module.

   win_domain_group – Creates, modifies or removes domain groups
   The official documentation on the win_domain_group module.

EXAMPLES                   *win_domain_group_membership-examples*

 - name: Add a domain user/group to a domain group
   win_domain_group_membership:
     name: Foo
     members:
       - Bar
     state: present

 - name: Remove a domain user/group from a domain group
   win_domain_group_membership:
     name: Foo
     members:
       - Bar
     state: absent

 - name: Ensure only a domain user/group exists in a domain group
   win_domain_group_membership:
     name: Foo
     members:
       - Bar
     state: pure

 - name: Add a computer to a domain group
   win_domain_group_membership:
     name: Foo
     members:
       - DESKTOP$
     state: present

RETURN VALUES                   *win_domain_group_membership-return values*

   Common return values are documented here, the following are the fields unique to this module:

     Key                 Returned                                                                                    Description
   added                                        A list of members added when state is present or pure; this is empty if no members are added.
   list    success and state is present or pure Sample:
                                                ['UserName', 'GroupName']
   members                                      A list of all domain group members at completion; this is empty if the group contains no members.
   list    success                              Sample:
                                                ['UserName', 'GroupName']
   name                                         The name of the target domain group.
   string  always                               Sample:
                                                Domain-Admins
   removed                                      A list of members removed when state is absent or pure; this is empty if no members are removed.
   list    success and state is absent or pure  Sample:
                                                ['UserName', 'GroupName']

STATUS                   *win_domain_group_membership-status*

     • This module is not guaranteed to have a backwards compatible interface. [preview]
     • This module is maintained by the Ansible Community. [community]

     • Marius Rieder (@jiuka)

   Hint

   If you notice any issues in this documentation, you can edit this document to improve it.

   ══════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════

MORE INFO                          *win_domain_group_membership-moreinfo*
>
All arguments are omni-completed, but if you really want to see the online docs:
https://docs.ansible.com/ansible/latest/modules/win_domain_group_membership_module.html
