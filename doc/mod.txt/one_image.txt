SYNOPSIS                   *one_image*

     • Manages OpenNebula images

REQUIREMENTS                   *one_image-requirements*

   The below requirements are needed on the host that executes this module.

     • python-oca

PARAMETERS                   *one_image-parameters*

    Parameter   Choices/Defaults                                                                               Comments
   api_password                  Password of the user to login into OpenNebula RPC server. If not set
   -                             then the value of the ONE_PASSWORD environment variable is used.
                                 URL of the OpenNebula RPC server.
   api_url                       It is recommended to use HTTPS so that the username/password are not
   -                             transferred over the network unencrypted.
                                 If not set then the value of the ONE_URL environment variable is used.
   api_username                  Name of the user to login into the OpenNebula RPC server. If not set
   -                             then the value of the ONE_USERNAME environment variable is used.
   enabled        Choices:
   boolean        • no           Whether the image should be enabled or disabled.
                  • yes
   id                            A id of the image you would like to manage.
   -
   name                          A name of the image you would like to manage.
   -
   new_name                      A name that will be assigned to the existing or new image.
   -                             In the case of cloning, by default new_name will take the name of the origin image with the prefix 'Copy of'.
                  Choices:       present - state that is used to manage the image
   state          • present ←    absent - delete the image
   -              • absent       cloned - clone the image
                  • cloned       renamed - rename the image to the new_name
                  • renamed

EXAMPLES                   *one_image-examples*

 # Fetch the IMAGE by id
 - one_image:
     id: 45
   register: result

 # Print the IMAGE properties
 - debug:
     msg: result

 # Rename existing IMAGE
 - one_image:
     id: 34
     state: renamed
     new_name: bar-image

 # Disable the IMAGE by id
 - one_image:
     id: 37
     enabled: no

 # Enable the IMAGE by name
 - one_image:
     name: bar-image
     enabled: yes

 # Clone the IMAGE by name
 - one_image:
     name: bar-image
     state: cloned
     new_name: bar-image-clone
   register: result

 # Delete the IMAGE by id
 - one_image:
     id: '{{ result.id }}'
     state: absent

RETURN VALUES                   *one_image-return values*

   Common return values are documented here, the following are the fields unique to this module:

       Key     Returned                                                                                  Description
   group_id             image's group id
   integer     success  Sample:
                        1
   group_name           image's group name
   string      success  Sample:
                        one-users
   id                   image id
   integer     success  Sample:
                        153
   name                 image name
   string      success  Sample:
                        app1
   owner_id             image's owner id
   integer     success  Sample:
                        143
   owner_name           image's owner name
   string      success  Sample:
                        ansible-test
   running_vms          count of running vms that use this image
   integer     success  Sample:
                        7
   state                state of image instance
   string      success  Sample:
                        READY
   used                 is image in use
   boolean     success  Sample:
                        True

STATUS                   *one_image-status*

     • This module is not guaranteed to have a backwards compatible interface. [preview]
     • This module is maintained by the Ansible Community. [community]

     • Milan Ilic (@ilicmilan)

   Hint

   If you notice any issues in this documentation, you can edit this document to improve it.

   ══════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════

MORE INFO                          *one_image-moreinfo*
>
All arguments are omni-completed, but if you really want to see the online docs:
https://docs.ansible.com/ansible/latest/modules/one_image_module.html
