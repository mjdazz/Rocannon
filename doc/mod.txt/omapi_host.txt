SYNOPSIS                   *omapi_host*

     • Manage OMAPI hosts into compatible DHCPd servers

REQUIREMENTS                   *omapi_host-requirements*

   The below requirements are needed on the host that executes this module.

     • pypureomapi

PARAMETERS                   *omapi_host-parameters*

       Parameter     Choices/Defaults                                                                            Comments
   ddns                Choices:
   boolean             • no ←         Enable dynamic DNS updates for this host.
                       • yes
   host              Default:         Sets OMAPI server host to interact with.
   string            "localhost"
   hostname                           Sets the host lease hostname (mandatory if state=present).
   string                             aliases: name
   ip                                 Sets the lease host IP address.
   string
   key                                Sets the TSIG key content for authenticating against OMAPI server.
   string / required
   key_name                           Sets the TSIG key name for authenticating against OMAPI server.
   string / required
   macaddr                            Sets the lease host MAC address.
   string / required
   port              Default:         Sets the OMAPI server port to interact with.
   integer           7911
   state               Choices:
   string / required   • absent       Create or remove OMAPI host.
                       • present
   statements        Default:         Attach a list of OMAPI DHCP statements with host lease (without ending semicolon).
   list              []

EXAMPLES                   *omapi_host-examples*

 - name: Add a host using OMAPI
   omapi_host:
     key_name: defomapi
     key: +bFQtBCta6j2vWkjPkNFtgA==
     host: 10.98.4.55
     macaddr: 44:dd:ab:dd:11:44
     name: server01
     ip: 192.168.88.99
     ddns: yes
     statements:
     - filename "pxelinux.0"
     - next-server 1.1.1.1
     state: present

 - name: Remove a host using OMAPI
   omapi_host:
     key_name: defomapi
     key: +bFQtBCta6j2vWkjPkNFtgA==
     host: 10.1.1.1
     macaddr: 00:66:ab:dd:11:44
     state: absent

RETURN VALUES                   *omapi_host-return values*

   Common return values are documented here, the following are the fields unique to this module:

          Key         Returned                                                                              Description
   lease              success  dictionary containing host information
   complex
     hardware-address          MAC address
     string           success  Sample:
                               00:11:22:33:44:55
     hardware-type             hardware type, generally '1'
     integer          success  Sample:
                               1
     ip-address                IP address, if there is.
     string           success  Sample:
                               192.168.1.5
     name                      hostname
     string           success  Sample:
                               mydesktop

STATUS                   *omapi_host-status*

     • This module is not guaranteed to have a backwards compatible interface. [preview]
     • This module is maintained by the Ansible Community. [community]

     • Loic Blot (@nerzhul)

   Hint

   If you notice any issues in this documentation, you can edit this document to improve it.

   ══════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════

MORE INFO                          *omapi_host-moreinfo*
>
All arguments are omni-completed, but if you really want to see the online docs:
https://docs.ansible.com/ansible/latest/modules/omapi_host_module.html
