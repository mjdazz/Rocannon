SYNOPSIS                   *cs_router*

     • Start, restart, stop and destroy routers.
     • state=present is not able to create routers, use cs_network instead.

REQUIREMENTS                   *cs_router-requirements*

   The below requirements are needed on the host that executes this module.

     • python >= 2.6
     • cs >= 0.6.10

PARAMETERS                   *cs_router-parameters*

       Parameter     Choices/Defaults                                                                            Comments
   account                            Account the router is related to.
   string
                       Choices:       HTTP method used to query the API endpoint.
   api_http_method     • get          If not given, the CLOUDSTACK_METHOD env variable is considered.
   string              • post         As the last option, the value is taken from the ini config file, also see the notes.
                                      Fallback value is get if not specified.
   api_key                            API key of the CloudStack API.
   string                             If not given, the CLOUDSTACK_KEY env variable is considered.
                                      As the last option, the value is taken from the ini config file, also see the notes.
   api_region        Default:         Name of the ini section in the cloustack.ini file.
   string            "cloudstack"     If not given, the CLOUDSTACK_REGION env variable is considered.
   api_secret                         Secret key of the CloudStack API.
   string                             If not set, the CLOUDSTACK_SECRET env variable is considered.
                                      As the last option, the value is taken from the ini config file, also see the notes.
                                      HTTP timeout in seconds.
   api_timeout                        If not given, the CLOUDSTACK_TIMEOUT env variable is considered.
   integer                            As the last option, the value is taken from the ini config file, also see the notes.
                                      Fallback value is 10 seconds if not specified.
   api_url                            URL of the CloudStack API e.g. https://cloud.example.com/client/api.
   string                             If not given, the CLOUDSTACK_ENDPOINT env variable is considered.
                                      As the last option, the value is taken from the ini config file, also see the notes.
   domain                             Domain the router is related to.
   string
   name                               Name of the router.
   string / required
   poll_async          Choices:
   boolean             • no           Poll async jobs until job has finished.
                       • yes ←
   project                            Name of the project the router is related to.
   string
   service_offering                   Name or id of the service offering of the router.
   string
                       Choices:
                       • present ←
   state               • absent       State of the router.
   string              • started
                       • stopped
                       • restarted
   zone                               Name of the zone the router is deployed in.
   string                             If not set, all zones are used.
   added in 2.4

NOTES                   *cs_router-notes*

   Note

     • Ansible uses the cs library’s configuration method if credentials are not provided by the arguments api_url, api_key, api_secret. Configuration is read from several locations, in the
       following order. The CLOUDSTACK_ENDPOINT, CLOUDSTACK_KEY, CLOUDSTACK_SECRET and CLOUDSTACK_METHOD. CLOUDSTACK_TIMEOUT environment variables. A CLOUDSTACK_CONFIG environment variable pointing
       to an .ini file. A cloudstack.ini file in the current working directory. A .cloudstack.ini file in the users home directory. Optionally multiple credentials and endpoints can be specified
       using ini sections in cloudstack.ini. Use the argument api_region to select the section name, default section is cloudstack. See https://github.com/exoscale/cs for more information.
     • A detailed guide about cloudstack modules can be found in the CloudStack Cloud Guide.
     • This module supports check mode.

EXAMPLES                   *cs_router-examples*

 # Ensure the router has the desired service offering, no matter if
 # the router is running or not.
 - name: Present router
   cs_router:
     name: r-40-VM
     service_offering: System Offering for Software Router
   delegate_to: localhost

 - name: Ensure started
   cs_router:
     name: r-40-VM
     state: started
   delegate_to: localhost

 # Ensure started with desired service offering.
 # If the service offerings changes, router will be rebooted.
 - name: Ensure started with desired service offering
   cs_router:
     name: r-40-VM
     service_offering: System Offering for Software Router
     state: started
   delegate_to: localhost

 - name: Ensure stopped
   cs_router:
     name: r-40-VM
     state: stopped
   delegate_to: localhost

 - name: Remove a router
   cs_router:
     name: r-40-VM
     state: absent
   delegate_to: localhost

RETURN VALUES                   *cs_router-return values*

   Common return values are documented here, the following are the fields unique to this module:

         Key        Returned                                                                               Description
   account                   Account the router is related to.
   string           success  Sample:
                             admin
   created                   Date of the router was created.
   string           success  Sample:
                             2014-12-01T14:57:57+0100
   domain                    Domain the router is related to.
   string           success  Sample:
                             ROOT
   id                        UUID of the router.
   string           success  Sample:
                             04589590-ac63-4ffc-93f5-b698b8ac38b6
   name                      Name of the router.
   string           success  Sample:
                             r-40-VM
   redundant_state           Redundant state of the router.
   string           success  Sample:
                             UNKNOWN
   requires_upgrade success  Whether the router needs to be upgraded to the new template.
   boolean
   role                      Role of the router.
   string           success  Sample:
                             VIRTUAL_ROUTER
   service_offering          Name of the service offering the router has.
   string           success  Sample:
                             System Offering For Software Router
   state                     State of the router.
   string           success  Sample:
                             Active
   template_version          Version of the system VM template.
   string           success  Sample:
                             4.5.1
   zone                      Name of zone the router is in.
   string           success  Sample:
                             ch-gva-2

STATUS                   *cs_router-status*

     • This module is guaranteed to have backward compatible interface changes going forward. [stableinterface]
     • This module is maintained by the Ansible Community. [community]

     • René Moser (@resmo)

   Hint

   If you notice any issues in this documentation, you can edit this document to improve it.

   ══════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════

MORE INFO                          *cs_router-moreinfo*
>
All arguments are omni-completed, but if you really want to see the online docs:
https://docs.ansible.com/ansible/latest/modules/cs_router_module.html
