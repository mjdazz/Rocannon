SYNOPSIS                   *bigip_device_ha_group*

     • Manage HA group settings on a BIG-IP system.

PARAMETERS                   *bigip_device_ha_group-parameters*

       Parameter          Choices/Defaults                                                                            Comments
   active_bonus                                Specifies the extra value to be added to the active unit's ha score.
   integer                                     When system creates HA group this value is set to 10 by the system.
   description                                 User created HA group description.
   string
   enable               Choices:
   boolean              • no                   When set to no the system disables the ha score feature.
                        • yes ←
   name                                        Name of the HA group to create/manage.
   string / required
   pools                                       Specifies pools to contribute to the ha score.
   list                                        The pools must exist on the BIG-IP otherwise the operation will fail.
    attribute           Choices:               The pool attribute that contributes to the ha score.
    string              • percent-up-members ←
                                               Below this value the selected pool attribute contributes nothing to the ha score.
    minimum_threshold                          This value must be greater than the number of pool members present in the pool.
    integer                                    In TMOS versions 12.x this attribute is named threshold however it has been deprecated in versions 13.x and above.
                                               Specifying this attribute in the module running against v12.x will keep the same behavior as if threshold option was set.
    partition         Default:                 Device partition where the specified pool exists.
    string            "Common"                 This parameter is ignored if the pool_name is specified in full path format.
    pool_name                                  The pool name which is used to contribute to the ha score.
    string / required                          Referencing pool can be done in the full path format for example, /Common/pool_name.
                                               When pool is referenced in full path format, the partition parameter is ignored.
    weight
    integer /                                  Maximum value the selected pool attribute contributes to the ha score.
    required
   provider
   dictionary                                  A dict object containing connection details.
   added in 2.5
    auth_provider                              Configures the auth provider for to obtain authentication tokens from the remote device.
    string                                     This option is really used when working with BIG-IQ devices.
    password                                   The password for the user account used to connect to the BIG-IP.
    string / required                          You may omit this option by setting the environment variable F5_PASSWORD.
                                               aliases: pass, pwd
    server                                     The BIG-IP host.
    string / required                          You may omit this option by setting the environment variable F5_SERVER.
    server_port       Default:                 The BIG-IP server port.
    integer           443                      You may omit this option by setting the environment variable F5_SERVER_PORT.
    ssh_keyfile                                Specifies the SSH keyfile to use to authenticate the connection to the remote device. This argument is only used for cli transports.
    path                                       You may omit this option by setting the environment variable ANSIBLE_NET_SSH_KEYFILE.
    timeout                                    Specifies the timeout in seconds for communicating with the network device for either connecting or sending commands. If the timeout is exceeded
    integer                                    before the operation is completed, the module will error.
    transport           Choices:
    string              • cli                  Configures the transport connection to use when connecting to the remote device.
                        • rest ←
    user                                       The username to connect to the BIG-IP with. This user must have administrative privileges on the device.
    string / required                          You may omit this option by setting the environment variable F5_USER.
    validate_certs      Choices:               If no, SSL certificates are not validated. Use this only on personally controlled sites using self-signed certificates.
    boolean             • no                   You may omit this option by setting the environment variable F5_VALIDATE_CERTS.
                        • yes ←
   state                Choices:               When present, ensures that the resource exists.
   string               • present ←            When absent, ensures the resource is removed.
                        • absent
   trunks                                      Specifies trunks to contribute to the ha score.
   list                                        The trunks must exist on the BIG-IP otherwise the operation will fail.
    attribute           Choices:               The trunk attribute that contributes to the ha score.
    string              • percent-up-members ←
                                               Below this value the selected trunk attribute contributes nothing to the ha score.
    minimum_threshold                          This value must be greater than the number of trunk members.
    integer                                    In TMOS versions 12.x this attribute is named threshold however it has been deprecated in versions 13.x and above.
                                               Specifying this attribute in the module running against v12.x will keep the same behavior as if threshold option was set.
    trunk_name                                 The trunk name which is used to contribute to the ha score.
    string / required
    weight
    integer /                                  Maximum value the selected trunk attribute contributes to the ha score.
    required

NOTES                   *bigip_device_ha_group-notes*

   Note

     • This module does not support atomic removal of HA group objects.
     • For more information on using Ansible to manage F5 Networks devices see https://www.ansible.com/integrations/networks/f5.
     • Requires BIG-IP software version >= 12.
     • The F5 modules only manipulate the running configuration of the F5 product. To ensure that BIG-IP specific configuration persists to disk, be sure to include at least one task that uses the
       bigip_config module to save the running configuration. Refer to the module’s documentation for the correct usage of the module to save your running configuration.

EXAMPLES                   *bigip_device_ha_group-examples*

 - name: Create HA group no members, not active
   bigip_device_ha_group:
     name: foo_ha
     description: empty_foo
     active_bonus: 20
     enable: no
     provider:
       password: secret
       server: lb.mydomain.com
       user: admin
   delegate_to: localhost

 - name: Create HA group with pools and trunks
   bigip_device_ha_group:
     name: baz_ha
     description: non_empty_baz
     active_bonus: 15
     pools:
       - pool_name: foopool
         weight: 30
         minimum_threshold: 1
     trunks:
       - trunk_name: footrunk
         weight: 70
         minimum_threshold: 2
     provider:
       password: secret
       server: lb.mydomain.com
       user: admin
   delegate_to: localhost

 - name: Create HA group pools using full_path format
   bigip_device_ha_group:
     name: bar_ha
     description: non_empty_bar
     active_bonus: 12
     pools:
       - pool_name: /Baz/foopool
         weight: 30
         minimum_threshold: 1
     provider:
       password: secret
       server: lb.mydomain.com
       user: admin
   delegate_to: localhost

 - name: Remove HA group
   bigip_device_ha_group:
     name: foo_ha
     state: absent
     provider:
       password: secret
       server: lb.mydomain.com
       user: admin
   delegate_to: localhost

RETURN VALUES                   *bigip_device_ha_group-return values*

   Common return values are documented here, the following are the fields unique to this module:

           Key         Returned                                                                              Description
   active_bonus                 The extra value to be added to the active unit's ha score.
   integer             changed  Sample:
                                20
   description                  User created HA group description.
   string              changed  Sample:
                                Some Group
   enable                       Enables or disables HA score feature.
   boolean             changed  Sample:
                                True
   name                         Name of the HA group.
   string              changed  Sample:
                                foo_HA
   pools                        The pools to contribute to the ha score.
   complex             changed  Sample:
                                hash/dictionary of values
     attribute                  The pool attribute that contributes to the ha score.
     string            changed  Sample:
                                percent-up-members
     minimum_threshold          Below this value the selected pool attribute contributes nothing to the ha score.
     integer           changed  Sample:
                                2
     partition                  Device partition where the specified pool exists.
     string            changed  Sample:
                                Common
     pool_name                  The pool name which is used to contribute to the ha score.
     string            changed  Sample:
                                foo_pool
     weight                     Maximum value the selected pool attribute contributes to the ha score.
     integer           changed  Sample:
                                40
   trunks                       The trunks to contribute to the ha score.
   complex             changed  Sample:
                                hash/dictionary of values
     attribute                  The trunk attribute that contributes to the ha score.
     string            changed  Sample:
                                percent-up-members
     minimum_threshold          Below this value the selected trunk attribute contributes nothing to the ha score.
     integer           changed  Sample:
                                2
     trunk_name                 The trunk name which is used to contribute to the ha score.
     string            changed  Sample:
                                foo_trunk
     weight                     Maximum value the selected trunk attribute contributes to the ha score.
     integer           changed  Sample:
                                40

STATUS                   *bigip_device_ha_group-status*

     • This module is not guaranteed to have a backwards compatible interface. [preview]
     • This module is maintained by an Ansible Partner. [certified]

     • Wojciech Wypior (@wojtek0806)

   Hint

   If you notice any issues in this documentation, you can edit this document to improve it.

   ══════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════

MORE INFO                          *bigip_device_ha_group-moreinfo*
>
All arguments are omni-completed, but if you really want to see the online docs:
https://docs.ansible.com/ansible/latest/modules/bigip_device_ha_group_module.html
