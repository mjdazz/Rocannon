SYNOPSIS                   *fortios_router_multicast*

     • This module is able to configure a FortiGate or FortiOS (FOS) device by allowing the user to set and modify router feature and multicast category. Examples include all parameters and values
       need to be adjusted to datasources before usage. Tested with FOS v6.0.5

REQUIREMENTS                   *fortios_router_multicast-requirements*

   The below requirements are needed on the host that executes this module.

     • fortiosapi>=0.9.8

PARAMETERS                   *fortios_router_multicast-parameters*

              Parameter            Choices/Defaults                                                                     Comments
   host                                             FortiOS or FortiGate IP address.
   string
   https                             Choices:
   boolean                           • no           Indicates if the requests towards FortiGate must use HTTPS protocol.
                                     • yes ←
   password                        Default:         FortiOS or FortiGate password.
   string                          ""
   router_multicast                Default:         Configure router multicast.
   dictionary                      null
    interface                                       PIM interfaces.
    list
     bfd                             Choices:
     string                          • enable       Enable/disable Protocol Independent Multicast (PIM) Bidirectional Forwarding Detection (BFD).
                                     • disable
     cisco_exclude_genid             Choices:
     string                          • enable       Exclude GenID from hello packets (compatibility with old Cisco IOS).
                                     • disable
     dr_priority                                    DR election priority.
     integer
     hello_holdtime                                 Time before old neighbor information expires (0 - 65535 sec).
     integer
     hello_interval                                 Interval between sending PIM hello messages (0 - 65535 sec).
     integer
     igmp                                           IGMP configuration options.
     dictionary
        access_group                                Groups IGMP hosts are allowed to join. Source router.access-list.name.
        string
        immediate_leave_group                       Groups to drop membership for immediately after receiving IGMPv2 leave. Source router.access-list.name.
        string
        last_member_query_count                     Number of group specific queries before removing group (2 - 7).
        integer
        last_member_query_interval                  Timeout between IGMPv2 leave and removing group (1 - 65535 msec).
        integer
        query_interval                              Interval between queries to IGMP hosts (1 - 65535 sec).
        integer
        query_max_response_time                     Maximum time to wait for a IGMP query response (1 - 25 sec).
        integer
        query_timeout                               Timeout between queries before becoming querier for network (60 - 900).
        integer
        router_alert_check           Choices:
        string                       • enable       Enable/disable require IGMP packets contain router alert option.
                                     • disable
                                     Choices:
        version                      • 3            Maximum version of IGMP to support.
        string                       • 2
                                     • 1
     join_group                                     Join multicast groups.
     list
        address                                     Multicast group IP address.
        string / required
     multicast_flow                                 Acceptable source for multicast group. Source router.multicast-flow.name.
     string
     name                                           Interface name. Source system.interface.name.
     string / required
     neighbour_filter                               Routers acknowledged as neighbor routers. Source router.access-list.name.
     string
     passive                         Choices:
     string                          • enable       Enable/disable listening to IGMP but not participating in PIM.
                                     • disable
     pim_mode                        Choices:
     string                          • sparse-mode  PIM operation mode.
                                     • dense-mode
     propagation_delay                              Delay flooding packets on this interface (100 - 5000 msec).
     integer
     rp_candidate                    Choices:
     string                          • enable       Enable/disable compete to become RP in elections.
                                     • disable
     rp_candidate_group                             Multicast groups managed by this RP. Source router.access-list.name.
     string
     rp_candidate_interval                          RP candidate advertisement interval (1 - 16383 sec).
     integer
     rp_candidate_priority                          Router's priority as RP.
     integer
     state_refresh_interval                         Interval between sending state-refresh packets (1 - 100 sec).
     integer
     static_group                                   Statically set multicast groups to forward out. Source router.multicast-flow.name.
     string
     ttl_threshold                                  Minimum TTL of multicast packets that will be forwarded (applied only to new multicast routes) (1 - 255).
     integer
    multicast_routing                Choices:
    string                           • enable       Enable/disable IP multicast routing.
                                     • disable
    pim_sm_global                                   PIM sparse-mode global settings.
    dictionary
     accept_register_list                           Sources allowed to register packets with this Rendezvous Point (RP). Source router.access-list.name.
     string
     accept_source_list                             Sources allowed to send multicast traffic. Source router.access-list.name.
     string
     bsr_allow_quick_refresh         Choices:
     string                          • enable       Enable/disable accept BSR quick refresh packets from neighbors.
                                     • disable
     bsr_candidate                   Choices:
     string                          • enable       Enable/disable allowing this router to become a bootstrap router (BSR).
                                     • disable
     bsr_hash                                       BSR hash length (0 - 32).
     integer
     bsr_interface                                  Interface to advertise as candidate BSR. Source system.interface.name.
     string
     bsr_priority                                   BSR priority (0 - 255).
     integer
     cisco_crp_prefix                Choices:
     string                          • enable       Enable/disable making candidate RP compatible with old Cisco IOS.
                                     • disable
     cisco_ignore_rp_set_priority    Choices:
     string                          • enable       Use only hash for RP selection (compatibility with old Cisco IOS).
                                     • disable
     cisco_register_checksum         Choices:
     string                          • enable       Checksum entire register packet(for old Cisco IOS compatibility).
                                     • disable
     cisco_register_checksum_group                  Cisco register checksum only these groups. Source router.access-list.name.
     string
     join_prune_holdtime                            Join/prune holdtime (1 - 65535).
     integer
     message_interval                               Period of time between sending periodic PIM join/prune messages in seconds (1 - 65535).
     integer
     null_register_retries                          Maximum retries of null register (1 - 20).
     integer
     register_rate_limit                            Limit of packets/sec per source registered through this RP (0 - 65535).
     integer
     register_rp_reachability        Choices:
     string                          • enable       Enable/disable check RP is reachable before registering packets.
                                     • disable
                                     Choices:
     register_source                 • disable      Override source address in register packets.
     string                          • interface
                                     • ip-address
     register_source_interface                      Override with primary interface address. Source system.interface.name.
     string
     register_source_ip                             Override with local IP address.
     string
     register_supression                            Period of time to honor register-stop message (1 - 65535 sec).
     integer
     rp_address                                     Statically configure RP addresses.
     list
        group                                       Groups to use this RP. Source router.access-list.name.
        string
        id                                          ID.
        integer / required
        ip_address                                  RP router address.
        string
     rp_register_keepalive                          Timeout for RP receiving data on (S,G) tree (1 - 65535 sec).
     integer
     spt_threshold                   Choices:
     string                          • enable       Enable/disable switching to source specific trees.
                                     • disable
     spt_threshold_group                            Groups allowed to switch to source tree. Source router.access-list.name.
     string
     ssm                             Choices:
     string                          • enable       Enable/disable source specific multicast.
                                     • disable
     ssm_range                                      Groups allowed to source specific multicast. Source router.access-list.name.
     string
    route_limit                                     Maximum number of multicast routes.
    integer
    route_threshold                                 Generate warnings when the number of multicast routes exceeds this number, must not be greater than route-limit.
    integer
   ssl_verify                        Choices:
   boolean                           • no           Ensures FortiGate certificate must be verified by a proper CA.
   added in 2.9                      • yes ←
   username                                         FortiOS or FortiGate username.
   string
   vdom                            Default:         Virtual domain, among those defined previously. A vdom is a virtual instance of the FortiGate that can be configured and used as a different
   string                          "root"           unit.

NOTES                   *fortios_router_multicast-notes*

   Note

     • Requires fortiosapi library developed by Fortinet
     • Run as a local_action in your playbook

EXAMPLES                   *fortios_router_multicast-examples*

 - hosts: localhost
   vars:
    host: "192.168.122.40"
    username: "admin"
    password: ""
    vdom: "root"
    ssl_verify: "False"
   tasks:
   - name: Configure router multicast.
     fortios_router_multicast:
       host:  "{{ host }}"
       username: "{{ username }}"
       password: "{{ password }}"
       vdom:  "{{ vdom }}"
       https: "False"
       router_multicast:
         interface:
          -
             bfd: "enable"
             cisco_exclude_genid: "enable"
             dr_priority: "6"
             hello_holdtime: "7"
             hello_interval: "8"
             igmp:
                 access_group: "<your_own_value> (source router.access-list.name)"
                 immediate_leave_group: "<your_own_value> (source router.access-list.name)"
                 last_member_query_count: "12"
                 last_member_query_interval: "13"
                 query_interval: "14"
                 query_max_response_time: "15"
                 query_timeout: "16"
                 router_alert_check: "enable"
                 version: "3"
             join_group:
              -
                 address: "<your_own_value>"
             multicast_flow: "<your_own_value> (source router.multicast-flow.name)"
             name: "default_name_22 (source system.interface.name)"
             neighbour_filter: "<your_own_value> (source router.access-list.name)"
             passive: "enable"
             pim_mode: "sparse-mode"
             propagation_delay: "26"
             rp_candidate: "enable"
             rp_candidate_group: "<your_own_value> (source router.access-list.name)"
             rp_candidate_interval: "29"
             rp_candidate_priority: "30"
             state_refresh_interval: "31"
             static_group: "<your_own_value> (source router.multicast-flow.name)"
             ttl_threshold: "33"
         multicast_routing: "enable"
         pim_sm_global:
             accept_register_list: "<your_own_value> (source router.access-list.name)"
             accept_source_list: "<your_own_value> (source router.access-list.name)"
             bsr_allow_quick_refresh: "enable"
             bsr_candidate: "enable"
             bsr_hash: "40"
             bsr_interface: "<your_own_value> (source system.interface.name)"
             bsr_priority: "42"
             cisco_crp_prefix: "enable"
             cisco_ignore_rp_set_priority: "enable"
             cisco_register_checksum: "enable"
             cisco_register_checksum_group: "<your_own_value> (source router.access-list.name)"
             join_prune_holdtime: "47"
             message_interval: "48"
             null_register_retries: "49"
             register_rate_limit: "50"
             register_rp_reachability: "enable"
             register_source: "disable"
             register_source_interface: "<your_own_value> (source system.interface.name)"
             register_source_ip: "<your_own_value>"
             register_supression: "55"
             rp_address:
              -
                 group: "<your_own_value> (source router.access-list.name)"
                 id:  "58"
                 ip_address: "<your_own_value>"
             rp_register_keepalive: "60"
             spt_threshold: "enable"
             spt_threshold_group: "<your_own_value> (source router.access-list.name)"
             ssm: "enable"
             ssm_range: "<your_own_value> (source router.access-list.name)"
         route_limit: "65"
         route_threshold: "66"

RETURN VALUES                   *fortios_router_multicast-return values*

   Common return values are documented here, the following are the fields unique to this module:

       Key     Returned                                                                                  Description
   build                Build number of the fortigate image
   string      always   Sample:
                        1547
   http_method          Last method used to provision the content into FortiGate
   string      always   Sample:
                        PUT
   http_status          Last result given by FortiGate on last operation applied
   string      always   Sample:
                        200
   mkey                 Master key (id) used in the last call to FortiGate
   string      success  Sample:
                        id
   name                 Name of the table used to fulfill the request
   string      always   Sample:
                        urlfilter
   path                 Path of the table used to fulfill the request
   string      always   Sample:
                        webfilter
   revision             Internal revision number
   string      always   Sample:
                        17.0.2.10658
   serial               Serial number of the unit
   string      always   Sample:
                        FGVMEVYYQT3AB5352
   status               Indication of the operation's result
   string      always   Sample:
                        success
   vdom                 Virtual domain used
   string      always   Sample:
                        root
   version              Version of the FortiGate
   string      always   Sample:
                        v5.6.3

STATUS                   *fortios_router_multicast-status*

     • This module is not guaranteed to have a backwards compatible interface. [preview]
     • This module is maintained by the Ansible Community. [community]

     • Miguel Angel Munoz (@mamunozgonzalez)
     • Nicolas Thomas (@thomnico)

   Hint

   If you notice any issues in this documentation, you can edit this document to improve it.

   ══════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════

MORE INFO                          *fortios_router_multicast-moreinfo*
>
All arguments are omni-completed, but if you really want to see the online docs:
https://docs.ansible.com/ansible/latest/modules/fortios_router_multicast_module.html
