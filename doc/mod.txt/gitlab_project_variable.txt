SYNOPSIS                   *gitlab_project_variable*

     • When a project variable does not exist, it will be created.
     • When a project variable does exist, its value will be updated when the values are different.
     • Variables which are untouched in the playbook, but are not untouched in the GitLab project, they stay untouched (purge is false) or will be deleted (purge is true).

REQUIREMENTS                   *gitlab_project_variable-requirements*

   The below requirements are needed on the host that executes this module.

     • python >= 2.7
     • python-gitlab python module <= 1.12.1

PARAMETERS                   *gitlab_project_variable-parameters*

       Parameter     Choices/Defaults                                                                            Comments
   api_password                       The password to use for authentication against the API
   string
   api_token                          GitLab access token with API permissions.
   string / required
   api_url                            The resolvable endpoint for the API
   string
   api_username                       The username to use for authentication against the API
   string
   project                            The path and name of the project.
   string / required
   purge               Choices:
   boolean             • no ←         When set to true, all variables which are not untouched in the task will be deleted.
                       • yes
   state               Choices:       Create or delete project variable.
   string              • present ←    Possible values are present and absent.
                       • absent
   validate_certs      Choices:
   boolean             • no           Whether or not to validate SSL certs when supplying a https endpoint.
                       • yes ←
   vars              Default:         A list of key value pairs.
   dictionary        {}

EXAMPLES                   *gitlab_project_variable-examples*

 - name: Set or update some CI/CD variables
   gitlab_project_variable:
     api_url: https://gitlab.com
     api_token: secret_access_token
     project: markuman/dotfiles
     purge: false
     vars:
       ACCESS_KEY_ID: abc123
       SECRET_ACCESS_KEY: 321cba

 - name: Delete one variable
   gitlab_project_variable:
     api_url: https://gitlab.com
     api_token: secret_access_token
     project: markuman/dotfiles
     state: absent
     vars:
       ACCESS_KEY_ID: abc123

RETURN VALUES                   *gitlab_project_variable-return values*

   Common return values are documented here, the following are the fields unique to this module:

         Key        Returned                                                                               Description
   project_variable always   Four lists of the variablenames which were added, updated, removed or exist.
   dictionary
        added                A list of variables which were created.
        list        always   Sample:
                             ['ACCESS_KEY_ID', 'SECRET_ACCESS_KEY']
        removed              A list of variables which were deleted.
        list        always   Sample:
                             ['ACCESS_KEY_ID', 'SECRET_ACCESS_KEY']
        untouched            A list of variables which exist.
        list        always   Sample:
                             ['ACCESS_KEY_ID', 'SECRET_ACCESS_KEY']
        updated              A list of variables whose values were changed.
        list        always   Sample:
                             ['ACCESS_KEY_ID', 'SECRET_ACCESS_KEY']

STATUS                   *gitlab_project_variable-status*

     • This module is not guaranteed to have a backwards compatible interface. [preview]
     • This module is maintained by the Ansible Community. [community]

     • Markus Bergholz (@markuman)

   Hint

   If you notice any issues in this documentation, you can edit this document to improve it.

   ══════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════

MORE INFO                          *gitlab_project_variable-moreinfo*
>
All arguments are omni-completed, but if you really want to see the online docs:
https://docs.ansible.com/ansible/latest/modules/gitlab_project_variable_module.html
