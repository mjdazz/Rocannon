SYNOPSIS                   *fortios_system_admin*

     • This module is able to configure a FortiGate or FortiOS (FOS) device by allowing the user to set and modify system feature and admin category. Examples include all parameters and values need
       to be adjusted to datasources before usage. Tested with FOS v6.0.5

REQUIREMENTS                   *fortios_system_admin-requirements*

   The below requirements are needed on the host that executes this module.

     • fortiosapi>=0.9.8

PARAMETERS                   *fortios_system_admin-parameters*

            Parameter               Choices/Defaults                                                                        Comments
   host                                                    FortiOS or FortiGate IP address.
   string
   https                         Choices:
   boolean                       • no                      Indicates if the requests towards FortiGate must use HTTPS protocol.
                                 • yes ←
   password                    Default:                    FortiOS or FortiGate password.
   string                      ""
   ssl_verify                    Choices:
   boolean                       • no                      Ensures FortiGate certificate must be verified by a proper CA.
   added in 2.9                  • yes ←
   state                         Choices:                  Indicates whether to create or remove the object. This attribute was present already in previous version in a deeper level. It has been
   string                        • present                 moved out to this outer level.
   added in 2.9                  • absent
   system_admin                Default:                    Configure admin users.
   dictionary                  null
    accprofile                                             Access profile for this administrator. Access profiles control administrator access to FortiGate features. Source system.accprofile.name.
    string
    accprofile_override          Choices:                  Enable to use the name of an access profile provided by the remote authentication server to control the FortiGate features that this
    string                       • enable                  administrator can access.
                                 • disable
    allow_remove_admin_session   Choices:
    string                       • enable                  Enable/disable allow admin session to be removed by privileged admin users.
                                 • disable
    comments                                               Comment.
    string
    email_to                                               This administrator's email address.
    string
    force_password_change        Choices:
    string                       • enable                  Enable/disable force password change on next login.
                                 • disable
    fortitoken                                             This administrator's FortiToken serial number.
    string
    guest_auth                   Choices:
    string                       • disable                 Enable/disable guest authentication.
                                 • enable
    guest_lang                                             Guest management portal language. Source system.custom-language.name.
    string
    guest_usergroups                                       Select guest user groups.
    list
      name                                                 Select guest user groups.
      string / required
    gui_dashboard                                          GUI dashboards.
    list
      columns                                              Number of columns.
      integer
      id                                                   Dashboard ID.
      integer / required
      layout_type                Choices:
      string                     • responsive              Layout type.
                                 • fixed
      name                                                 Dashboard name.
      string
      scope                      Choices:
      string                     • global                  Dashboard scope.
                                 • vdom
      widget                                               Dashboard widgets.
      list
       fabric_device                                       Fabric device to monitor.
       string
       fortiview_filters                                   FortiView filters.
       list
            id                                             FortiView Filter ID.
            integer / required
            key                                            Filter key.
            string
            value                                          Filter value.
            string
       fortiview_sort_by                                   FortiView sort by.
       string
       fortiview_timeframe                                 FortiView timeframe.
       string
       fortiview_type                                      FortiView type.
       string
       fortiview_visualization                             FortiView visualization.
       string
       height                                              Height.
       integer
       id                                                  Widget ID.
       integer / required
       industry                  Choices:
       string                    • default                 Security Audit Rating industry.
                                 • custom
       interface                                           Interface to monitor. Source system.interface.name.
       string
       region                    Choices:
       string                    • default                 Security Audit Rating region.
                                 • custom
       title                                               Widget title.
       string
                                 Choices:
                                 • sysinfo
                                 • licinfo
                                 • vminfo
                                 • forticloud
                                 • cpu-usage
                                 • memory-usage
                                 • disk-usage
                                 • log-rate
                                 • sessions
       type                      • session-rate
       string                    • tr-history              Widget type.
                                 • analytics
                                 • usb-modem
                                 • admins
                                 • security-fabric
                                 • security-fabric-ranking
                                 • ha-status
                                 • vulnerability-summary
                                 • host-scan-summary
                                 • fortiview
                                 • botnet-activity
                                 • fortimail
       width                                               Width.
       integer
       x_pos                                               X position.
       integer
       y_pos                                               Y position.
       integer
    gui_global_menu_favorites                              Favorite GUI menu IDs for the global VDOM.
    list
      id                                                   Select menu ID.
      string / required
    gui_vdom_menu_favorites                                Favorite GUI menu IDs for VDOMs.
    list
      id                                                   Select menu ID.
      string / required
    hidden                                                 Admin user hidden attribute.
    integer
    history0                                               history0
    string
    history1                                               history1
    string
    ip6_trusthost1                                         Any IPv6 address from which the administrator can connect to the FortiGate unit. Default allows access from any IPv6 address.
    string
    ip6_trusthost10                                        Any IPv6 address from which the administrator can connect to the FortiGate unit. Default allows access from any IPv6 address.
    string
    ip6_trusthost2                                         Any IPv6 address from which the administrator can connect to the FortiGate unit. Default allows access from any IPv6 address.
    string
    ip6_trusthost3                                         Any IPv6 address from which the administrator can connect to the FortiGate unit. Default allows access from any IPv6 address.
    string
    ip6_trusthost4                                         Any IPv6 address from which the administrator can connect to the FortiGate unit. Default allows access from any IPv6 address.
    string
    ip6_trusthost5                                         Any IPv6 address from which the administrator can connect to the FortiGate unit. Default allows access from any IPv6 address.
    string
    ip6_trusthost6                                         Any IPv6 address from which the administrator can connect to the FortiGate unit. Default allows access from any IPv6 address.
    string
    ip6_trusthost7                                         Any IPv6 address from which the administrator can connect to the FortiGate unit. Default allows access from any IPv6 address.
    string
    ip6_trusthost8                                         Any IPv6 address from which the administrator can connect to the FortiGate unit. Default allows access from any IPv6 address.
    string
    ip6_trusthost9                                         Any IPv6 address from which the administrator can connect to the FortiGate unit. Default allows access from any IPv6 address.
    string
    login_time                                             Record user login time.
    list
      last_failed_login                                    Last failed login time.
      string
      last_login                                           Last successful login time.
      string
      usr_name                                             User name.
      string
    name                                                   User name.
    string / required
    password                                               Admin user password.
    string
    password_expire                                        Password expire time.
    string
    peer_auth                    Choices:
    string                       • enable                  Set to enable peer certificate authentication (for HTTPS admin access).
                                 • disable
    peer_group                                             Name of peer group defined under config user group which has PKI members. Used for peer certificate authentication (for HTTPS admin
    string                                                 access).
    radius_vdom_override         Choices:
    string                       • enable                  Enable to use the names of VDOMs provided by the remote authentication server to control the VDOMs that this administrator can access.
                                 • disable
    remote_auth                  Choices:
    string                       • enable                  Enable/disable authentication using a remote RADIUS, LDAP, or TACACS+ server.
                                 • disable
    remote_group                                           User group name used for remote auth.
    string
    schedule                                               Firewall schedule used to restrict when the administrator can log in. No schedule means no restrictions.
    string
    sms_custom_server                                      Custom SMS server to send SMS messages to. Source system.sms-server.name.
    string
    sms_phone                                              Phone number on which the administrator receives SMS messages.
    string
    sms_server                   Choices:
    string                       • fortiguard              Send SMS messages using the FortiGuard SMS server or a custom server.
                                 • custom
    ssh_certificate                                        Select the certificate to be used by the FortiGate for authentication with an SSH client. Source certificate.local.name.
    string
    ssh_public_key1                                        Public key of an SSH client. The client is authenticated without being asked for credentials. Create the public-private key pair in the
    string                                                 SSH client application.
    ssh_public_key2                                        Public key of an SSH client. The client is authenticated without being asked for credentials. Create the public-private key pair in the
    string                                                 SSH client application.
    ssh_public_key3                                        Public key of an SSH client. The client is authenticated without being asked for credentials. Create the public-private key pair in the
    string                                                 SSH client application.
                                                           Deprecated
                                 Choices:                  Starting with Ansible 2.9 we recommend using the top-level 'state' parameter.
    state                        • present
    string                       • absent                  ══════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════

                                                           Indicates whether to create or remove the object.
    trusthost1                                             Any IPv4 address or subnet address and netmask from which the administrator can connect to the FortiGate unit. Default allows access from
    string                                                 any IPv4 address.
    trusthost10                                            Any IPv4 address or subnet address and netmask from which the administrator can connect to the FortiGate unit. Default allows access from
    string                                                 any IPv4 address.
    trusthost2                                             Any IPv4 address or subnet address and netmask from which the administrator can connect to the FortiGate unit. Default allows access from
    string                                                 any IPv4 address.
    trusthost3                                             Any IPv4 address or subnet address and netmask from which the administrator can connect to the FortiGate unit. Default allows access from
    string                                                 any IPv4 address.
    trusthost4                                             Any IPv4 address or subnet address and netmask from which the administrator can connect to the FortiGate unit. Default allows access from
    string                                                 any IPv4 address.
    trusthost5                                             Any IPv4 address or subnet address and netmask from which the administrator can connect to the FortiGate unit. Default allows access from
    string                                                 any IPv4 address.
    trusthost6                                             Any IPv4 address or subnet address and netmask from which the administrator can connect to the FortiGate unit. Default allows access from
    string                                                 any IPv4 address.
    trusthost7                                             Any IPv4 address or subnet address and netmask from which the administrator can connect to the FortiGate unit. Default allows access from
    string                                                 any IPv4 address.
    trusthost8                                             Any IPv4 address or subnet address and netmask from which the administrator can connect to the FortiGate unit. Default allows access from
    string                                                 any IPv4 address.
    trusthost9                                             Any IPv4 address or subnet address and netmask from which the administrator can connect to the FortiGate unit. Default allows access from
    string                                                 any IPv4 address.
                                 Choices:
    two_factor                   • disable
    string                       • fortitoken              Enable/disable two-factor authentication.
                                 • email
                                 • sms
    vdom                                                   Virtual domain(s) that the administrator can access.
    list
      name                                                 Virtual domain name. Source system.vdom.name.
      string / required
    wildcard                     Choices:
    string                       • enable                  Enable/disable wildcard RADIUS authentication.
                                 • disable
   username                                                FortiOS or FortiGate username.
   string
   vdom                        Default:                    Virtual domain, among those defined previously. A vdom is a virtual instance of the FortiGate that can be configured and used as a
   string                      "root"                      different unit.

NOTES                   *fortios_system_admin-notes*

   Note

     • Requires fortiosapi library developed by Fortinet
     • Run as a local_action in your playbook

EXAMPLES                   *fortios_system_admin-examples*

 - hosts: localhost
   vars:
    host: "192.168.122.40"
    username: "admin"
    password: ""
    vdom: "root"
    ssl_verify: "False"
   tasks:
   - name: Configure admin users.
     fortios_system_admin:
       host:  "{{ host }}"
       username: "{{ username }}"
       password: "{{ password }}"
       vdom:  "{{ vdom }}"
       https: "False"
       state: "present"
       system_admin:
         accprofile: "<your_own_value> (source system.accprofile.name)"
         accprofile_override: "enable"
         allow_remove_admin_session: "enable"
         comments: "<your_own_value>"
         email_to: "<your_own_value>"
         force_password_change: "enable"
         fortitoken: "<your_own_value>"
         guest_auth: "disable"
         guest_lang: "<your_own_value> (source system.custom-language.name)"
         guest_usergroups:
          -
             name: "default_name_13"
         gui_dashboard:
          -
             columns: "15"
             id:  "16"
             layout_type: "responsive"
             name: "default_name_18"
             scope: "global"
             widget:
              -
                 fabric_device: "<your_own_value>"
                 fortiview_filters:
                  -
                     id:  "23"
                     key: "<your_own_value>"
                     value: "<your_own_value>"
                 fortiview_sort_by: "<your_own_value>"
                 fortiview_timeframe: "<your_own_value>"
                 fortiview_type: "<your_own_value>"
                 fortiview_visualization: "<your_own_value>"
                 height: "30"
                 id:  "31"
                 industry: "default"
                 interface: "<your_own_value> (source system.interface.name)"
                 region: "default"
                 title: "<your_own_value>"
                 type: "sysinfo"
                 width: "37"
                 x_pos: "38"
                 y_pos: "39"
         gui_global_menu_favorites:
          -
             id:  "41"
         gui_vdom_menu_favorites:
          -
             id:  "43"
         hidden: "44"
         history0: "<your_own_value>"
         history1: "<your_own_value>"
         ip6_trusthost1: "<your_own_value>"
         ip6_trusthost10: "<your_own_value>"
         ip6_trusthost2: "<your_own_value>"
         ip6_trusthost3: "<your_own_value>"
         ip6_trusthost4: "<your_own_value>"
         ip6_trusthost5: "<your_own_value>"
         ip6_trusthost6: "<your_own_value>"
         ip6_trusthost7: "<your_own_value>"
         ip6_trusthost8: "<your_own_value>"
         ip6_trusthost9: "<your_own_value>"
         login_time:
          -
             last_failed_login: "<your_own_value>"
             last_login: "<your_own_value>"
             usr_name: "<your_own_value>"
         name: "default_name_61"
         password: "<your_own_value>"
         password_expire: "<your_own_value>"
         peer_auth: "enable"
         peer_group: "<your_own_value>"
         radius_vdom_override: "enable"
         remote_auth: "enable"
         remote_group: "<your_own_value>"
         schedule: "<your_own_value>"
         sms_custom_server: "<your_own_value> (source system.sms-server.name)"
         sms_phone: "<your_own_value>"
         sms_server: "fortiguard"
         ssh_certificate: "<your_own_value> (source certificate.local.name)"
         ssh_public_key1: "<your_own_value>"
         ssh_public_key2: "<your_own_value>"
         ssh_public_key3: "<your_own_value>"
         trusthost1: "<your_own_value>"
         trusthost10: "<your_own_value>"
         trusthost2: "<your_own_value>"
         trusthost3: "<your_own_value>"
         trusthost4: "<your_own_value>"
         trusthost5: "<your_own_value>"
         trusthost6: "<your_own_value>"
         trusthost7: "<your_own_value>"
         trusthost8: "<your_own_value>"
         trusthost9: "<your_own_value>"
         two_factor: "disable"
         vdom:
          -
             name: "default_name_89 (source system.vdom.name)"
         wildcard: "enable"

RETURN VALUES                   *fortios_system_admin-return values*

   Common return values are documented here, the following are the fields unique to this module:

       Key     Returned                                                                                  Description
   build                Build number of the fortigate image
   string      always   Sample:
                        1547
   http_method          Last method used to provision the content into FortiGate
   string      always   Sample:
                        PUT
   http_status          Last result given by FortiGate on last operation applied
   string      always   Sample:
                        200
   mkey                 Master key (id) used in the last call to FortiGate
   string      success  Sample:
                        id
   name                 Name of the table used to fulfill the request
   string      always   Sample:
                        urlfilter
   path                 Path of the table used to fulfill the request
   string      always   Sample:
                        webfilter
   revision             Internal revision number
   string      always   Sample:
                        17.0.2.10658
   serial               Serial number of the unit
   string      always   Sample:
                        FGVMEVYYQT3AB5352
   status               Indication of the operation's result
   string      always   Sample:
                        success
   vdom                 Virtual domain used
   string      always   Sample:
                        root
   version              Version of the FortiGate
   string      always   Sample:
                        v5.6.3

STATUS                   *fortios_system_admin-status*

     • This module is not guaranteed to have a backwards compatible interface. [preview]
     • This module is maintained by the Ansible Community. [community]

     • Miguel Angel Munoz (@mamunozgonzalez)
     • Nicolas Thomas (@thomnico)

   Hint

   If you notice any issues in this documentation, you can edit this document to improve it.

   ══════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════

MORE INFO                          *fortios_system_admin-moreinfo*
>
All arguments are omni-completed, but if you really want to see the online docs:
https://docs.ansible.com/ansible/latest/modules/fortios_system_admin_module.html
