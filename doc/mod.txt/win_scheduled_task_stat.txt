SYNOPSIS                   *win_scheduled_task_stat*

     • Will return whether the folder and task exists.
     • Returns the names of tasks in the folder specified.
     • Use win_scheduled_task to configure a scheduled task.

PARAMETERS                   *win_scheduled_task_stat-parameters*

   Parameter Choices/Defaults                                                                                Comments
   name                       The name of the scheduled task to get information for.
   string                     If name is set and exists, will return information on the task itself.
   path      Default:         The folder path where the task lives.
   string    "\\"

SEE ALSO                   *win_scheduled_task_stat-see also*

   See also

   win_scheduled_task – Manage scheduled tasks
   The official documentation on the win_scheduled_task module.

EXAMPLES                   *win_scheduled_task_stat-examples*

 - name: Get information about a folder
   win_scheduled_task_stat:
     path: \folder name
   register: task_folder_stat

 - name: Get information about a task in the root folder
   win_scheduled_task_stat:
     name: task name
   register: task_stat

 - name: Get information about a task in a custom folder
   win_scheduled_task_stat:
     path: \folder name
     name: task name
   register: task_stat

RETURN VALUES                   *win_scheduled_task_stat-return values*

   Common return values are documented here, the following are the fields unique to this module:

                    Key                   Returned                                                                     Description
                                          name is   A list of actions.
   actions                                specified Sample:
   list                                   and task  [{'Arguments': '/c echo hi', 'Id': None, 'Path': 'cmd.exe', 'Type': 'TASK_ACTION_EXEC', 'WorkingDirectory': None}]
                                          exists
   folder_exists                                    Whether the folder set at path exists.
   boolean                                always    Sample:
                                                    True
   folder_task_count                                The number of tasks that exist in the folder.
   integer                                always    Sample:
                                                    2
   folder_task_names                                A list of tasks that exist in the folder.
   list                                   always    Sample:
                                                    ['Task 1', 'Task 2']
                                          name is
   principal                              specified Details on the principal configured to run the task.
   complex                                and task
                                          exists
     display_name                                   The name of the user/group that is displayed in the Task Scheduler UI.
     string                                         Sample:
                                                    Administrator
     group_id                                       The group that will run the task.
     string                                         Sample:
                                                    BUILTIN\Administrators
     id                                             The ID for the principal.
     string                                         Sample:
                                                    Author
     logon_type                                     The logon method that the task will run with.
     string                                         Sample:
                                                    TASK_LOGON_INTERACTIVE_TOKEN
     run_level                                      The level of user rights used to run the task.
     string                                         Sample:
                                                    TASK_RUNLEVEL_LUA
     user_id                                        The user that will run the task.
     string                                         Sample:
                                                    SERVER\Administrator
                                          name is
   registration_info                      specified Details on the task registration info.
   complex                                and task
                                          exists
     author                                         The author os the task.
     string                                         Sample:
                                                    SERVER\Administrator
     date                                           The date when the task was register.
     string                                         Sample:
                                                    2017-01-01T10:00:00
     description                                    The description of the task.
     string                                         Sample:
                                                    task description
     documentation                                  The documentation of the task.
     string                                         Sample:
                                                    task documentation
     security_descriptor                            The security descriptor of the task.
     string                                         Sample:
                                                    security descriptor
     source                                         The source of the task.
     string                                         Sample:
                                                    source
     uri                                            The URI/path of the task.
     string                                         Sample:
                                                    \task\task name
     version                                        The version of the task.
     string                                         Sample:
                                                    1.0
                                          name is
   settings                               specified Details on the task settings.
   complex                                and task
                                          exists
     allow_demand_start                             Whether the task can be started by using either the Run command of the Context menu.
     boolean                                        Sample:
                                                    True
     allow_hard_terminate                           Whether the task can terminated by using TerminateProcess.
     boolean                                        Sample:
                                                    True
     compatibility                                  The compatibility level of the task
     integer                                        Sample:
                                                    2
     delete_expired_task_after                      The amount of time the Task Scheduler will wait before deleting the task after it expires.
     string                                         Sample:
                                                    PT10M
     disallow_start_if_on_batteries                 Whether the task will not be started if the computer is running on battery power.
     boolean
     disallow_start_on_remote_app_session           Whether the task will not be started when in a remote app session.
     boolean                                        Sample:
                                                    True
     enabled                                        Whether the task is enabled.
     boolean                                        Sample:
                                                    True
     execution_time_limit                           The amount of time allowed to complete the task.
     string                                         Sample:
                                                    PT72H
     hidden                                         Whether the task is hidden in the UI.
     boolean
     idle_settings                                  The idle settings of the task.
     dictionary                                     Sample:
                                                    {'idle_duration': 'PT10M', 'restart_on_idle': False, 'stop_on_idle_end': True, 'wait_timeout': 'PT1H'}
     maintenance_settings                           The maintenance settings of the task.
     string
     mulitple_instances                             Indicates the behaviour when starting a task that is already running.
     integer                                        Sample:
                                                    2
     network_settings                               The network settings of the task.
     dictionary                                     Sample:
                                                    {'id': None, 'name': None}
     priority                                       The priority level of the task.
     integer                                        Sample:
                                                    7
     restart_count                                  The number of times that the task will attempt to restart on failures.
     integer
     restart_interval                               How long the Task Scheduler will attempt to restart the task.
     string                                         Sample:
                                                    PT15M
     run_only_id_idle                               Whether the task will run if the computer is in an idle state.
     boolean                                        Sample:
                                                    True
     run_only_if_network_available                  Whether the task will run only when a network is available.
     boolean
     start_when_available                           Whether the task can start at any time after its scheduled time has passed.
     boolean
     stop_if_going_on_batteries                     Whether the task will be stopped if the computer begins to run on battery power.
     boolean                                        Sample:
                                                    True
     use_unified_scheduling_engine                  Whether the task will use the unified scheduling engine.
     boolean
     volatile                                       Whether the task is volatile.
     boolean
     wake_to_run                                    Whether the task will wake the computer when it is time to run the task.
     boolean
                                          name is
   state                                  specified Details on the state of the task
   complex                                and task
                                          exists
     last_run_time                                  The time the registered task was last run.
     string                                         Sample:
                                                    2017-09-20T20:50:00
     last_task_result                               The results that were returned the last time the task was run.
     integer                                        Sample:
                                                    267009
     next_run_time                                  The time when the task is next scheduled to run.
     string                                         Sample:
                                                    2017-09-20T22:50:00
     number_of_missed_runs                          The number of times a task has missed a scheduled run.
     integer                                        Sample:
                                                    1
     status                                         The status of the task, whether it is running, stopped, etc.
     string                                         Sample:
                                                    TASK_STATE_RUNNING
   task_exists                            name is   Whether the task at the folder exists.
   boolean                                specified Sample:
                                                    True
                                                    A list of triggers.
                                          name is   Sample:
   triggers                               specified [{'delay': 'PT15M', 'enabled': True, 'end_boundary': None, 'execution_time_limit': None, 'id': None, 'repetition': {'duration': None, 'interval':
   list                                   and task  None, 'stop_at_duration_end': False}, 'start_boundary': None, 'type': 'TASK_TRIGGER_BOOT'}, {'days_of_month': '5,15,30', 'enabled': True,
                                          exists    'end_boundary': None, 'execution_time_limit': None, 'id': None, 'months_of_year': 'june,december', 'random_delay': None, 'repetition':
                                                    {'duration': None, 'interval': None, 'stop_at_duration_end': False}, 'run_on_last_day_of_month': True, 'start_boundary': '2017-09-20T03:44:38',
                                                    'type': 'TASK_TRIGGER_MONTHLY'}]

STATUS                   *win_scheduled_task_stat-status*

     • This module is not guaranteed to have a backwards compatible interface. [preview]
     • This module is maintained by the Ansible Community. [community]

     • Jordan Borean (@jborean93)

   Hint

   If you notice any issues in this documentation, you can edit this document to improve it.

   ══════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════

MORE INFO                          *win_scheduled_task_stat-moreinfo*
>
All arguments are omni-completed, but if you really want to see the online docs:
https://docs.ansible.com/ansible/latest/modules/win_scheduled_task_stat_module.html
