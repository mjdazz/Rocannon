SYNOPSIS                   *cs_account*

     • Create, disable, lock, enable and remove accounts.

REQUIREMENTS                   *cs_account-requirements*

   The below requirements are needed on the host that executes this module.

     • python >= 2.6
     • cs >= 0.6.10

PARAMETERS                   *cs_account-parameters*

       Parameter      Choices/Defaults                                                                            Comments
                       Choices:
   account_type        • user ←         Type of the account.
   string              • root_admin
                       • domain_admin
                       Choices:         HTTP method used to query the API endpoint.
   api_http_method     • get            If not given, the CLOUDSTACK_METHOD env variable is considered.
   string              • post           As the last option, the value is taken from the ini config file, also see the notes.
                                        Fallback value is get if not specified.
   api_key                              API key of the CloudStack API.
   string                               If not given, the CLOUDSTACK_KEY env variable is considered.
                                        As the last option, the value is taken from the ini config file, also see the notes.
   api_region        Default:           Name of the ini section in the cloustack.ini file.
   string            "cloudstack"       If not given, the CLOUDSTACK_REGION env variable is considered.
   api_secret                           Secret key of the CloudStack API.
   string                               If not set, the CLOUDSTACK_SECRET env variable is considered.
                                        As the last option, the value is taken from the ini config file, also see the notes.
                                        HTTP timeout in seconds.
   api_timeout                          If not given, the CLOUDSTACK_TIMEOUT env variable is considered.
   integer                              As the last option, the value is taken from the ini config file, also see the notes.
                                        Fallback value is 10 seconds if not specified.
   api_url                              URL of the CloudStack API e.g. https://cloud.example.com/client/api.
   string                               If not given, the CLOUDSTACK_ENDPOINT env variable is considered.
                                        As the last option, the value is taken from the ini config file, also see the notes.
   domain            Default:           Domain the account is related to.
   string            "ROOT"
   email                                Email of the user to be created if account did not exist.
   string                               Required on state=present if ldap_domain is not set.
   first_name                           First name of the user to be created if account did not exist.
   string                               Required on state=present if ldap_domain is not set.
   last_name                            Last name of the user to be created if account did not exist.
   string                               Required on state=present if ldap_domain is not set.
   ldap_domain                          Name of the LDAP group or OU to bind.
   string                               If set, account will be linked to LDAP.
   added in 2.8
   ldap_type           Choices:
   string              • GROUP ←        Type of the ldap name. GROUP or OU, defaults to GROUP.
   added in 2.8        • OU
   name                                 Name of account.
   string / required
   network_domain                       Network domain of the account.
   string
   password                             Password of the user to be created if account did not exist.
   string                               Required on state=present if ldap_domain is not set.
   poll_async          Choices:
   boolean             • no             Poll async jobs until job has finished.
                       • yes ←
   role
   string                               Creates the account under the specified role name or id.
   added in 2.8
                       Choices:
                       • present ←
   state               • absent         State of the account.
   string              • enabled        unlocked is an alias for enabled.
                       • disabled
                       • locked
                       • unlocked
   timezone                             Timezone of the user to be created if account did not exist.
   string
   username                             Username of the user to be created if account did not exist.
   string                               Required on state=present.

NOTES                   *cs_account-notes*

   Note

     • Ansible uses the cs library’s configuration method if credentials are not provided by the arguments api_url, api_key, api_secret. Configuration is read from several locations, in the
       following order. The CLOUDSTACK_ENDPOINT, CLOUDSTACK_KEY, CLOUDSTACK_SECRET and CLOUDSTACK_METHOD. CLOUDSTACK_TIMEOUT environment variables. A CLOUDSTACK_CONFIG environment variable pointing
       to an .ini file. A cloudstack.ini file in the current working directory. A .cloudstack.ini file in the users home directory. Optionally multiple credentials and endpoints can be specified
       using ini sections in cloudstack.ini. Use the argument api_region to select the section name, default section is cloudstack. See https://github.com/exoscale/cs for more information.
     • A detailed guide about cloudstack modules can be found in the CloudStack Cloud Guide.
     • This module supports check mode.

EXAMPLES                   *cs_account-examples*

 - name: create an account in domain 'CUSTOMERS'
   cs_account:
     name: customer_xy
     username: customer_xy
     password: S3Cur3
     last_name: Doe
     first_name: John
     email: [email protected]
     domain: CUSTOMERS
     role: Domain Admin
   delegate_to: localhost

 - name: Lock an existing account in domain 'CUSTOMERS'
   cs_account:
     name: customer_xy
     domain: CUSTOMERS
     state: locked
   delegate_to: localhost

 - name: Disable an existing account in domain 'CUSTOMERS'
   cs_account:
     name: customer_xy
     domain: CUSTOMERS
     state: disabled
   delegate_to: localhost

 - name: Enable an existing account in domain 'CUSTOMERS'
   cs_account:
     name: customer_xy
     domain: CUSTOMERS
     state: enabled
   delegate_to: localhost

 - name: Remove an account in domain 'CUSTOMERS'
   cs_account:
     name: customer_xy
     domain: CUSTOMERS
     state: absent
   delegate_to: localhost

 - name: Create a single user LDAP account in domain 'CUSTOMERS'
   cs_account:
     name: customer_xy
     username: customer_xy
     domain: CUSTOMERS
     ldap_domain: cn=customer_xy,cn=team_xy,ou=People,dc=domain,dc=local
   delegate_to: localhost

 - name: Create a LDAP account in domain 'CUSTOMERS' and bind it to a LDAP group
   cs_account:
     name: team_xy
     username: customer_xy
     domain: CUSTOMERS
     ldap_domain: cn=team_xy,ou=People,dc=domain,dc=local
   delegate_to: localhost

RETURN VALUES                   *cs_account-return values*

   Common return values are documented here, the following are the fields unique to this module:

        Key       Returned                                                                                Description
   account_type            Type of the account.
   string         success  Sample:
                           user
   domain                  Domain the account is related.
   string         success  Sample:
                           ROOT
   id                      UUID of the account.
   string         success  Sample:
                           87b1e0ce-4e01-11e4-bb66-0050569e64b8
   name                    Name of the account.
   string         success  Sample:
                           [email protected]
   network_domain          Network domain of the account.
   string         success  Sample:
                           example.local
   role                    The role name of the account
   string         success  Sample:
                           Domain Admin
   state                   State of the account.
   string         success  Sample:
                           enabled

STATUS                   *cs_account-status*

     • This module is guaranteed to have backward compatible interface changes going forward. [stableinterface]
     • This module is maintained by the Ansible Community. [community]

     • René Moser (@resmo)

   Hint

   If you notice any issues in this documentation, you can edit this document to improve it.

   ══════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════

MORE INFO                          *cs_account-moreinfo*
>
All arguments are omni-completed, but if you really want to see the online docs:
https://docs.ansible.com/ansible/latest/modules/cs_account_module.html
