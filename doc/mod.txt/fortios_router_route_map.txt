SYNOPSIS                   *fortios_router_route_map*

     • This module is able to configure a FortiGate or FortiOS (FOS) device by allowing the user to set and modify router feature and route_map category. Examples include all parameters and values
       need to be adjusted to datasources before usage. Tested with FOS v6.0.5

REQUIREMENTS                   *fortios_router_route_map-requirements*

   The below requirements are needed on the host that executes this module.

     • fortiosapi>=0.9.8

PARAMETERS                   *fortios_router_route_map-parameters*

                  Parameter                 Choices/Defaults                                                                 Comments
   host                                                      FortiOS or FortiGate IP address.
   string
   https                                      Choices:
   boolean                                    • no           Indicates if the requests towards FortiGate must use HTTPS protocol.
                                              • yes ←
   password                                 Default:         FortiOS or FortiGate password.
   string                                   ""
   router_route_map                         Default:         Configure route maps.
   dictionary                               null
    comments                                                 Optional comments.
    string
    name                                                     Name.
    string / required
    rule                                                     Rule.
    list
     action                                   Choices:
     string                                   • permit       Action.
                                              • deny
     id                                                      Rule ID.
     integer / required
     match_as_path                                           Match BGP AS path list. Source router.aspath-list.name.
     string
     match_community                                         Match BGP community list. Source router.community-list.name.
     string
     match_community_exact                    Choices:
     string                                   • enable       Enable/disable exact matching of communities.
                                              • disable
     match_flags                                             BGP flag value to match (0 - 65535)
     integer
     match_interface                                         Match interface configuration. Source system.interface.name.
     string
     match_ip6_address                                       Match IPv6 address permitted by access-list6 or prefix-list6. Source router.access-list6.name router.prefix-list6.name.
     string
     match_ip6_nexthop                                       Match next hop IPv6 address passed by access-list6 or prefix-list6. Source router.access-list6.name router.prefix-list6.name.
     string
     match_ip_address                                        Match IP address permitted by access-list or prefix-list. Source router.access-list.name router.prefix-list.name.
     string
     match_ip_nexthop                                        Match next hop IP address passed by access-list or prefix-list. Source router.access-list.name router.prefix-list.name.
     string
     match_metric                                            Match metric for redistribute routes.
     integer
                                              Choices:
     match_origin                             • none
     string                                   • egp          Match BGP origin code.
                                              • igp
                                              • incomplete
                                              Choices:
     match_route_type                         • 1            Match route type.
     string                                   • 2
                                              • none
     match_tag                                               Match tag.
     integer
     set_aggregator_as                                       BGP aggregator AS.
     integer
     set_aggregator_ip                                       BGP aggregator IP.
     string
     set_aspath                                              Prepend BGP AS path attribute.
     list
                   as                                        AS number (0 - 42949672).
                   string / required
     set_aspath_action                        Choices:
     string                                   • prepend      Specify preferred action of set-aspath.
                                              • replace
     set_atomic_aggregate                     Choices:
     string                                   • enable       Enable/disable BGP atomic aggregate attribute.
                                              • disable
     set_community                                           BGP community attribute.
     list
                   community                                 Attribute: AA|AA:NN|internet|local-AS|no-advertise|no-export.
                   string / required
     set_community_additive                   Choices:
     string                                   • enable       Enable/disable adding set-community to existing community.
                                              • disable
     set_community_delete                                    Delete communities matching community list. Source router.community-list.name.
     string
     set_dampening_max_suppress                              Maximum duration to suppress a route (1 - 255 min, 0 = unset).
     integer
     set_dampening_reachability_half_life                    Reachability half-life time for the penalty (1 - 45 min, 0 = unset).
     integer
     set_dampening_reuse                                     Value to start reusing a route (1 - 20000, 0 = unset).
     integer
     set_dampening_suppress                                  Value to start suppressing a route (1 - 20000, 0 = unset).
     integer
     set_dampening_unreachability_half_life                  Unreachability Half-life time for the penalty (1 - 45 min, 0 = unset)
     integer
     set_extcommunity_rt                                     Route Target extended community.
     list
                   community                                 Set the target extended community (in decimal notation) of a BGP route.
                   string / required
     set_extcommunity_soo                                    Site-of-Origin extended community.
     list
                   community                                 AA:NN
                   string / required
     set_flags                                               BGP flags value (0 - 65535)
     integer
     set_ip6_nexthop                                         IPv6 global address of next hop.
     string
     set_ip6_nexthop_local                                   IPv6 local address of next hop.
     string
     set_ip_nexthop                                          IP address of next hop.
     string
     set_local_preference                                    BGP local preference path attribute.
     integer
     set_metric                                              Metric value.
     integer
                                              Choices:
     set_metric_type                          • 1            Metric type.
     string                                   • 2
                                              • none
                                              Choices:
     set_origin                               • none
     string                                   • egp          BGP origin code.
                                              • igp
                                              • incomplete
     set_originator_id                                       BGP originator ID attribute.
     string
     set_route_tag                                           Route tag for routing table.
     integer
     set_tag                                                 Tag value.
     integer
     set_weight                                              BGP weight for routing table.
     integer
   ssl_verify                                 Choices:
   boolean                                    • no           Ensures FortiGate certificate must be verified by a proper CA.
                                              • yes ←
   state                                      Choices:
   string / required                          • present      Indicates whether to create or remove the object.
                                              • absent
   username                                                  FortiOS or FortiGate username.
   string
   vdom                                     Default:         Virtual domain, among those defined previously. A vdom is a virtual instance of the FortiGate that can be configured and used as a
   string                                   "root"           different unit.

NOTES                   *fortios_router_route_map-notes*

   Note

     • Requires fortiosapi library developed by Fortinet
     • Run as a local_action in your playbook

EXAMPLES                   *fortios_router_route_map-examples*

 - hosts: localhost
   vars:
    host: "192.168.122.40"
    username: "admin"
    password: ""
    vdom: "root"
    ssl_verify: "False"
   tasks:
   - name: Configure route maps.
     fortios_router_route_map:
       host:  "{{ host }}"
       username: "{{ username }}"
       password: "{{ password }}"
       vdom:  "{{ vdom }}"
       https: "False"
       state: "present"
       router_route_map:
         comments: "<your_own_value>"
         name: "default_name_4"
         rule:
          -
             action: "permit"
             id:  "7"
             match_as_path: "<your_own_value> (source router.aspath-list.name)"
             match_community: "<your_own_value> (source router.community-list.name)"
             match_community_exact: "enable"
             match_flags: "11"
             match_interface: "<your_own_value> (source system.interface.name)"
             match_ip_address: "<your_own_value> (source router.access-list.name router.prefix-list.name)"
             match_ip_nexthop: "<your_own_value> (source router.access-list.name router.prefix-list.name)"
             match_ip6_address: "<your_own_value> (source router.access-list6.name router.prefix-list6.name)"
             match_ip6_nexthop: "<your_own_value> (source router.access-list6.name router.prefix-list6.name)"
             match_metric: "17"
             match_origin: "none"
             match_route_type: "1"
             match_tag: "20"
             set_aggregator_as: "21"
             set_aggregator_ip: "<your_own_value>"
             set_aspath:
              -
                 as: "<your_own_value>"
             set_aspath_action: "prepend"
             set_atomic_aggregate: "enable"
             set_community:
              -
                 community: "<your_own_value>"
             set_community_additive: "enable"
             set_community_delete: "<your_own_value> (source router.community-list.name)"
             set_dampening_max_suppress: "31"
             set_dampening_reachability_half_life: "32"
             set_dampening_reuse: "33"
             set_dampening_suppress: "34"
             set_dampening_unreachability_half_life: "35"
             set_extcommunity_rt:
              -
                 community: "<your_own_value>"
             set_extcommunity_soo:
              -
                 community: "<your_own_value>"
             set_flags: "40"
             set_ip_nexthop: "<your_own_value>"
             set_ip6_nexthop: "<your_own_value>"
             set_ip6_nexthop_local: "<your_own_value>"
             set_local_preference: "44"
             set_metric: "45"
             set_metric_type: "1"
             set_origin: "none"
             set_originator_id: "<your_own_value>"
             set_route_tag: "49"
             set_tag: "50"
             set_weight: "51"

RETURN VALUES                   *fortios_router_route_map-return values*

   Common return values are documented here, the following are the fields unique to this module:

       Key     Returned                                                                                  Description
   build                Build number of the fortigate image
   string      always   Sample:
                        1547
   http_method          Last method used to provision the content into FortiGate
   string      always   Sample:
                        PUT
   http_status          Last result given by FortiGate on last operation applied
   string      always   Sample:
                        200
   mkey                 Master key (id) used in the last call to FortiGate
   string      success  Sample:
                        id
   name                 Name of the table used to fulfill the request
   string      always   Sample:
                        urlfilter
   path                 Path of the table used to fulfill the request
   string      always   Sample:
                        webfilter
   revision             Internal revision number
   string      always   Sample:
                        17.0.2.10658
   serial               Serial number of the unit
   string      always   Sample:
                        FGVMEVYYQT3AB5352
   status               Indication of the operation's result
   string      always   Sample:
                        success
   vdom                 Virtual domain used
   string      always   Sample:
                        root
   version              Version of the FortiGate
   string      always   Sample:
                        v5.6.3

STATUS                   *fortios_router_route_map-status*

     • This module is not guaranteed to have a backwards compatible interface. [preview]
     • This module is maintained by the Ansible Community. [community]

     • Miguel Angel Munoz (@mamunozgonzalez)
     • Nicolas Thomas (@thomnico)

   Hint

   If you notice any issues in this documentation, you can edit this document to improve it.

   ══════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════

MORE INFO                          *fortios_router_route_map-moreinfo*
>
All arguments are omni-completed, but if you really want to see the online docs:
https://docs.ansible.com/ansible/latest/modules/fortios_router_route_map_module.html
