SYNOPSIS                   *ovirt_datacenter*

     • Module to manage data centers in oVirt/RHV

REQUIREMENTS                   *ovirt_datacenter-requirements*

   The below requirements are needed on the host that executes this module.

     • python >= 2.7
     • ovirt-engine-sdk-python >= 4.3.0

PARAMETERS                   *ovirt_datacenter-parameters*

         Parameter       Choices/Defaults                                                                          Comments
   auth                                   Dictionary with values needed to create HTTP/HTTPS connection to oVirt:
   dictionary / required
                                          A PEM file containing the trusted CA certificates.
         ca_file                          The certificate presented by the server will be verified using these CA certificates.
         string                           If ca_file parameter is not set, system wide CA certificate store is used.
                                          Default value is set by OVIRT_CAFILE environment variable.
         headers                          Dictionary of HTTP headers to be added to each API call.
         dictionary
         hostname                         A string containing the hostname of the server, usually something like `server.example.com`.
         string                           Default value is set by OVIRT_HOSTNAME environment variable.
                                          Either url or hostname is required.
         insecure          Choices:
         boolean           • no           A boolean flag that indicates if the server TLS certificate and host name should be checked.
                           • yes
         kerberos          Choices:
         boolean           • no           A boolean flag indicating if Kerberos authentication should be used instead of the default basic authentication.
                           • yes
         password                         The password of the user.
         string /                         Default value is set by OVIRT_PASSWORD environment variable.
         required
         token                            Token to be used instead of login with username/password.
         string                           Default value is set by OVIRT_TOKEN environment variable.
         url                              A string containing the API URL of the server, usually something like `https://server.example.com/ovirt-engine/api`.
         string                           Default value is set by OVIRT_URL environment variable.
                                          Either url or hostname is required.
         username                         The name of the user, something like [email protected].
         string /                         Default value is set by OVIRT_USERNAME environment variable.
         required
   comment                                Comment of the data center.
   -
   compatibility_version                  Compatibility version of the data center.
   -
   description                            Description of the data center.
   -
   fetch_nested            Choices:       If True the module will fetch additional data from the API.
   boolean                 • no           It will fetch IDs of the VMs disks, snapshots, etc. User can configure to fetch other attributes of the nested entities by specifying nested_attributes.
                           • yes
   force                   Choices:       This parameter can be used only when removing a data center. If True data center will be forcibly removed, even though it contains some clusters. Default
   boolean                 • no ←         value is False, which means that only empty data center can be removed.
   added in 2.5            • yes
   id
   -                                      ID of the datacenter to manage.
   added in 2.8
   local                   Choices:       True if the data center should be local, False if should be shared.
   boolean                 • no           Default value is set by engine.
                           • yes
   mac_pool                               MAC pool to be used by this datacenter.
   -                                      IMPORTANT: This option is deprecated in oVirt/RHV 4.1. You should use mac_pool in ovirt_clusters module, as MAC pools are set per cluster since 4.1.
   name                                   Name of the data center to manage.
   - / required
   nested_attributes                      Specifies list of the attributes which should be fetched from the API.
   list                                   This parameter apply only when fetch_nested is true.
   poll_interval         Default:         Number of the seconds the module waits until another poll request on entity status is sent.
   integer               3
                           Choices:
   quota_mode              • disabled     Quota mode of the data center. One of disabled, audit or enabled
   -                       • audit
                           • enabled
   state                   Choices:
   -                       • present ←    Should the data center be present or absent.
                           • absent
   timeout               Default:         The amount of time in seconds the module should wait for the instance to get into desired state.
   integer               180
   wait                    Choices:
   boolean                 • no           yes if the module should wait for the entity to get into desired state.
                           • yes ←

NOTES                   *ovirt_datacenter-notes*

   Note

     • In order to use this module you have to install oVirt Python SDK. To ensure it’s installed with correct version you can create the following task: pip: name=ovirt-engine-sdk-python
       version=4.3.0

EXAMPLES                   *ovirt_datacenter-examples*

 # Examples don't contain auth parameter for simplicity,
 # look at ovirt_auth module to see how to reuse authentication:

 # Create datacenter
 - ovirt_datacenter:
     name: mydatacenter
     local: True
     compatibility_version: 4.0
     quota_mode: enabled

 # Remove datacenter
 - ovirt_datacenter:
     state: absent
     name: mydatacenter

 # Change Datacenter Name
 - ovirt_datacenter:
     id: 00000000-0000-0000-0000-000000000000
     name: "new_datacenter_name"

RETURN VALUES                   *ovirt_datacenter-return values*

   Common return values are documented here, the following are the fields unique to this module:

       Key      Returned                                                                                  Description
               On success
   data_center if         Dictionary of all the datacenter attributes. Datacenter attributes can be found on your oVirt/RHV instance at following url:
   dictionary  datacenter http://ovirt.github.io/ovirt-engine-api-model/master/#types/datacenter.
               is found.
               On success ID of the managed datacenter
   id          if         Sample:
   string      datacenter 7de90f31-222c-436c-a1ca-7e655bd5b60c
               is found.

STATUS                   *ovirt_datacenter-status*

     • This module is not guaranteed to have a backwards compatible interface. [preview]
     • This module is maintained by the Ansible Community. [community]

     • Ondra Machacek (@machacekondra)

   Hint

   If you notice any issues in this documentation, you can edit this document to improve it.

   ══════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════

MORE INFO                          *ovirt_datacenter-moreinfo*
>
All arguments are omni-completed, but if you really want to see the online docs:
https://docs.ansible.com/ansible/latest/modules/ovirt_datacenter_module.html
