SYNOPSIS                   *open_iscsi*

     • Discover targets on given portal, (dis)connect targets, mark targets to manually or auto start, return device nodes of connected targets.

REQUIREMENTS                   *open_iscsi-requirements*

   The below requirements are needed on the host that executes this module.

     • open_iscsi library and tools (iscsiadm)

PARAMETERS                   *open_iscsi-parameters*

       Parameter     Choices/Defaults                                                                            Comments
   auto_node_startup   Choices:       Whether the target node should be automatically connected at startup.
   boolean             • no           aliases: automatic
                       • yes
   discover            Choices:       Whether the list of target nodes on the portal should be (re)discovered and added to the persistent iSCSI database.
   boolean             • no           Keep in mind that iscsiadm discovery resets configuration, like node.startup to manual, hence combined with auto_node_startup=yes will always return a changed
                       • yes          state.
   login               Choices:       Whether the target node should be connected.
   boolean             • no           aliases: state
                       • yes
   node_auth         Default:         The value for discovery.sendtargets.auth.authmethod.
   string            "CHAP"
   node_pass                          The value for discovery.sendtargets.auth.password.
   string
   node_user                          The value for discovery.sendtargets.auth.username.
   string
   port              Default:         The port on which the iSCSI target process listens.
   string            3260
   portal                             The IP address of the iSCSI target.
   string                             aliases: ip
   show_nodes          Choices:
   boolean             • no           Whether the list of nodes in the persistent iSCSI database should be returned by the module.
                       • yes
   target                             The iSCSI target name.
   string                             aliases: name, targetname

EXAMPLES                   *open_iscsi-examples*

 - name: Perform a discovery on 10.1.2.3 and show available target nodes
   open_iscsi:
     show_nodes: yes
     discover: yes
     portal: 10.1.2.3

 # NOTE: Only works if exactly one target is exported to the initiator
 - name: Discover targets on portal and login to the one available
   open_iscsi:
     portal: '{{ iscsi_target }}'
     login: yes
     discover: yes

 - name: Connect to the named target, after updating the local persistent database (cache)
   open_iscsi:
     login: yes
     target: iqn.1986-03.com.sun:02:f8c1f9e0-c3ec-ec84-c9c9-8bfb0cd5de3d

 - name: Disconnect from the cached named target
   open_iscsi:
     login: no
     target: iqn.1986-03.com.sun:02:f8c1f9e0-c3ec-ec84-c9c9-8bfb0cd5de3d

STATUS                   *open_iscsi-status*

     • This module is not guaranteed to have a backwards compatible interface. [preview]
     • This module is maintained by the Ansible Community. [community]

     • Serge van Ginderachter (@srvg)

   Hint

   If you notice any issues in this documentation, you can edit this document to improve it.

   ══════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════

MORE INFO                          *open_iscsi-moreinfo*
>
All arguments are omni-completed, but if you really want to see the online docs:
https://docs.ansible.com/ansible/latest/modules/open_iscsi_module.html
