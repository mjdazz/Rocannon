SYNOPSIS                   *gcp_compute_disk*

     • Persistent disks are durable storage devices that function similarly to the physical disks in a desktop or a server. Compute Engine manages the hardware behind these devices to ensure data
       redundancy and optimize performance for you. Persistent disks are available as either standard hard disk drives (HDD) or solid-state drives (SSD).
     • Persistent disks are located independently from your virtual machine instances, so you can detach or move persistent disks to keep your data even after you delete your instances. Persistent
       disk performance scales automatically with size, so you can resize your existing persistent disks or add more persistent disks to an instance to meet your performance and storage space
       requirements.
     • Add a persistent disk to your instance when you need reliable and affordable storage with consistent performance characteristics.

REQUIREMENTS                   *gcp_compute_disk-requirements*

   The below requirements are needed on the host that executes this module.

     • python >= 2.6
     • requests >= 2.18.4
     • google-auth >= 1.3.0

PARAMETERS                   *gcp_compute_disk-parameters*

             Parameter             Choices/Defaults                                                                      Comments
                                    Choices:
   auth_kind                        • application    The type of credential used.
   string / required                • machineaccount
                                    • serviceaccount
   description                                       An optional description of this resource. Provide this property when you create the resource.
   string
                                                     Encrypts the disk using a customer-supplied encryption key.
                                                     After you encrypt a disk with a customer-supplied key, you must provide the same key if you use the disk later (e.g. to create a disk snapshot
   disk_encryption_key                               or an image, or to attach the disk to a virtual machine).
   dictionary                                        Customer-supplied encryption keys do not protect access to metadata of the disk.
                                                     If you do not provide an encryption key when creating the disk, then the disk will be encrypted using an automatically generated key and you do
                                                     not need to provide a key to use the disk later.
             kms_key_name                            The name of the encryption key that is stored in Google Cloud KMS.
             string
             raw_key                                 Specifies a 256-bit customer-supplied encryption key, encoded in RFC 4648 base64 to either encrypt or decrypt this resource.
             string
   env_type                                          Specifies which Ansible environment you're running this module within.
   string                                            This should not be set unless you know what you're doing.
                                                     This only alters the User Agent string for any API requests.
   labels
   dictionary                                        Labels to apply to this disk. A list of key->value pairs.
   added in 2.7
   licenses                                          Any applicable publicly visible licenses.
   list
                                                     Name of the resource. Provided by the client when the resource is created. The name must be 1-63 characters long, and comply with RFC1035.
   name                                              Specifically, the name must be 1-63 characters long and match the regular expression `[a-z]([-a-z0-9]"[a-z0-9])?` which means the first
   string / required                                 character must be a lowercase letter, and all following characters must be a dash, lowercase letter, or digit, except the last character, which
                                                     cannot be a dash.
   physical_block_size_bytes                         Physical block size of the persistent disk, in bytes. If not present in a request, a default value is used. Currently supported sizes are 4096
   integer                                           and 16384, other sizes may be added in the future.
   added in 2.8                                      If an unsupported value is requested, the error message will list the supported values for the caller's project.
   project                                           The Google Cloud Platform project to use.
   string
   scopes                                            Array of scopes to be used.
   list
   service_account_contents                          The contents of a Service Account JSON file, either in a dictionary or as a JSON string that represents it.
   jsonarg
   service_account_email                             An optional service account email address if machineaccount is selected and the user does not wish to use the default email.
   string
   service_account_file                              The path of a Service Account JSON file if serviceaccount is selected as type.
   path
                                                     Size of the persistent disk, specified in GB. You can specify this field when creating a persistent disk using the sourceImage or sourceSnapshot
   size_gb                                           parameter, or specify it alone to create an empty persistent disk.
   integer                                           If you specify this field along with sourceImage or sourceSnapshot, the value of sizeGb must not be less than the size of the sourceImage or the
                                                     size of the snapshot.
                                                     The source image used to create this disk. If the source image is deleted, this field will not be set.
                                                     To create a disk with one of the public operating system images, specify the image by its family name. For example, specify family/debian-8 to
   source_image                                      use the latest Debian 8 image: projects/debian-cloud/global/images/family/debian-8 Alternatively, use a specific version of a public operating
   string                                            system image: projects/debian-cloud/global/images/debian-8-jessie-vYYYYMMDD To create a disk with a private image that you created, specify the
                                                     image name in the following format: global/images/my-private-image You can also specify a private image by its image family, which returns the
                                                     latest version of the image in that family. Replace the image name with family/family-name: global/images/family/my-private-family .
   source_image_encryption_key                       The customer-supplied encryption key of the source image. Required if the source image is protected by a customer-supplied encryption key.
   dictionary
             kms_key_name                            The name of the encryption key that is stored in Google Cloud KMS.
             string
             raw_key                                 Specifies a 256-bit customer-supplied encryption key, encoded in RFC 4648 base64 to either encrypt or decrypt this resource.
             string
                                                     The source snapshot used to create this disk. You can provide this as a partial or full URL to the resource.
   source_snapshot                                   This field represents a link to a Snapshot resource in GCP. It can be specified in two ways. First, you can place a dictionary with key
   dictionary                                        'selfLink' and value of your resource's selfLink Alternatively, you can add `register: name-of-resource` to a gcp_compute_snapshot task and then
                                                     set this source_snapshot field to "{{ name-of-resource }}"
   source_snapshot_encryption_key                    The customer-supplied encryption key of the source snapshot. Required if the source snapshot is protected by a customer-supplied encryption key.
   dictionary
             kms_key_name                            The name of the encryption key that is stored in Google Cloud KMS.
             string
             raw_key                                 Specifies a 256-bit customer-supplied encryption key, encoded in RFC 4648 base64 to either encrypt or decrypt this resource.
             string
   state                            Choices:
   string                           • present ←      Whether the given object should exist in GCP
                                    • absent
   type
   string                                            URL of the disk type resource describing which disk type to use to create the disk. Provide this when creating the disk.
   added in 2.7
   zone                                              A reference to the zone where the disk resides.
   string / required

NOTES                   *gcp_compute_disk-notes*

   Note

     • API Reference: https://cloud.google.com/compute/docs/reference/v1/disks
     • Adding a persistent disk: https://cloud.google.com/compute/docs/disks/add-persistent-disk
     • for authentication, you can set service_account_file using the c(gcp_service_account_file) env variable.
     • for authentication, you can set service_account_contents using the c(GCP_SERVICE_ACCOUNT_CONTENTS) env variable.
     • For authentication, you can set service_account_email using the GCP_SERVICE_ACCOUNT_EMAIL env variable.
     • For authentication, you can set auth_kind using the GCP_AUTH_KIND env variable.
     • For authentication, you can set scopes using the GCP_SCOPES env variable.
     • Environment variables values will only be used if the playbook values are not set.
     • The service_account_email and service_account_file options are mutually exclusive.

EXAMPLES                   *gcp_compute_disk-examples*

 - name: create a disk
   gcp_compute_disk:
     name: test_object
     size_gb: 50
     disk_encryption_key:
       raw_key: SGVsbG8gZnJvbSBHb29nbGUgQ2xvdWQgUGxhdGZvcm0=
     zone: us-central1-a
     project: test_project
     auth_kind: serviceaccount
     service_account_file: "/tmp/auth.pem"
     state: present

RETURN VALUES                   *gcp_compute_disk-return values*

   Common return values are documented here, the following are the fields unique to this module:

               Key             Returned                                                                          Description
   creationTimestamp           success  Creation timestamp in RFC3339 text format.
   string
   description                 success  An optional description of this resource. Provide this property when you create the resource.
   string
                                        Encrypts the disk using a customer-supplied encryption key.
                                        After you encrypt a disk with a customer-supplied key, you must provide the same key if you use the disk later (e.g. to create a disk snapshot or an image,
   diskEncryptionKey           success  or to attach the disk to a virtual machine).
   complex                              Customer-supplied encryption keys do not protect access to metadata of the disk.
                                        If you do not provide an encryption key when creating the disk, then the disk will be encrypted using an automatically generated key and you do not need to
                                        provide a key to use the disk later.
              kmsKeyName       success  The name of the encryption key that is stored in Google Cloud KMS.
              string
              rawKey           success  Specifies a 256-bit customer-supplied encryption key, encoded in RFC 4648 base64 to either encrypt or decrypt this resource.
              string
              sha256           success  The RFC 4648 base64 encoded SHA-256 hash of the customer-supplied encryption key that protects this resource.
              string
   id                          success  The unique identifier for the resource.
   integer
   labelFingerprint            success  The fingerprint used for optimistic locking of this resource. Used internally during updates.
   string
   labels                      success  Labels to apply to this disk. A list of key->value pairs.
   dictionary
   lastAttachTimestamp         success  Last attach timestamp in RFC3339 text format.
   string
   lastDetachTimestamp         success  Last detach timestamp in RFC3339 text format.
   string
   licenses                    success  Any applicable publicly visible licenses.
   list
   name                                 Name of the resource. Provided by the client when the resource is created. The name must be 1-63 characters long, and comply with RFC1035. Specifically, the
   string                      success  name must be 1-63 characters long and match the regular expression `[a-z]([-a-z0-9]"[a-z0-9])?` which means the first character must be a lowercase letter,
                                        and all following characters must be a dash, lowercase letter, or digit, except the last character, which cannot be a dash.
   physicalBlockSizeBytes               Physical block size of the persistent disk, in bytes. If not present in a request, a default value is used. Currently supported sizes are 4096 and 16384,
   integer                     success  other sizes may be added in the future.
                                        If an unsupported value is requested, the error message will list the supported values for the caller's project.
                                        Size of the persistent disk, specified in GB. You can specify this field when creating a persistent disk using the sourceImage or sourceSnapshot parameter,
   sizeGb                      success  or specify it alone to create an empty persistent disk.
   integer                              If you specify this field along with sourceImage or sourceSnapshot, the value of sizeGb must not be less than the size of the sourceImage or the size of the
                                        snapshot.
                                        The source image used to create this disk. If the source image is deleted, this field will not be set.
                                        To create a disk with one of the public operating system images, specify the image by its family name. For example, specify family/debian-8 to use the latest
   sourceImage                 success  Debian 8 image: projects/debian-cloud/global/images/family/debian-8 Alternatively, use a specific version of a public operating system image:
   string                               projects/debian-cloud/global/images/debian-8-jessie-vYYYYMMDD To create a disk with a private image that you created, specify the image name in the following
                                        format: global/images/my-private-image You can also specify a private image by its image family, which returns the latest version of the image in that
                                        family. Replace the image name with family/family-name: global/images/family/my-private-family .
   sourceImageEncryptionKey    success  The customer-supplied encryption key of the source image. Required if the source image is protected by a customer-supplied encryption key.
   complex
              kmsKeyName       success  The name of the encryption key that is stored in Google Cloud KMS.
              string
              rawKey           success  Specifies a 256-bit customer-supplied encryption key, encoded in RFC 4648 base64 to either encrypt or decrypt this resource.
              string
              sha256           success  The RFC 4648 base64 encoded SHA-256 hash of the customer-supplied encryption key that protects this resource.
              string
   sourceImageId                        The ID value of the image used to create this disk. This value identifies the exact image that was used to create this persistent disk. For example, if you
   string                      success  created the persistent disk from an image that was later deleted and recreated under the same name, the source image ID would identify the exact version of
                                        the image that was used.
   sourceSnapshot              success  The source snapshot used to create this disk. You can provide this as a partial or full URL to the resource.
   dictionary
   sourceSnapshotEncryptionKey success  The customer-supplied encryption key of the source snapshot. Required if the source snapshot is protected by a customer-supplied encryption key.
   complex
              kmsKeyName       success  The name of the encryption key that is stored in Google Cloud KMS.
              string
              rawKey           success  Specifies a 256-bit customer-supplied encryption key, encoded in RFC 4648 base64 to either encrypt or decrypt this resource.
              string
              sha256           success  The RFC 4648 base64 encoded SHA-256 hash of the customer-supplied encryption key that protects this resource.
              string
   sourceSnapshotId                     The unique ID of the snapshot used to create this disk. This value identifies the exact snapshot that was used to create this persistent disk. For example,
   string                      success  if you created the persistent disk from a snapshot that was later deleted and recreated under the same name, the source snapshot ID would identify the exact
                                        version of the snapshot that was used.
   type                        success  URL of the disk type resource describing which disk type to use to create the disk. Provide this when creating the disk.
   string
   users                       success  Links to the users of the disk (attached instances) in form: project/zones/zone/instances/instance .
   list
   zone                        success  A reference to the zone where the disk resides.
   string

STATUS                   *gcp_compute_disk-status*

     • This module is not guaranteed to have a backwards compatible interface. [preview]
     • This module is maintained by the Ansible Community. [community]

     • Google Inc. (@googlecloudplatform)

   Hint

   If you notice any issues in this documentation, you can edit this document to improve it.

   ══════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════

MORE INFO                          *gcp_compute_disk-moreinfo*
>
All arguments are omni-completed, but if you really want to see the online docs:
https://docs.ansible.com/ansible/latest/modules/gcp_compute_disk_module.html
