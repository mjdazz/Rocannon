SYNOPSIS                   *win_defrag*

     • Locates and consolidates fragmented files on local volumes to improve system performance.
     • More information regarding win_defrag is available from: https://technet.microsoft.com/en-us/library/cc731650(v=ws.11.aspx)

REQUIREMENTS                   *win_defrag-requirements*

   The below requirements are needed on the host that executes this module.

     • defrag.exe

PARAMETERS                   *win_defrag-parameters*

          Parameter        Choices/Defaults                                                                         Comments
   exclude_volumes                          A list of drive letters or mount point paths to exclude from defragmentation.
   list
   freespace_consolidation   Choices:
   boolean                   • no ←         Perform free space consolidation on the specified volumes.
                             • yes
   include_volumes                          A list of drive letters or mount point paths of the volumes to be defragmented.
   list                                     If this parameter is omitted, all volumes (not excluded) will be fragmented.
   parallel                  Choices:
   boolean                   • no ←         Run the operation on each volume in parallel in the background.
                             • yes
   priority                  Choices:
   string                    • low ←        Run the operation at low or normal priority.
                             • normal

EXAMPLES                   *win_defrag-examples*

 - name: Defragment all local volumes (in parallel)
   win_defrag:
     parallel: yes

 - name: 'Defragment all local volumes, except C: and D:'
   win_defrag:
     exclude_volumes: [ C, D ]

 - name: 'Defragment volume D: with normal priority'
   win_defrag:
     include_volumes: D
     priority: normal

 - name: Consolidate free space (useful when reducing volumes)
   win_defrag:
     freespace_consolidation: yes

RETURN VALUES                   *win_defrag-return values*

   Common return values are documented here, the following are the fields unique to this module:

     Key   Returned                                                                                    Description
   changed          Whether or not any changes were made.
   boolean always   Sample:
                    True
   cmd              The complete command line used by the module.
   string  always   Sample:
                    defrag.exe /C /V
   msg              Possible error message on failure.
   string  failed   Sample:
                    Command 'defrag.exe' not found in $env:PATH.
   rc      always   The return code for the command.
   integer
   stderr  always   The error output from the command.
   string
   stdout           The standard output from the command.
   string  always   Sample:
                    Success.

STATUS                   *win_defrag-status*

     • This module is not guaranteed to have a backwards compatible interface. [preview]
     • This module is maintained by the Ansible Community. [community]

     • Dag Wieers (@dagwieers)

   Hint

   If you notice any issues in this documentation, you can edit this document to improve it.

   ══════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════

MORE INFO                          *win_defrag-moreinfo*
>
All arguments are omni-completed, but if you really want to see the online docs:
https://docs.ansible.com/ansible/latest/modules/win_defrag_module.html
