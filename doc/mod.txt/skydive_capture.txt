SYNOPSIS                   *skydive_capture*

     • This module manages flow capture on interfaces. The Gremlin expression is continuously evaluated which means that it is possible to define a capture on nodes that do not exist yet.
     • It is useful when you want to start a capture on all OpenvSwitch whatever the number of Skydive agents you will start.
     • While starting the capture, user can specify the capture name, capture description and capture type optionally.

REQUIREMENTS                   *skydive_capture-requirements*

   The below requirements are needed on the host that executes this module.

     • skydive-client

PARAMETERS                   *skydive_capture-parameters*

      Parameter     Choices/Defaults                                                                             Comments
   capture_name     Default:         To define flow capture name.
   -                ""
   description      Default:         Configures a text string to be associated with the instance of this object.
   -                ""
   extra_tcp_metric   Choices:
   boolean            • no ←         To define flow capture ExtraTCPMetric.
                      • yes
   interface_name                    To define flow capture interface name.
   -
   ip_defrag          Choices:
   boolean            • no ←         To define flow capture IPDefrag.
                      • yes
   layer_key_mode   Default:         To define flow capture Layer KeyMode.
   string           "L2"
   provider                          A dict object containing connection details.
   -
      endpoint                       Specifies the hostname/address along with the port as localhost:8082for connecting to the remote instance of SKYDIVE client over the REST API.
      - / required
      insecure        Choices:
      boolean         • no ←         Ignore SSL certification verification.
                      • yes
      password                       Specifies the password to use to authenticate the connection to the remote instance of SKYDIVE client.
      -
      ssl             Choices:
      boolean         • no ←         Specifies the ssl parameter that decides if the connection type shall be http or https.
                      • yes
      user                           Configures the username to use to authenticate the connection to the remote instance of SKYDIVE client.
      -
   query                             It's the complete gremlin query which the users can input, G.V(.Has('Name', 'eth0', 'Type', 'device')), to create the capture. And, if the user directly inputs
   -                                 the gremlin query then user is not required to input any other module parameter as gremlin query takes care of creating the flow capture.
   reassemble_tcp     Choices:
   boolean            • no ←         To define flow capture ReassembleTCP.
                      • yes
   state              Choices:
   -                  • present ←    State of the flow capture. If value is present flow capture will be created else if it is absent it will be deleted.
                      • absent
   type                              To define flow capture interface type.
   -

NOTES                   *skydive_capture-notes*

   Note

     • This module must be run locally, which can be achieved by specifying connection: local.

EXAMPLES                   *skydive_capture-examples*

 - name: start a new flow capture directly from gremlin query
   skydive_capture:
     query: G.V().Has('Name', 'eth0', 'Type', 'device')
     state: present
     provider:
       endpoint: localhost:8082
       username: admin
       password: admin

 - name: stop the flow capture directly from gremlin query
   skydive_capture:
     query: G.V().Has('Name', 'eth0', 'Type', 'device')
     state: absent
     provider:
       endpoint: localhost:8082
       username: admin
       password: admin

 - name: start a new flow capture from user's input
   skydive_capture:
     interface_name: Node1
     type: myhost
     capture_name: test_capture
     description: test description
     extra_tcp_metric: true
     ip_defrag: true
     reassemble_tcp: true
     state: present
     provider:
       endpoint: localhost:8082
       username: admin
       password: admin

 - name: stop the flow capture
   skydive_capture:
     interface_name: Node1
     type: myhost
     capture_name: test_capture
     description: test description
     extra_tcp_metric: true
     ip_defrag: true
     reassemble_tcp: true
     state: absent
     provider:
       endpoint: localhost:8082
       username: admin
       password: admin

STATUS                   *skydive_capture-status*

     • This module is not guaranteed to have a backwards compatible interface. [preview]
     • This module is maintained by the Ansible Network Team. [network]

RED HAT SUPPORT                   *skydive_capture-red hat support*

     • Sumit Jaiswal (@sjaiswal)

   Hint

   If you notice any issues in this documentation, you can edit this document to improve it.

   ══════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════

MORE INFO                          *skydive_capture-moreinfo*
>
All arguments are omni-completed, but if you really want to see the online docs:
https://docs.ansible.com/ansible/latest/modules/skydive_capture_module.html
