SYNOPSIS                   *vultr_server*

     • Deploy, start, stop, update, restart, reinstall servers.

   Aliases: vr_server

REQUIREMENTS                   *vultr_server-requirements*

   The below requirements are needed on the host that executes this module.

     • python >= 2.6

PARAMETERS                   *vultr_server-parameters*

          Parameter        Choices/Defaults                                                                          Comments
   api_account             Default:          Name of the ini section in the vultr.ini file.
   string                  "default"         The ENV variable VULTR_API_ACCOUNT is used as default, when defined.
   api_endpoint                              URL to API endpint (without trailing slash).
   string                                    The ENV variable VULTR_API_ENDPOINT is used as default, when defined.
                                             Fallback value is https://api.vultr.com if not specified.
   api_key                                   API key of the Vultr API.
   string                                    The ENV variable VULTR_API_KEY is used as default, when defined.
   api_retries                               Amount of retries in case of the Vultr API retuns an HTTP 503 code.
   integer                                   The ENV variable VULTR_API_RETRIES is used as default, when defined.
                                             Fallback value is 5 retries if not specified.
   api_retry_max_delay                       Retry backoff delay in seconds is exponential up to this max. value, in seconds.
   integer                                   The ENV variable VULTR_API_RETRY_MAX_DELAY is used as default, when defined.
   added in 2.9                              Fallback value is 12 seconds.
   api_timeout                               HTTP timeout to Vultr API.
   integer                                   The ENV variable VULTR_API_TIMEOUT is used as default, when defined.
                                             Fallback value is 60 seconds if not specified.
   auto_backup_enabled       Choices:
   boolean                   • no            Whether to enable automatic backups or not.
                             • yes
   firewall_group                            The firewall group description or ID to assign this server to.
   string
   force                     Choices:        Force stop/start the server if required to apply changes
   boolean                   • no ←          Otherwise a running server will not be changed.
                             • yes
   hostname                                  The hostname to assign to this server.
   string
   ipv6_enabled              Choices:
   boolean                   • no            Whether to enable IPv6 or not.
                             • yes
   name                                      Name of the server.
   string / required                         aliases: label
   notify_activate           Choices:        Whether to send an activation email when the server is ready or not.
   boolean                   • no            Only considered on creation.
                             • yes
   os                                        The operating system name or ID.
   string                                    Required if the server does not yet exist and is not restoring from a snapshot.
   plan                                      Plan name or ID to use for the server.
   string                                    Required if the server does not yet exist.
   private_network_enabled   Choices:
   boolean                   • no            Whether to enable private networking or not.
                             • yes
   region                                    Region name or ID the server is deployed into.
   string                                    Required if the server does not yet exist.
   reserved_ip_v4                            IP address of the floating IP to use as the main IP of this server.
   string                                    Only considered on creation.
   snapshot
   string                                    Name or ID of the snapshot to restore the server from.
   added in 2.8
   ssh_keys                                  List of SSH key names or IDs passed to the server on creation.
   list                                      aliases: ssh_key
   startup_script                            Name or ID of the startup script to execute on boot.
   string                                    Only considered while creating the server.
                             Choices:
                             • present ←
   state                     • absent
   string                    • restarted     State of the server.
                             • reinstalled
                             • started
                             • stopped
   tag                                       Tag for the server.
   string
   user_data                                 User data to be passed to the server.
   string
   validate_certs            Choices:
   boolean                   • no            Validate SSL certs of the Vultr API.
                             • yes ←

NOTES                   *vultr_server-notes*

   Note

     • Also see the API documentation on https://www.vultr.com/api/.

EXAMPLES                   *vultr_server-examples*

 - name: create server
   delegate_to: localhost
   vultr_server:
     name: "{{ vultr_server_name }}"
     os: CentOS 7 x64
     plan: 1024 MB RAM,25 GB SSD,1.00 TB BW
     ssh_keys:
       - my_key
       - your_key
     region: Amsterdam
     state: present

 - name: ensure a server is present and started
   delegate_to: localhost
   vultr_server:
     name: "{{ vultr_server_name }}"
     os: CentOS 7 x64
     plan: 1024 MB RAM,25 GB SSD,1.00 TB BW
     firewall_group: my_group
     ssh_key: my_key
     region: Amsterdam
     state: started

 - name: ensure a server is present and stopped provisioned using IDs
   delegate_to: localhost
   vultr_server:
     name: "{{ vultr_server_name }}"
     os: "167"
     plan: "201"
     region: "7"
     state: stopped

 - name: ensure an existing server is stopped
   delegate_to: localhost
   vultr_server:
     name: "{{ vultr_server_name }}"
     state: stopped

 - name: ensure an existing server is started
   delegate_to: localhost
   vultr_server:
     name: "{{ vultr_server_name }}"
     state: started

 - name: ensure a server is absent
   delegate_to: localhost
   vultr_server:
     name: "{{ vultr_server_name }}"
     state: absent

RETURN VALUES                   *vultr_server-return values*

   Common return values are documented here, the following are the fields unique to this module:

            Key                 Returned                                                                             Description
   vultr_api              success               Response from Vultr API with a few additions/modification
   complex
     api_account                                Account used in the ini file to select the key
     string               success               Sample:
                                                default
     api_endpoint                               Endpoint used for the API requests
     string               success               Sample:
                                                https://api.vultr.com
     api_retries                                Amount of max retries for the API requests
     integer              success               Sample:
                                                5
     api_retry_max_delay                        Exponential backoff delay in seconds between retries up to this max delay value.
     integer              success               Sample:
     added in 2.9                               12
     api_timeout                                Timeout used for the API requests
     integer              success               Sample:
                                                60
   vultr_server           success               Response from Vultr API with a few additions/modification
   complex
     allowed_bandwidth_gb                       Allowed bandwidth to use in GB
     integer              success               Sample:
                                                1000
     auto_backup_enabled  success               Whether automatic backups are enabled
     boolean
     cost_per_month                             Cost per month for the server
     float                success               Sample:
                                                5.0
     current_bandwidth_gb success               Current bandwidth used for the server
     integer
     date_created                               Date when the server was created
     string               success               Sample:
                                                2017-08-26 12:47:48
     default_password                           Password to login as root into the server
     string               success               Sample:
                                                !p3EWYJm$qDWYaFr
     disk                                       Information about the disk
     string               success               Sample:
                                                Virtual 25 GB
     firewall_group                             Firewall group the server is assigned to
     string               success and available Sample:
                                                CentOS 6 x64
     id                                         ID of the server
     string               success               Sample:
                                                10194376
     internal_ip          success               Internal IP
     string
     kvm_url                                    URL to the VNC
     string               success               Sample:
                                                https://my.vultr.com/subs/vps/novnc/api.php?data=xyz
     name                                       Name (label) of the server
     string               success               Sample:
                                                ansible-test-vm
     os                                         Operating system used for the server
     string               success               Sample:
                                                CentOS 6 x64
     pending_charges                            Pending charges
     float                success               Sample:
                                                0.01
     plan                                       Plan used for the server
     string               success               Sample:
                                                1024 MB RAM,25 GB SSD,1.00 TB BW
     power_status                               Power status of the server
     string               success               Sample:
                                                running
     ram                                        Information about the RAM size
     string               success               Sample:
                                                1024 MB
     region                                     Region the server was deployed into
     string               success               Sample:
                                                Amsterdam
     server_state                               State about the server
     string               success               Sample:
                                                ok
     status                                     Status about the deployment of the server
     string               success               Sample:
                                                active
     tag                  success               TBD
     string
     v4_gateway                                 IPv4 gateway
     string               success               Sample:
                                                45.32.232.1
     v4_main_ip                                 Main IPv4
     string               success               Sample:
                                                45.32.233.154
     v4_netmask                                 Netmask IPv4
     string               success               Sample:
                                                255.255.254.0
     v6_main_ip           success               Main IPv6
     string
     v6_network           success               Network IPv6
     string
     v6_network_size      success               Network size IPv6
     string
     v6_networks          success               Networks IPv6
     list
     vcpu_count                                 Virtual CPU count
     integer              success               Sample:
                                                1

STATUS                   *vultr_server-status*

     • This module is not guaranteed to have a backwards compatible interface. [preview]
     • This module is maintained by the Ansible Community. [community]

     • René Moser (@resmo)

   Hint

   If you notice any issues in this documentation, you can edit this document to improve it.

   ══════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════

MORE INFO                          *vultr_server-moreinfo*
>
All arguments are omni-completed, but if you really want to see the online docs:
https://docs.ansible.com/ansible/latest/modules/vultr_server_module.html
