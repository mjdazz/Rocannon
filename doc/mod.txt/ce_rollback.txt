SYNOPSIS                   *ce_rollback*

     • This module offers the ability to set a configuration checkpoint file or rollback to a configuration checkpoint file on HUAWEI CloudEngine switches.

PARAMETERS                   *ce_rollback-parameters*

   Parameter Choices/Defaults                                                                                Comments
               Choices:
   action      • rollback
   - /         • clear        The operation of configuration rollback.
   required    • set
               • display
               • commit
   commit_id                  Specifies the label of the configuration rollback point to which system configurations are expected to roll back. The value is an integer that the system generates
   -                          automatically.
   filename                   Specifies a configuration file for configuration rollback. The value is a string of 5 to 64 case-sensitive characters in the format of ".zip, ".cfg, or ".dat, spaces
   -                          not supported.
   label                      Specifies a user label for a configuration rollback point. The value is a string of 1 to 256 case-sensitive ASCII characters, spaces not supported. The value must
   -                          start with a letter and cannot be presented in a single hyphen (-).
   last                       Specifies the number of configuration rollback points. The value is an integer that ranges from 1 to 80.
   -
   oldest                     Specifies the number of configuration rollback points. The value is an integer that ranges from 1 to 80.
   -

NOTES                   *ce_rollback-notes*

   Note

     • Recommended connection is network_cli.
     • This module also works with local connections for legacy playbooks.

EXAMPLES                   *ce_rollback-examples*

 - name: rollback module test
   hosts: cloudengine
   connection: local
   gather_facts: no
   vars:
     cli:
       host: "{{ inventory_hostname }}"
       port: "{{ ansible_ssh_port }}"
       username: "{{ username }}"
       password: "{{ password }}"
       transport: cli

   tasks:

 - name: Ensure commit_id is exist, and specifies the label of the configuration rollback point to
         which system configurations are expected to roll back.
   ce_rollback:
     commit_id: 1000000748
     action: rollback
     provider: "{{ cli }}"

RETURN VALUES                   *ce_rollback-return values*

   Common return values are documented here, the following are the fields unique to this module:

      Key     Returned                                                                                   Description
   changed              check to see if a change was made on the device
   boolean    always    Sample:
                        True
   end_state            k/v pairs of configuration after module execution
   dictionary always    Sample:
                        {'commitId': '1000000748', 'userLabel': 'abc'}
   existing             k/v pairs of existing rollback
   dictionary sometimes Sample:
                        {'commitId': '1000000748', 'userLabel': 'abc'}
   proposed             k/v pairs of parameters passed into module
   dictionary sometimes Sample:
                        {'commit_id': '1000000748', 'action': 'rollback'}
   updates              command sent to the device
   list       always    Sample:
                        ['rollback configuration to file a.cfg', 'set configuration commit 1000000783 label ddd', 'clear configuration commit 1000000783 label', 'display configuration commit list']

STATUS                   *ce_rollback-status*

     • This module is not guaranteed to have a backwards compatible interface. [preview]
     • This module is maintained by the Ansible Community. [community]

     • Li Yanfeng (@QijunPan)

   Hint

   If you notice any issues in this documentation, you can edit this document to improve it.

   ══════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════

MORE INFO                          *ce_rollback-moreinfo*
>
All arguments are omni-completed, but if you really want to see the online docs:
https://docs.ansible.com/ansible/latest/modules/ce_rollback_module.html
