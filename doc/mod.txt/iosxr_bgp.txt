SYNOPSIS                   *iosxr_bgp*

     • This module provides configuration management of global BGP parameters on devices running Cisco IOS-XR

PARAMETERS                   *iosxr_bgp-parameters*

          Parameter          Choices/Defaults                                                                         Comments
   config                                       Specifies the BGP related configuration.
   -
    address_family                              Specifies BGP address family related configurations.
    -
     afi                      Choices:
     - / required             • ipv4            Type of address family to configure.
                              • ipv6
     networks                                   Specify networks to announce via BGP.
     -                                          For operation replace, this option is mutually exclusive with root level networks option.
      masklen                                   Subnet mask length for the network to announce(e.g, 8, 16, 24, etc.).
      -
      network                                   Network ID to announce via BGP.
      - / required
      route_map                                 Route map to modify the attributes.
      -
     redistribute                               Specifies the redistribute information from another routing protocol.
     -
      id                                        Identifier for the routing protocol for configuring redistribute information.
      -                                         Valid for protocols 'ospf', 'eigrp', 'isis' and 'ospfv3'.
      metric                                    Specifies the metric for redistributed routes.
      -
                              Choices:
                              • ospf
                              • ospfv3
                              • eigrp
      protocol                • isis
      - / required            • static          Specifies the protocol for configuring redistribute information.
                              • connected
                              • lisp
                              • mobile
                              • rip
                              • subscriber
      route_map                                 Specifies the route map reference.
      -
                              Choices:
     safi                     • flowspec
     -                        • unicast ←       Specifies the type of cast for the address family.
                              • multicast
                              • labeled-unicast
    bgp_as                                      Specifies the BGP Autonomous System (AS) number to configure on the device.
    integer / required
    log_neighbor_changes      Choices:
    boolean                   • no              Enable/disable logging neighbor up/down and reset reason.
                              • yes
    neighbors                                   Specifies BGP neighbor related configurations.
    -
     advertisement_interval                     Specifies the minimum interval (in seconds) between sending BGP routing updates.
     integer                                    The range is from 0 to 600.
     description                                Neighbor specific description.
     -
     ebgp_multihop                              Specifies the maximum hop count for EBGP neighbors not on directly connected networks.
     integer                                    The range is from 0 to 255.
     enabled                  Choices:
     boolean                  • no              Administratively shutdown or enable a neighbor.
                              • yes
     neighbor                                   Neighbor router address.
     - / required
     password                                   Password to authenticate the BGP peer connection.
     -
     remote_as                                  Remote AS of the BGP neighbor to configure.
     integer / required
     tcp_mss                                    Specifies the TCP initial maximum segment size to use.
     integer                                    The range is from 68 to 10000.
     timers                                     Specifies BGP neighbor timer related configurations.
     -
      holdtime                                  Interval after not receiving a keepalive message that the software declares a peer dead.
      integer / required                        The range is from 3 to 65535.
      keepalive                                 Frequency with which the Cisco IOS-XR software sends keepalive messages to its peer.
      integer / required                        The range is from 0 to 65535.
      min_neighbor_holdtime                     Interval specifying the minimum acceptable hold-time from a BGP neighbor.
      integer                                   The minimum acceptable hold-time must be less than, or equal to, the interval specified in the holdtime argument.
                                                The range is from 3 to 65535.
     update_source                              Source of the routing updates.
     -
    router_id               Default:            Configures the BGP routing process router-id value.
    -                       null
                              Choices:          Specifies the operation to be performed on the BGP process configured on the device.
                              • merge ←         In case of merge, the input configuration will be merged with the existing BGP configuration on the device.
   operation                  • replace         In case of replace, if there is a diff between the existing configuration and the input configuration, the existing configuration will be replaced by
   -                          • override        the input configuration for every option that has the diff.
                              • delete          In case of override, all the existing BGP configuration will be removed from the device and replaced with the input configuration.
                                                In case of delete the existing BGP configuration will be removed from the device.

NOTES                   *iosxr_bgp-notes*

   Note

     • Tested against Cisco IOS XR Software Version 6.1.3
     • This module works with connection network_cli. See the IOS-XR Platform Options.

EXAMPLES                   *iosxr_bgp-examples*

 - name: configure global bgp as 65000
   iosxr_bgp:
     bgp_as: 65000
     router_id: 1.1.1.1
     neighbors:
       - neighbor: 182.168.10.1
         remote_as: 500
         description: PEER_1
       - neighbor: 192.168.20.1
         remote_as: 500
         update_source: GigabitEthernet 0/0/0/0
     address_family:
       - name: ipv4
         cast: unicast
         networks:
           - network: 192.168.2.0/23
           - network: 10.0.0.0/8
         redistribute:
           - protocol: ospf
             id: 400
             metric: 110

 - name: remove bgp as 65000 from config
   ios_bgp:
     bgp_as: 65000
     state: absent

RETURN VALUES                   *iosxr_bgp-return values*

   Common return values are documented here, the following are the fields unique to this module:

     Key    Returned                                                                                   Description
                     The list of configuration mode commands to send to the device
   commands          Sample:
   list     always   ['router bgp 65000', 'bgp router-id 1.1.1.1', 'neighbor 182.168.10.1 remote-as 500', 'neighbor 182.168.10.1 description PEER_1', 'neighbor 192.168.20.1 remote-as 500',
                     'neighbor 192.168.20.1 update-source GigabitEthernet0/0/0/0', 'address-family ipv4 unicast', 'redistribute ospf 400 metric 110', 'network 192.168.2.0/23', 'network 10.0.0.0/8',
                     'exit']

STATUS                   *iosxr_bgp-status*

     • This module is not guaranteed to have a backwards compatible interface. [preview]
     • This module is maintained by the Ansible Network Team. [network]

RED HAT SUPPORT                   *iosxr_bgp-red hat support*

     • Nilashish Chakraborty (@NilashishC)

   Hint

   If you notice any issues in this documentation, you can edit this document to improve it.

   ══════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════

MORE INFO                          *iosxr_bgp-moreinfo*
>
All arguments are omni-completed, but if you really want to see the online docs:
https://docs.ansible.com/ansible/latest/modules/iosxr_bgp_module.html
