SYNOPSIS                   *iosxr_lacp_interfaces*

     • This module manages Link Aggregation Control Protocol (LACP) attributes of interfaces on IOS-XR devices.

PARAMETERS                   *iosxr_lacp_interfaces-parameters*

           Parameter          Choices/Defaults                                                                        Comments
   config                                      A dictionary of LACP interfaces options.
   list
                                Choices:       Specifies the parameter for logging of LACP churn events.
    churn_logging               • actor        Valid only for ether-bundles.
    string                      • partner      Mode 'actor' logs actor churn events only.
                                • both         Mode 'partner' logs partner churn events only.
                                               Mode 'both' logs actor and partner churn events only.
    collector_max_delay                        Specifies the collector max delay to be signaled to the LACP partner.
    integer                                    Valid only for ether-bundles.
                                               Refer to vendor documentation for valid values.
    name                                       Name/Identifier of the interface or Ether-Bundle.
    string
    period                                     Specifies the rate at which packets are sent or received.
    integer                                    For ether-bundles, this specifies the period to be used by its member links.
                                               Refer to vendor documentation for valid values.
    switchover_suppress_flaps                  Specifies the time for which to suppress flaps during a LACP switchover.
    integer                                    Valid only for ether-bundles.
                                               Refer to vendor documentation for valid values.
    system                                     This dict object contains configurable options related to LACP system parameters for ether-bundles.
    dictionary
             mac                               Specifies the system ID to use in LACP negotiations for the bundle, encoded as a MAC address.
             string
             priority                          Specifies the system priority to use in LACP negotiations for the bundle.
             integer                           Refer to vendor documentation for valid values.
                                Choices:
   state                        • merged ←
   string                       • replaced     The state of the configuration after module completion.
                                • overridden
                                • deleted

NOTES                   *iosxr_lacp_interfaces-notes*

   Note

     • Tested against IOS-XR 6.1.3.
     • This module works with connection network_cli. See the IOS-XR Platform Options.

EXAMPLES                   *iosxr_lacp_interfaces-examples*

 # Using merged
 #
 #
 # ------------
 # Before state
 # ------------
 #
 #
 #
 # RP/0/0/CPU0:an-iosxr#sh running-config interface
 # Sun Jul 21 18:01:35.079 UTC
 # interface Bundle-Ether10
 # !
 # interface Bundle-Ether11
 # !
 # interface Bundle-Ether12
 # !
 # interface Loopback888
 #  description test for ansible
 #  shutdown
 # !
 # interface MgmtEth0/0/CPU0/0
 #  ipv4 address 192.0.2.11 255.255.255.0
 # !
 # interface GigabitEthernet0/0/0/1
 #  description 'GigabitEthernet - 1'
 # !
 # interface GigabitEthernet0/0/0/2
 #  description "GigabitEthernet - 2"
 # !
 # interface GigabitEthernet0/0/0/3
 #  description "GigabitEthernet - 3"
 # !
 # interface GigabitEthernet0/0/0/4
 #  description "GigabitEthernet - 4"
 # !
 #
 #

  - name: Merge provided configuration with device configuration
    iosxr_lacp_interfaces:
     config:
       - name: Bundle-Ether10
         churn_logging: actor
         collector_max_delay: 100
         switchover_suppress_flaps: 500

       - name: Bundle-Ether11
         system:
           mac: 00c2.4c00.bd15

       - name: GigabitEthernet0/0/0/1
         period: 200
     state: merged

 #
 #
 # -----------
 # After state
 # -----------
 #
 #
 # RP/0/0/CPU0:an-iosxr#sh run int
 # Sun Jul 21 18:24:52.413 UTC
 # interface Bundle-Ether10
 #  lacp churn logging actor
 #  lacp switchover suppress-flaps 500
 #  lacp collector-max-delay 100
 # !
 # interface Bundle-Ether11
 #  lacp system mac 00c2.4c00.bd15
 # !
 # interface Bundle-Ether12
 # !
 # interface Loopback888
 #  description test for ansible
 #  shutdown
 # !
 # interface MgmtEth0/0/CPU0/0
 #  ipv4 address 192.0.2.11 255.255.255.0
 # !
 # interface GigabitEthernet0/0/0/1
 #  description 'GigabitEthernet - 1"
 #  lacp period 200
 # !
 # interface GigabitEthernet0/0/0/2
 #  description "GigabitEthernet - 2"
 # !
 # interface GigabitEthernet0/0/0/3
 #  description "GigabitEthernet - 3"
 # !
 # interface GigabitEthernet0/0/0/4
 #  description "GigabitEthernet - 4"
 # !
 #


 # Using replaced
 #
 #
 # ------------
 # Before state
 # ------------
 #
 #
 # RP/0/0/CPU0:an-iosxr#sh run int
 # Sun Jul 21 18:24:52.413 UTC
 # interface Bundle-Ether10
 #  lacp churn logging actor
 #  lacp switchover suppress-flaps 500
 #  lacp collector-max-delay 100
 # !
 # interface Bundle-Ether11
 #  lacp system mac 00c2.4c00.bd15
 # !
 # interface Bundle-Ether12
 # !
 # interface Loopback888
 #  description test for ansible
 #  shutdown
 # !
 # interface MgmtEth0/0/CPU0/0
 #  ipv4 address 192.0.2.11 255.255.255.0
 # !
 # interface GigabitEthernet0/0/0/1
 #  description 'GigabitEthernet - 1"
 #  lacp period 200
 # !
 # interface GigabitEthernet0/0/0/2
 #  description "GigabitEthernet - 2"
 # !
 # interface GigabitEthernet0/0/0/3
 #  description "GigabitEthernet - 3"
 # !
 # interface GigabitEthernet0/0/0/4
 #  description "GigabitEthernet - 4"
 # !
 #

  - name: Replace LACP configuration of listed interfaces with provided configuration
    iosxr_lacp_interfaces:
     config:
       - name: Bundle-Ether10
         churn_logging: partner

       - name: GigabitEthernet0/0/0/2
         period: 300
     state: replaced

 #
 #
 # -----------
 # After state
 # -----------
 #
 #
 # RP/0/0/CPU0:an-iosxr#sh run int
 # Sun Jul 21 18:50:21.929 UTC
 # interface Bundle-Ether10
 #  lacp churn logging partner
 # !
 # interface Bundle-Ether11
 #  lacp system mac 00c2.4c00.bd15
 # !
 # interface Bundle-Ether12
 # !
 # interface Loopback888
 #  description test for ansible
 #  shutdown
 # !
 # interface MgmtEth0/0/CPU0/0
 #  ipv4 address 192.0.2.11 255.255.255.0
 # !
 # interface GigabitEthernet0/0/0/1
 #  description 'GigabitEthernet - 1"
 #  lacp period 200
 # !
 # interface GigabitEthernet0/0/0/2
 #  description "GigabitEthernet - 2"
 #  lacp period 300
 # !
 # interface GigabitEthernet0/0/0/3
 #  description "GigabitEthernet - 3"
 # !
 # interface GigabitEthernet0/0/0/4
 #  description "GigabitEthernet - 4"
 # !
 #
 #


 # Using overridden
 #
 #
 # ------------
 # Before state
 # ------------
 #
 #
 # RP/0/0/CPU0:an-iosxr#sh run int
 # Sun Jul 21 18:24:52.413 UTC
 # interface Bundle-Ether10
 #  lacp churn logging actor
 #  lacp switchover suppress-flaps 500
 #  lacp collector-max-delay 100
 # !
 # interface Bundle-Ether11
 #  lacp system mac 00c2.4c00.bd15
 # !
 # interface Bundle-Ether12
 # !
 # interface Loopback888
 #  description test for ansible
 #  shutdown
 # !
 # interface MgmtEth0/0/CPU0/0
 #  ipv4 address 192.0.2.11 255.255.255.0
 # !
 # interface GigabitEthernet0/0/0/1
 #  description 'GigabitEthernet - 1"
 #  lacp period 200
 # !
 # interface GigabitEthernet0/0/0/2
 #  description "GigabitEthernet - 2"
 #  lacp period 200
 # !
 # interface GigabitEthernet0/0/0/3
 #  description "GigabitEthernet - 3"
 # !
 # interface GigabitEthernet0/0/0/4
 #  description "GigabitEthernet - 4"
 # !
 #
 #

  - name: Override all interface LACP configuration with provided configuration
    iosxr_lacp_interfaces:
     config:
       - name: Bundle-Ether12
         churn_logging: both
         collector_max_delay: 100
         switchover_suppress_flaps: 500

       - name: GigabitEthernet0/0/0/1
         period: 300
     state: overridden

 #
 #
 # -----------
 # After state
 # -----------
 #
 #
 # RP/0/0/CPU0:an-iosxr(config-if)#do sh run int
 # Sun Jul 21 19:32:36.115 UTC
 # interface Bundle-Ether10
 # !
 # interface Bundle-Ether11
 # !
 # interface Bundle-Ether12
 #  lacp churn logging both
 #  lacp switchover suppress-flaps 500
 #  lacp collector-max-delay 100
 # !
 # interface Loopback888
 #  description test for ansible
 #  shutdown
 # !
 # interface MgmtEth0/0/CPU0/0
 #  ipv4 address 192.0.2.11 255.255.255.0
 # !
 # interface GigabitEthernet0/0/0/1
 #  description 'GigabitEthernet - 1"
 #  lacp period 300
 # !
 # interface GigabitEthernet0/0/0/2
 #  description "GigabitEthernet - 2"
 # !
 # interface GigabitEthernet0/0/0/3
 #  description "GigabitEthernet - 3"
 # !
 # interface GigabitEthernet0/0/0/4
 #  description "GigabitEthernet - 4"
 # !
 #


 # Using deleted
 #
 #
 # ------------
 # Before state
 # ------------
 #
 #
 # RP/0/0/CPU0:an-iosxr#sh run int
 # Sun Jul 21 18:24:52.413 UTC
 # interface Bundle-Ether10
 #  lacp churn logging actor
 #  lacp switchover suppress-flaps 500
 #  lacp collector-max-delay 100
 # !
 # interface Bundle-Ether11
 #  lacp non-revertive
 # !
 # interface Bundle-Ether12
 # !
 # interface Loopback888
 #  description test for ansible
 #  shutdown
 # !
 # interface MgmtEth0/0/CPU0/0
 #  ipv4 address 192.0.2.11 255.255.255.0
 # !
 # interface GigabitEthernet0/0/0/1
 #  description 'GigabitEthernet - 1"
 #  lacp period 200
 # !
 # interface GigabitEthernet0/0/0/2
 #  description "GigabitEthernet - 2"
 #   lacp period 300
 # !
 # interface GigabitEthernet0/0/0/3
 #  description "GigabitEthernet - 3"
 # !
 # interface GigabitEthernet0/0/0/4
 #  description "GigabitEthernet - 4"
 # !
 #

  - name: Deleted LACP configurations of provided interfaces (Note - This won't delete the interface itself)
    iosxr_lacp_interfaces:
     config:
       - name: Bundle-Ether10
       - name: Bundle-Ether11
       - name: GigabitEthernet0/0/0/1
       - name: GigabitEthernet0/0/0/2
     state: deleted

 #
 #
 # -----------
 # After state
 # -----------
 #
 #
 # RP/0/0/CPU0:an-iosxr#sh run int
 # Sun Jul 21 19:51:03.499 UTC
 # interface Bundle-Ether10
 # !
 # interface Bundle-Ether11
 # !
 # interface Bundle-Ether12
 # !
 # interface Loopback888
 #  description test for ansible
 #  shutdown
 # !
 # interface MgmtEth0/0/CPU0/0
 #  ipv4 address 192.0.2.11 255.255.255.0
 # !
 # interface GigabitEthernet0/0/0/1
 #  description 'GigabitEthernet - 1"
 # !
 # interface GigabitEthernet0/0/0/2
 #  description "GigabitEthernet - 2"
 # !
 # interface GigabitEthernet0/0/0/3
 #  description "GigabitEthernet - 3"
 # !
 # interface GigabitEthernet0/0/0/4
 #  description "GigabitEthernet - 4"
 # !
 #

RETURN VALUES                   *iosxr_lacp_interfaces-return values*

   Common return values are documented here, the following are the fields unique to this module:

     Key      Returned                                                                                   Description
   after                 The configuration as structured data after module completion.
   list     when changed Sample:
                         The configuration returned will always be in the same format of the parameters above.
   before                The configuration as structured data prior to module invocation.
   list     always       Sample:
                         The configuration returned will always be in the same format of the parameters above.
   commands              The set of commands pushed to the remote device.
   list     always       Sample:
                         ['interface Bundle-Ether10', 'lacp churn logging partner', 'lacp period 150']

STATUS                   *iosxr_lacp_interfaces-status*

     • This module is not guaranteed to have a backwards compatible interface. [preview]
     • This module is maintained by the Ansible Network Team. [network]

RED HAT SUPPORT                   *iosxr_lacp_interfaces-red hat support*

     • Nilashish Chakraborty (@nilashishc)

   Hint

   If you notice any issues in this documentation, you can edit this document to improve it.

   ══════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════

MORE INFO                          *iosxr_lacp_interfaces-moreinfo*
>
All arguments are omni-completed, but if you really want to see the online docs:
https://docs.ansible.com/ansible/latest/modules/iosxr_lacp_interfaces_module.html
