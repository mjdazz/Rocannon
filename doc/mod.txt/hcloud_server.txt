SYNOPSIS                   *hcloud_server*

     • Create, update and manage cloud servers on the Hetzner Cloud.

REQUIREMENTS                   *hcloud_server-requirements*

   The below requirements are needed on the host that executes this module.

     • hcloud-python >= 1.0.0

PARAMETERS                   *hcloud_server-parameters*

       Parameter            Choices/Defaults                                                                            Comments
   api_token                                        This is the API Token for the Hetzner Cloud.
   string / required
   backups             Choices:
   boolean             • no ←                       Enable or disable Backups for the given Server.
                       • yes
   datacenter                                       Datacenter of Server.
   string                                           Required of no location is given and server does not exists.
   endpoint          Default:                       This is the API Endpoint for the Hetzner Cloud.
   string            "https://api.hetzner.cloud/v1"
   force_upgrade       Choices:                     Force the upgrade of the server.
   boolean             • no ←                       Power off the server if it is running on upgrade.
                       • yes
   id                                               The ID of the Hetzner Cloud server to manage.
   integer                                          Only required if no server name is given
   image                                            Image the server should be created from.
   string                                           Required if server does not exists.
   labels                                           User-defined labels (key-value pairs).
   dictionary
   location                                         Location of Server.
   string                                           Required if no datacenter is given and server does not exists.
   name                                             The Name of the Hetzner Cloud server to manage.
   string                                           Only required if no server id is given or a server does not exists.
   rescue_mode
   string                                           Add the Hetzner rescue system type you want the server to be booted into.
   added in 2.9
   server_type                                      The Server Type of the Hetzner Cloud server to manage.
   string                                           Required if server does not exists.
   ssh_keys                                         List of SSH key names
   list                                             The key names correspond to the SSH keys configured for your Hetzner Cloud account access.
                       Choices:
                       • absent
   state               • present ←
   string              • restarted                  State of the server.
                       • started
                       • stopped
                       • rebuild
   upgrade_disk        Choices:                     Resize the disk size, when resizing a server.
   boolean             • no ←                       If you want to downgrade the server later, this value should be False.
                       • yes
   user_data                                        User Data to be passed to the server on creation.
   string                                           Only used if server does not exists.
   volumes                                          List of Volumes IDs that should be attached to the server on server creation.
   list

SEE ALSO                   *hcloud_server-see also*

   See also

   Documentation for Hetzner Cloud API
   Complete reference for the Hetzner Cloud API.

EXAMPLES                   *hcloud_server-examples*

 - name: Create a basic server
   hcloud_server:
     name: my-server
     server_type: cx11
     image: ubuntu-18.04
     state: present

 - name: Create a basic server with ssh key
   hcloud_server:
     name: my-server
     server_type: cx11
     image: ubuntu-18.04
     location: fsn1
     ssh_keys:
       - [email protected]
     state: present

 - name: Resize an existing server
   hcloud_server:
     name: my-server
     server_type: cx21
     upgrade_disk: yes
     state: present

 - name: Ensure the server is absent (remove if needed)
   hcloud_server:
     name: my-server
     state: absent

 - name: Ensure the server is started
   hcloud_server:
     name: my-server
     state: started

 - name: Ensure the server is stopped
   hcloud_server:
     name: my-server
     state: stopped

 - name: Ensure the server is restarted
   hcloud_server:
     name: my-server
     state: restarted

 - name: Ensure the server is will be booted in rescue mode and therefore restarted
   hcloud_server:
     name: my-server
     rescue_mode: linux64
     state: restarted

 - name: Ensure the server is rebuild
   hcloud_server:
     name: my-server
     image: ubuntu-18.04
     state: rebuild

RETURN VALUES                   *hcloud_server-return values*

   Common return values are documented here, the following are the fields unique to this module:

         Key        Returned                                                                               Description
   hcloud_server    Always   The server instance
   complex
     backup_window           Time window (UTC) in which the backup will run, or null if the backups are not enabled
     boolean        always   Sample:
                             22-02
     datacenter              Name of the datacenter of the server
     string         always   Sample:
                             fsn1-dc14
     id                      Numeric identifier of the server
     integer        always   Sample:
                             1937415
     ipv4_address            Public IPv4 address of the server
     string         always   Sample:
                             116.203.104.109
     ipv6                    IPv6 network of the server
     string         always   Sample:
                             2a01:4f8:1c1c:c140::/64
     labels         always   User-defined labels (key-value pairs)
     dictionary
     location                Name of the location of the server
     string         always   Sample:
                             fsn1
     name                    Name of the server
     string         always   Sample:
                             my-server
     rescue_enabled always   True if rescue mode is enabled, Server will then boot into rescue system on next reboot
     boolean
     server_type             Name of the server type of the server
     string         always   Sample:
                             cx11
     status                  Status of the server
     string         always   Sample:
                             running

STATUS                   *hcloud_server-status*

     • This module is not guaranteed to have a backwards compatible interface. [preview]
     • This module is maintained by the Ansible Community. [community]

     • Lukas Kaemmerling (@LKaemmerling)

   Hint

   If you notice any issues in this documentation, you can edit this document to improve it.

   ══════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════

MORE INFO                          *hcloud_server-moreinfo*
>
All arguments are omni-completed, but if you really want to see the online docs:
https://docs.ansible.com/ansible/latest/modules/hcloud_server_module.html
