SYNOPSIS                   *ovirt_vm_info*

     • Retrieve information about one or more oVirt/RHV virtual machines.
     • This module was called ovirt_vm_facts before Ansible 2.9, returning ansible_facts. Note that the ovirt_vm_info module no longer returns ansible_facts!

   Aliases: ovirt_vm_facts

REQUIREMENTS                   *ovirt_vm_info-requirements*

   The below requirements are needed on the host that executes this module.

     • python >= 2.7
     • ovirt-engine-sdk-python >= 4.3.0

PARAMETERS                   *ovirt_vm_info-parameters*

       Parameter     Choices/Defaults                                                                            Comments
   all_content         Choices:
   boolean             • no           If true all the attributes of the virtual machines should be included in the response.
                       • yes
                                      Dictionary with values needed to create HTTP/HTTPS connection to oVirt:
                                      username[required] - The name of the user, something like [email protected]. Default value is set by OVIRT_USERNAME environment variable.
                                      password[required] - The password of the user. Default value is set by OVIRT_PASSWORD environment variable.
                                      url- A string containing the API URL of the server, usually something like `https://server.example.com/ovirt-engine/api`. Default value is set by OVIRT_URL
                                      environment variable. Either url or hostname is required.
   auth                               hostname - A string containing the hostname of the server, usually something like `server.example.com`. Default value is set by OVIRT_HOSTNAME environment
   dictionary /                       variable. Either url or hostname is required.
   required                           token - Token to be used instead of login with username/password. Default value is set by OVIRT_TOKEN environment variable.
                                      insecure - A boolean flag that indicates if the server TLS certificate and host name should be checked.
                                      ca_file - A PEM file containing the trusted CA certificates. The certificate presented by the server will be verified using these CA certificates. If `ca_file`
                                      parameter is not set, system wide CA certificate store is used. Default value is set by OVIRT_CAFILE environment variable.
                                      kerberos - A boolean flag indicating if Kerberos authentication should be used instead of the default basic authentication.
                                      headers - Dictionary of HTTP headers to be added to each API call.
   case_sensitive      Choices:
   boolean             • no           If true performed search will take case into account.
                       • yes ←
   fetch_nested        Choices:       If yes the module will fetch additional data from the API.
   boolean             • no           It will fetch only IDs of nested entity. It doesn't fetch multiple levels of nested attributes. Only the attributes of the current entity. User can configure
                       • yes          to fetch other attributes of the nested entities by specifying nested_attributes.
   max                                The maximum number of results to return.
   -
   nested_attributes                  Specifies list of the attributes which should be fetched from the API.
   list                               This parameter apply only when fetch_nested is true.
   next_run            Choices:       Indicates if the returned result describes the virtual machine as it is currently running or if describes the virtual machine with the modifications that have
   boolean             • no           already been performed but that will only come into effect when the virtual machine is restarted. By default the value is set by engine.
   added in 2.8        • yes
   pattern                            Search term which is accepted by oVirt/RHV search backend.
   -                                  For example to search VM X from cluster Y use following pattern: name=X and cluster=Y

NOTES                   *ovirt_vm_info-notes*

   Note

     • This module returns a variable ovirt_vms, which contains a list of virtual machines. You need to register the result with the register keyword to use it.
     • In order to use this module you have to install oVirt Python SDK. To ensure it’s installed with correct version you can create the following task: pip: name=ovirt-engine-sdk-python
       version=4.3.0

EXAMPLES                   *ovirt_vm_info-examples*

 # Examples don't contain auth parameter for simplicity,
 # look at ovirt_auth module to see how to reuse authentication:

 # Gather information about all VMs which names start with C(centos) and
 # belong to cluster C(west):
 - ovirt_vm_info:
     pattern: name=centos" and cluster=west
   register: result
 - debug:
     msg: "{{ result.ovirt_vms }}"

 # Gather info about next run configuration of virtual machine named myvm
 - ovirt_vm_info:
     pattern: name=myvm
     next_run: true
   register: result
 - debug:
     msg: "{{ result.ovirt_vms[0] }}"

RETURN VALUES                   *ovirt_vm_info-return values*

   Common return values are documented here, the following are the fields unique to this module:

      Key    Returned                                                                                   Description
   ovirt_vms On       List of dictionaries describing the VMs. VM attributes are mapped to dictionary keys, all VMs attributes can be found at following url:
   list      success. http://ovirt.github.io/ovirt-engine-api-model/master/#types/vm.

STATUS                   *ovirt_vm_info-status*

     • This module is not guaranteed to have a backwards compatible interface. [preview]
     • This module is maintained by the Ansible Community. [community]

     • Ondra Machacek (@machacekondra)

   Hint

   If you notice any issues in this documentation, you can edit this document to improve it.

   ══════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════

MORE INFO                          *ovirt_vm_info-moreinfo*
>
All arguments are omni-completed, but if you really want to see the online docs:
https://docs.ansible.com/ansible/latest/modules/ovirt_vm_info_module.html
