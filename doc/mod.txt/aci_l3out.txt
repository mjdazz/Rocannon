SYNOPSIS                   *aci_l3out*

     • Manage Layer 3 Outside (L3Out) on Cisco ACI fabrics.

Parameters¶

       Parameter     Choices/Defaults                                                                             Comments
   asn                                 The AS number for the L3Out.
   integer                             Only applicable when using 'eigrp' as the l3protocol
   added in 2.8                        aliases: as_number
                                       The X.509 certificate name attached to the APIC AAA user used for signature-based authentication.
   certificate_name                    If a private_key filename was provided, this defaults to the private_key basename, without extension.
   string                              If PEM-formatted content was provided for private_key, this defaults to the username value.
                                       aliases: cert_name
   description                         Description for the L3Out.
   string                              aliases: descr
   domain                              Name of the external L3 domain being associated with the L3Out.
   string / required                   aliases: ext_routed_domain_name, routed_domain
                       Choices:
                       • AF11
                       • AF12
                       • AF13
                       • AF21
                       • AF22
                       • AF23
                       • AF31
                       • AF32
                       • AF33
                       • AF41          The target Differentiated Service (DSCP) value.
   dscp                • AF42          The APIC defaults to unspecified when unset during creation.
   string              • AF43          aliases: target
                       • CS0
                       • CS1
                       • CS2
                       • CS3
                       • CS4
                       • CS5
                       • CS6
                       • CS7
                       • EF
                       • VA
                       • unspecified
   host                                IP Address or hostname of APIC resolvable by Ansible control host.
   string / required                   aliases: hostname
   l3out                               Name of L3Out being created.
   string / required                   aliases: l3out_name, name
                       Choices:
                       • bgp
   l3protocol          • eigrp         Routing protocol for the L3Out
   list                • ospf
                       • pim
                       • static
                       Choices:        Influence the output of this ACI module.
   output_level        • debug         normal means the standard output, incl. current dict
   string              • info          info adds informational output, incl. previous, proposed and sent dicts
                       • normal ←      debug adds debugging output, incl. filter_string, method, response, status and url information
   password                            The password to use for authentication.
   string / required                   This option is mutual exclusive with private_key. If private_key is provided too, it will be used instead.
   port                                Port number to be used for REST connection.
   integer                             The default value depends on parameter use_ssl.
                                       Either a PEM-formatted private key file or the private key content used for signature-based authentication.
   private_key                         This value also influences the default certificate_name that is used.
   string / required                   This option is mutual exclusive with password. If password is provided too, it will be ignored.
                                       aliases: cert_key
   route_control       Choices:        Route Control enforcement direction. The only allowed values are export or import,export.
   list                • export        aliases: route_control_enforcement
                       • import
                       Choices:
   state               • absent        Use present or absent for adding or removing.
   string              • present ←     Use query for listing an object or multiple objects.
                       • query
   tenant                              Name of an existing tenant.
   string / required                   aliases: tenant_name
   timeout           Default:          The socket level timeout in seconds.
   integer           30
   use_proxy           Choices:
   boolean             • no            If no, it will not use a proxy, even if one is defined in an environment variable on the target hosts.
                       • yes ←
   use_ssl             Choices:
   boolean             • no            If no, an HTTP connection will be used instead of the default HTTPS connection.
                       • yes ←
   username          Default:          The username to use for authentication.
   string            "admin"           aliases: user
   validate_certs      Choices:        If no, SSL certificates will not be validated.
   boolean             • no            This should only set to no when used on personally controlled sites using self-signed certificates.
                       • yes ←
   vrf                                 Name of the VRF being associated with the L3Out.
   string / required                   aliases: vrf_name

Notes¶

   Note

     • The tenant and domain and vrf used must exist before using this module in your playbook. The aci_tenant and aci_domain and aci_vrf modules can be used for this.

See Also¶

   See also

   aci_tenant – Manage tenants (fv:Tenant)
   The official documentation on the aci_tenant module.

   aci_domain – Manage physical, virtual, bridged, routed or FC domain profiles (phys:DomP, vmm:DomP, l2ext:DomP, l3ext:DomP, fc:DomP)
   The official documentation on the aci_domain module.

   aci_vrf – Manage contexts or VRFs (fv:Ctx)
   The official documentation on the aci_vrf module.

   APIC Management Information Model reference
   More information about the internal APIC class l3ext:Out.

   Cisco ACI Guide
   Detailed information on how to manage your ACI infrastructure using Ansible.

   Developing Cisco ACI modules
   Detailed guide on how to write your own Cisco ACI modules to contribute.

Examples¶

 - name: Add a new L3Out
   aci_l3out:
     host: apic
     username: admin
     password: SomeSecretPassword
     tenant: production
     name: prod_l3out
     description: L3Out for Production tenant
     domain: l3dom_prod
     vrf: prod
     l3protocol: ospf
     state: present
   delegate_to: localhost

 - name: Delete L3Out
   aci_l3out:
     host: apic
     username: admin
     password: SomeSecretPassword
     tenant: production
     name: prod_l3out
     state: absent
   delegate_to: localhost

 - name: Query L3Out information
   aci_l3out:
     host: apic
     username: admin
     password: SomeSecretPassword
     tenant: production
     name: prod_l3out
     state: query
   delegate_to: localhost
   register: query_result

Return Values¶

   Common return values are documented here, the following are the fields unique to this module:

        Key         Returned                                                                                 Description
   current                      The existing configuration from the APIC after the module has finished
   list          success        Sample:
                                [{'fvTenant': {'attributes': {'descr': 'Production environment', 'dn': 'uni/tn-production', 'name': 'production', 'nameAlias': '', 'ownerKey': '', 'ownerTag': ''}}}]
   error                        The error information as returned from the APIC
   dictionary    failure        Sample:
                                {'code': '122', 'text': 'unknown managed object class foo'}
   filter_string failure or     The filter string used for the request
   string        debug          Sample:
                                ?rsp-prop-include=config-only
   method        failure or     The HTTP method used for the request to the APIC
   string        debug          Sample:
                                POST
   previous                     The original configuration from the APIC before the module has started
   list          info           Sample:
                                [{'fvTenant': {'attributes': {'descr': 'Production', 'dn': 'uni/tn-production', 'name': 'production', 'nameAlias': '', 'ownerKey': '', 'ownerTag': ''}}}]
   proposed                     The assembled configuration from the user-provided parameters
   dictionary    info           Sample:
                                {'fvTenant': {'attributes': {'descr': 'Production environment', 'name': 'production'}}}
   raw                          The raw output returned by the APIC REST API (xml or json)
   string        parse error    Sample:
                                <?xml version="1.0" encoding="UTF-8"?><imdata totalCount="1"><error code="122" text="unknown managed object class foo"/></imdata>
   response      failure or     The HTTP response from the APIC
   string        debug          Sample:
                                OK (30 bytes)
   sent                         The actual/minimal configuration pushed to the APIC
   list          info           Sample:
                                {'fvTenant': {'attributes': {'descr': 'Production environment'}}}
   status        failure or     The HTTP status from the APIC
   integer       debug          Sample:
                                200
   url           failure or     The HTTP url used for the request to the APIC
   string        debug          Sample:
                                https://10.11.12.13/api/mo/uni/tn-production.json

Status¶

     • This module is not guaranteed to have a backwards compatible interface. [preview]
     • This module is maintained by an Ansible Partner. [certified]

  Authors¶

     • Rostyslav Davydenko (@rost-d)

   Hint

   If you notice any issues in this documentation, you can edit this document to improve it.

   ══════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════

REQUIREMENTS                   *aci_l3out-requirements*

PARAMETERS                   *aci_l3out-parameters*

       Parameter     Choices/Defaults                                                                             Comments
   asn                                 The AS number for the L3Out.
   integer                             Only applicable when using 'eigrp' as the l3protocol
   added in 2.8                        aliases: as_number
                                       The X.509 certificate name attached to the APIC AAA user used for signature-based authentication.
   certificate_name                    If a private_key filename was provided, this defaults to the private_key basename, without extension.
   string                              If PEM-formatted content was provided for private_key, this defaults to the username value.
                                       aliases: cert_name
   description                         Description for the L3Out.
   string                              aliases: descr
   domain                              Name of the external L3 domain being associated with the L3Out.
   string / required                   aliases: ext_routed_domain_name, routed_domain
                       Choices:
                       • AF11
                       • AF12
                       • AF13
                       • AF21
                       • AF22
                       • AF23
                       • AF31
                       • AF32
                       • AF33
                       • AF41          The target Differentiated Service (DSCP) value.
   dscp                • AF42          The APIC defaults to unspecified when unset during creation.
   string              • AF43          aliases: target
                       • CS0
                       • CS1
                       • CS2
                       • CS3
                       • CS4
                       • CS5
                       • CS6
                       • CS7
                       • EF
                       • VA
                       • unspecified
   host                                IP Address or hostname of APIC resolvable by Ansible control host.
   string / required                   aliases: hostname
   l3out                               Name of L3Out being created.
   string / required                   aliases: l3out_name, name
                       Choices:
                       • bgp
   l3protocol          • eigrp         Routing protocol for the L3Out
   list                • ospf
                       • pim
                       • static
                       Choices:        Influence the output of this ACI module.
   output_level        • debug         normal means the standard output, incl. current dict
   string              • info          info adds informational output, incl. previous, proposed and sent dicts
                       • normal ←      debug adds debugging output, incl. filter_string, method, response, status and url information
   password                            The password to use for authentication.
   string / required                   This option is mutual exclusive with private_key. If private_key is provided too, it will be used instead.
   port                                Port number to be used for REST connection.
   integer                             The default value depends on parameter use_ssl.
                                       Either a PEM-formatted private key file or the private key content used for signature-based authentication.
   private_key                         This value also influences the default certificate_name that is used.
   string / required                   This option is mutual exclusive with password. If password is provided too, it will be ignored.
                                       aliases: cert_key
   route_control       Choices:        Route Control enforcement direction. The only allowed values are export or import,export.
   list                • export        aliases: route_control_enforcement
                       • import
                       Choices:
   state               • absent        Use present or absent for adding or removing.
   string              • present ←     Use query for listing an object or multiple objects.
                       • query
   tenant                              Name of an existing tenant.
   string / required                   aliases: tenant_name
   timeout           Default:          The socket level timeout in seconds.
   integer           30
   use_proxy           Choices:
   boolean             • no            If no, it will not use a proxy, even if one is defined in an environment variable on the target hosts.
                       • yes ←
   use_ssl             Choices:
   boolean             • no            If no, an HTTP connection will be used instead of the default HTTPS connection.
                       • yes ←
   username          Default:          The username to use for authentication.
   string            "admin"           aliases: user
   validate_certs      Choices:        If no, SSL certificates will not be validated.
   boolean             • no            This should only set to no when used on personally controlled sites using self-signed certificates.
                       • yes ←
   vrf                                 Name of the VRF being associated with the L3Out.
   string / required                   aliases: vrf_name

NOTES                   *aci_l3out-notes*

   Note

     • The tenant and domain and vrf used must exist before using this module in your playbook. The aci_tenant and aci_domain and aci_vrf modules can be used for this.

See Also¶

   See also

   aci_tenant – Manage tenants (fv:Tenant)
   The official documentation on the aci_tenant module.

   aci_domain – Manage physical, virtual, bridged, routed or FC domain profiles (phys:DomP, vmm:DomP, l2ext:DomP, l3ext:DomP, fc:DomP)
   The official documentation on the aci_domain module.

   aci_vrf – Manage contexts or VRFs (fv:Ctx)
   The official documentation on the aci_vrf module.

   APIC Management Information Model reference
   More information about the internal APIC class l3ext:Out.

   Cisco ACI Guide
   Detailed information on how to manage your ACI infrastructure using Ansible.

   Developing Cisco ACI modules
   Detailed guide on how to write your own Cisco ACI modules to contribute.

EXAMPLES                   *aci_l3out-examples*

 - name: Add a new L3Out
   aci_l3out:
     host: apic
     username: admin
     password: SomeSecretPassword
     tenant: production
     name: prod_l3out
     description: L3Out for Production tenant
     domain: l3dom_prod
     vrf: prod
     l3protocol: ospf
     state: present
   delegate_to: localhost

 - name: Delete L3Out
   aci_l3out:
     host: apic
     username: admin
     password: SomeSecretPassword
     tenant: production
     name: prod_l3out
     state: absent
   delegate_to: localhost

 - name: Query L3Out information
   aci_l3out:
     host: apic
     username: admin
     password: SomeSecretPassword
     tenant: production
     name: prod_l3out
     state: query
   delegate_to: localhost
   register: query_result

RETURN VALUES                   *aci_l3out-return values*

   Common return values are documented here, the following are the fields unique to this module:

        Key         Returned                                                                                 Description
   current                      The existing configuration from the APIC after the module has finished
   list          success        Sample:
                                [{'fvTenant': {'attributes': {'descr': 'Production environment', 'dn': 'uni/tn-production', 'name': 'production', 'nameAlias': '', 'ownerKey': '', 'ownerTag': ''}}}]
   error                        The error information as returned from the APIC
   dictionary    failure        Sample:
                                {'code': '122', 'text': 'unknown managed object class foo'}
   filter_string failure or     The filter string used for the request
   string        debug          Sample:
                                ?rsp-prop-include=config-only
   method        failure or     The HTTP method used for the request to the APIC
   string        debug          Sample:
                                POST
   previous                     The original configuration from the APIC before the module has started
   list          info           Sample:
                                [{'fvTenant': {'attributes': {'descr': 'Production', 'dn': 'uni/tn-production', 'name': 'production', 'nameAlias': '', 'ownerKey': '', 'ownerTag': ''}}}]
   proposed                     The assembled configuration from the user-provided parameters
   dictionary    info           Sample:
                                {'fvTenant': {'attributes': {'descr': 'Production environment', 'name': 'production'}}}
   raw                          The raw output returned by the APIC REST API (xml or json)
   string        parse error    Sample:
                                <?xml version="1.0" encoding="UTF-8"?><imdata totalCount="1"><error code="122" text="unknown managed object class foo"/></imdata>
   response      failure or     The HTTP response from the APIC
   string        debug          Sample:
                                OK (30 bytes)
   sent                         The actual/minimal configuration pushed to the APIC
   list          info           Sample:
                                {'fvTenant': {'attributes': {'descr': 'Production environment'}}}
   status        failure or     The HTTP status from the APIC
   integer       debug          Sample:
                                200
   url           failure or     The HTTP url used for the request to the APIC
   string        debug          Sample:
                                https://10.11.12.13/api/mo/uni/tn-production.json

STATUS                   *aci_l3out-status*

     • This module is not guaranteed to have a backwards compatible interface. [preview]
     • This module is maintained by an Ansible Partner. [certified]

     • Rostyslav Davydenko (@rost-d)

   Hint

   If you notice any issues in this documentation, you can edit this document to improve it.

   ══════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════

MORE INFO                          *aci_l3out-moreinfo*
>
All arguments are omni-completed, but if you really want to see the online docs:
https://docs.ansible.com/ansible/latest/modules/aci_l3out_module.html
