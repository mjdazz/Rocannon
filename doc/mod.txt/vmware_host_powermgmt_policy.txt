SYNOPSIS                   *vmware_host_powermgmt_policy*

     • This module can be used to manage the Power Management Policy of ESXi host systems in given vCenter infrastructure.

REQUIREMENTS                   *vmware_host_powermgmt_policy-requirements*

   The below requirements are needed on the host that executes this module.

     • python >= 2.6
     • PyVmomi

PARAMETERS                   *vmware_host_powermgmt_policy-parameters*

     Parameter       Choices/Defaults                                                                              Comments
   cluster_name                          Name of the cluster from which all host systems will be used.
   string                                This is required parameter if esxi_hostname is not specified.
   esxi_hostname                         Name of the host system to work with.
   string                                This is required parameter if cluster_name is not specified.
   hostname                              The hostname or IP address of the vSphere vCenter or ESXi server.
   string                                If the value is not specified in the task, the value of environment variable VMWARE_HOST will be used instead.
                                         Environment variable support added in Ansible 2.6.
                                         The password of the vSphere vCenter or ESXi server.
   password                              If the value is not specified in the task, the value of environment variable VMWARE_PASSWORD will be used instead.
   string                                Environment variable support added in Ansible 2.6.
                                         aliases: pass, pwd
                    Choices:
   policy           • high-performance
   string           • balanced ←         Set the Power Management Policy of the host system.
                    • low-power
                    • custom
   port           Default:               The port number of the vSphere vCenter or ESXi server.
   integer        443                    If the value is not specified in the task, the value of environment variable VMWARE_PORT will be used instead.
   added in 2.5                          Environment variable support added in Ansible 2.6.
   proxy_host                            Address of a proxy that will receive all HTTPS requests and relay them.
   string                                The format is a hostname or a IP.
   added in 2.9                          If the value is not specified in the task, the value of environment variable VMWARE_PROXY_HOST will be used instead.
                                         This feature depends on a version of pyvmomi greater than v6.7.1.2018.12
   proxy_port                            Port of the HTTP proxy that will receive all HTTPS requests and relay them.
   integer                               If the value is not specified in the task, the value of environment variable VMWARE_PROXY_PORT will be used instead.
   added in 2.9
                                         The username of the vSphere vCenter or ESXi server.
   username                              If the value is not specified in the task, the value of environment variable VMWARE_USER will be used instead.
   string                                Environment variable support added in Ansible 2.6.
                                         aliases: admin, user
                    Choices:             Allows connection when SSL certificates are not valid. Set to false when certificates are not trusted.
   validate_certs   • no                 If the value is not specified in the task, the value of environment variable VMWARE_VALIDATE_CERTS will be used instead.
   boolean          • yes ←              Environment variable support added in Ansible 2.6.
                                         If set to yes, please make sure Python >= 2.7.9 is installed on the given machine.

NOTES                   *vmware_host_powermgmt_policy-notes*

   Note

     • Tested on vSphere 6.5

EXAMPLES                   *vmware_host_powermgmt_policy-examples*

 - name: Set the Power Management Policy of a host system to high-performance
   vmware_host_powermgmt_policy:
     hostname: '{{ vcenter_hostname }}'
     username: '{{ vcenter_username }}'
     password: '{{ vcenter_password }}'
     esxi_hostname: '{{ esxi_host }}'
     policy: high-performance
     validate_certs: no
   delegate_to: localhost

 - name: Set the Power Management Policy of all host systems from cluster to high-performance
   vmware_host_powermgmt_policy:
     hostname: '{{ vcenter_hostname }}'
     username: '{{ vcenter_username }}'
     password: '{{ vcenter_password }}'
     cluster_name: '{{ cluster_name }}'
     policy: high-performance
     validate_certs: no
   delegate_to: localhost

RETURN VALUES                   *vmware_host_powermgmt_policy-return values*

   Common return values are documented here, the following are the fields unique to this module:

      Key     Returned                                                                                  Description
                       metadata about host system's Power Management Policy
   result     always   Sample:
   dictionary          {'changed': True, 'result': {'esxi01': {'changed': True, 'current_state': 'high-performance', 'desired_state': 'high-performance', 'msg': 'Power policy changed',
                       'previous_state': 'balanced'}}}

STATUS                   *vmware_host_powermgmt_policy-status*

     • This module is not guaranteed to have a backwards compatible interface. [preview]
     • This module is maintained by the Ansible Community. [community]

     • Christian Kotte (@ckotte) <christian.kotte@gmx.de>

   Hint

   If you notice any issues in this documentation, you can edit this document to improve it.

   ══════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════

MORE INFO                          *vmware_host_powermgmt_policy-moreinfo*
>
All arguments are omni-completed, but if you really want to see the online docs:
https://docs.ansible.com/ansible/latest/modules/vmware_host_powermgmt_policy_module.html
