SYNOPSIS                   *ovirt_event*

     • This module can be used to create or delete an event in oVirt/RHV.

REQUIREMENTS                   *ovirt_event-requirements*

   The below requirements are needed on the host that executes this module.

     • python >= 2.7
     • ovirt-engine-sdk-python >= 4.3.0

PARAMETERS                   *ovirt_event-parameters*

         Parameter        Choices/Defaults                                                                          Comments
   auth                                    Dictionary with values needed to create HTTP/HTTPS connection to oVirt:
   dictionary / required
                                           A PEM file containing the trusted CA certificates.
       ca_file                             The certificate presented by the server will be verified using these CA certificates.
       string                              If ca_file parameter is not set, system wide CA certificate store is used.
                                           Default value is set by OVIRT_CAFILE environment variable.
       headers                             Dictionary of HTTP headers to be added to each API call.
       dictionary
       hostname                            A string containing the hostname of the server, usually something like `server.example.com`.
       string                              Default value is set by OVIRT_HOSTNAME environment variable.
                                           Either url or hostname is required.
       insecure             Choices:
       boolean              • no           A boolean flag that indicates if the server TLS certificate and host name should be checked.
                            • yes
       kerberos             Choices:
       boolean              • no           A boolean flag indicating if Kerberos authentication should be used instead of the default basic authentication.
                            • yes
       password                            The password of the user.
       string / required                   Default value is set by OVIRT_PASSWORD environment variable.
       token                               Token to be used instead of login with username/password.
       string                              Default value is set by OVIRT_TOKEN environment variable.
       url                                 A string containing the API URL of the server, usually something like `https://server.example.com/ovirt-engine/api`.
       string                              Default value is set by OVIRT_URL environment variable.
                                           Either url or hostname is required.
       username                            The name of the user, something like [email protected].
       string / required                   Default value is set by OVIRT_USERNAME environment variable.
   cluster                                 The id of the cluster associated with this event.
   string
   custom_id                               Custom ID for the event. This ID must be unique for each event.
   integer                                 Required when state is present.
   data_center                             The id of the data center associated with this event.
   string
   description                             Message for the event.
   string                                  Required when state is present.
   fetch_nested             Choices:       If True the module will fetch additional data from the API.
   boolean                  • no           It will fetch IDs of the VMs disks, snapshots, etc. User can configure to fetch other attributes of the nested entities by specifying nested_attributes.
                            • yes
   host                                    The id of the host associated with this event.
   string
   id                                      The event ID in the oVirt/RHV audit_log table. This ID is not the same as custom_id and is only used when state is absent.
   string                                  Required when state is absent.
   nested_attributes                       Specifies list of the attributes which should be fetched from the API.
   list                                    This parameter apply only when fetch_nested is true.
   origin                                  Originator of the event.
   string                                  Required when state is present.
   poll_interval          Default:         Number of the seconds the module waits until another poll request on entity status is sent.
   integer                3
                            Choices:
   severity                 • error        Severity of the event.
   string                   • normal ←     Required when state is present.
                            • warning
   state                    Choices:       Should the event be present/absent.
   string                   • present ←    The wait option must be set to false when state is absent.
                            • absent
   storage_domain                          The id of the storage domain associated with this event.
   string
   template                                The id of the template associated with this event.
   string
   timeout                Default:         The amount of time in seconds the module should wait for the instance to get into desired state.
   integer                180
   user                                    The id of the user associated with this event.
   string
   vm                                      The id of the VM associated with this event.
   string
   wait                     Choices:
   boolean                  • no           yes if the module should wait for the entity to get into desired state.
                            • yes ←

NOTES                   *ovirt_event-notes*

   Note

     • In order to use this module you have to install oVirt Python SDK. To ensure it’s installed with correct version you can create the following task: pip: name=ovirt-engine-sdk-python
       version=4.3.0

EXAMPLES                   *ovirt_event-examples*

 # Examples don't contain the auth parameter for simplicity,
 # look at the ovirt_auth module to see how to reuse authentication.

 - name: Create an event
   ovirt_event:
     state: present
     description: "The file system /home on host xyz is almost full!"
     origin: "mymonitor"
     custom_id: 123456789
     severity: warning

 - name: Create an event and link it to a specific object
   ovirt_event:
     state: present
     description: "The file system /home is almost full!"
     origin: "mymonitor"
     custom_id: 123456789
     severity: warning
     vm: "c79db183-46ef-44d1-95f9-1a368c516c19"

 - name: Remove an event
   ovirt_event:
     state: absent
     id: 123456789
     wait: false

RETURN VALUES                   *ovirt_event-return values*

   Common return values are documented here, the following are the fields unique to this module:

      Key      Returned                                                                                   Description
   event      On success. Dictionary of all the Event attributes. All event attributes can be found at the following url: http://ovirt.github.io/ovirt-engine-api-model/master/#types/event
   dictionary
   id         On success. ID of the event that was created.
   string

STATUS                   *ovirt_event-status*

     • This module is not guaranteed to have a backwards compatible interface. [preview]
     • This module is maintained by the Ansible Community. [community]

     • Chris Keller (@nasx)

   Hint

   If you notice any issues in this documentation, you can edit this document to improve it.

   ══════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════

MORE INFO                          *ovirt_event-moreinfo*
>
All arguments are omni-completed, but if you really want to see the online docs:
https://docs.ansible.com/ansible/latest/modules/ovirt_event_module.html
