SYNOPSIS                   *ce_ntp*

     • Manages core NTP configuration on HUAWEI CloudEngine switches.

PARAMETERS                   *ce_ntp-parameters*

    Parameter   Choices/Defaults                                                                               Comments
   is_preferred   Choices:
   -              • enable       Makes given NTP server or peer the preferred NTP server or peer for the device.
                  • disable
   key_id                        Authentication key identifier to use with given NTP server or peer.
   -
   peer                          Network address of NTP peer.
   -
   server                        Network address of NTP server.
   -
   source_int                    Local source interface from which NTP messages are sent. Must be fully qualified interface name, i.e. 40GE1/0/22, vlanif10. Interface types, such as 10GE, 40GE,
   -                             100GE, Eth-Trunk, LoopBack, MEth, NULL, Tunnel, Vlanif.
   state          Choices:
   -              • present ←    Manage the state of the resource.
                  • absent
   vpn_name     Default:         Makes the device communicate with the given NTP server or peer over a specific vpn.
   -            "_public_"

NOTES                   *ce_ntp-notes*

   Note

     • This module requires the netconf system service be enabled on the remote device being managed.
     • Recommended connection is netconf.
     • This module also works with local connections for legacy playbooks.

EXAMPLES                   *ce_ntp-examples*

 - name: NTP test
   hosts: cloudengine
   connection: local
   gather_facts: no
   vars:
     cli:
       host: "{{ inventory_hostname }}"
       port: "{{ ansible_ssh_port }}"
       username: "{{ username }}"
       password: "{{ password }}"
       transport: cli

   tasks:

   - name: "Set NTP Server with parameters"
     ce_ntp:
       server: 192.8.2.6
       vpn_name: js
       source_int: vlanif4001
       is_preferred: enable
       key_id: 32
       provider: "{{ cli }}"

   - name: "Set NTP Peer with parameters"
     ce_ntp:
       peer: 192.8.2.6
       vpn_name: js
       source_int: vlanif4001
       is_preferred: enable
       key_id: 32
       provider: "{{ cli }}"

RETURN VALUES                   *ce_ntp-return values*

   Common return values are documented here, the following are the fields unique to this module:

      Key     Returned                                                                                  Description
   changed             check to see if a change was made on the device
   boolean    always   Sample:
                       True
   end_state           k/v pairs of ntp info after module execution
   dictionary always   Sample:
                       {'server': '2.2.2.2', 'key_id': '48', 'is_preferred': 'enable', 'vpn_name': 'js', 'source_int': 'vlanif4002'}
   existing            k/v pairs of existing ntp server/peer
   dictionary always   Sample:
                       {'server': '2.2.2.2', 'key_id': '32', 'is_preferred': 'disable', 'vpn_name': 'js', 'source_int': 'vlanif4002'}
   proposed            k/v pairs of parameters passed into module
   dictionary always   Sample:
                       {'server': '2.2.2.2', 'key_id': '48', 'is_preferred': 'enable', 'vpn_name': 'js', 'source_int': 'vlanif4002', 'state': 'present'}
   updates             command sent to the device
   list       always   Sample:
                       ['ntp server 2.2.2.2 authentication-keyid 48 source-interface vlanif4002 vpn-instance js preferred']

STATUS                   *ce_ntp-status*

     • This module is not guaranteed to have a backwards compatible interface. [preview]
     • This module is maintained by the Ansible Community. [community]

     • Zhijin Zhou (@QijunPan)

   Hint

   If you notice any issues in this documentation, you can edit this document to improve it.

   ══════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════

MORE INFO                          *ce_ntp-moreinfo*
>
All arguments are omni-completed, but if you really want to see the online docs:
https://docs.ansible.com/ansible/latest/modules/ce_ntp_module.html
