SYNOPSIS                   *bigip_profile_http*

     • Manage HTTP profiles on a BIG-IP.

PARAMETERS                   *bigip_profile_http-parameters*

           Parameter          Choices/Defaults                                                                        Comments
   accept_xff                   Choices:       Enables or disables trusting the client IP address, and statistics from the client IP address, based on the request's XFF (X-forwarded-for) headers,
   boolean                      • no           if they exist.
   added in 2.9                 • yes          When creating a new profile, if this parameter is not specified, the default is provided by the parent profile.
   description                                 Description of the profile.
   string
   dns_resolver                                Specifies the name of a configured DNS resolver, this option is mandatory when proxy_type is set to explicit.
   string                                      Format of the name can be either be prepended by partition (/Common/foo), or specified just as an object name (foo).
                                               To remove the entry a value of none or '' can be set, however the profile proxy_type must not be set as explicit.
   encrypt_cookie_secret                       Passphrase for cookie encryption.
   string                                      When creating a new profile, if this parameter is not specified, the default is provided by the parent profile.
   encrypt_cookies                             Cookie names for the system to encrypt.
   list                                        To remove the entry completely a value of none or '' should be set.
                                               When creating a new profile, if this parameter is not specified, the default is provided by the parent profile.
   enforcement                                 Specifies protocol enforcement settings for the HTTP profile.
   dictionary                                  When creating a new profile, if this parameter is not specified, the default is provided by the parent profile.
   added in 2.9
     excess_client_headers      Choices:       Specifies the behavior when too many client headers are received.
     string                     • reject       If set to pass-through, will switch to pass through mode, when reject the connection will be rejected.
                                • pass-through When creating a new profile, if this parameter is not specified, the default is provided by the parent profile.
     excess_server_headers      Choices:       Specifies the behavior when too many server headers are received.
     string                     • reject       If set to pass-through, will switch to pass through mode, when reject the connection will be rejected.
                                • pass-through When creating a new profile, if this parameter is not specified, the default is provided by the parent profile.
                                               Specifies which HTTP methods count as being known, removing RFC-defined methods from this list will cause the HTTP filter to not recognize them.
     known_methods                             The default list provided with the system include: CONNECT, DELETE, GET, HEAD, LOCK, OPTIONS, POST, PROPFIND, PUT, TRACE ,UNLOCK. The list can be
     list                                      appended by by specifying default keyword as one of the list elements.
                                               The default keyword can also be used to restore the default known_methods on the system.
                                               When creating a new profile, if this parameter is not specified, the default is provided by the parent profile.
                                               Specifies the maximum number of headers allowed in HTTP request/response.
     max_header_count                          The valid value range is between 16 and 4096 inclusive.
     string                                    When set to default the value of this parameter will be 64
                                               When creating a new profile, if this parameter is not specified, the default is provided by the parent profile.
                                               Specifies the maximum header size specified in bytes.
     max_header_size                           The valid value range is between 0 and 4294967295 inclusive.
     string                                    When set to default the value of this parameter will be 32768 bytes
                                               When creating a new profile, if this parameter is not specified, the default is provided by the parent profile.
                                               Specifies the number of requests that the system accepts on a per-connection basis.
     max_requests                              The valid value range is between 0 and 4294967295 inclusive.
     string                                    When set to default the value of this parameter will be 0, which means the system will not limit the number of requests per connection.
                                               When creating a new profile, if this parameter is not specified, the default is provided by the parent profile.
     oversize_client_headers    Choices:       Specifies the behavior when too-large client headers are received.
     string                     • reject       If set to pass-through, will switch to pass through mode, when reject the connection will be rejected.
                                • pass-through When creating a new profile, if this parameter is not specified, the default is provided by the parent profile.
     oversize_server_headers    Choices:       Specifies the behavior when too-large server headers are received.
     string                     • reject       If set to pass-through, will switch to pass through mode, when reject the connection will be rejected.
                                • pass-through When creating a new profile, if this parameter is not specified, the default is provided by the parent profile.
                                Choices:       Enables HTTP/1.1 pipelining, allowing clients to make requests even when prior requests have not received a response.
     pipeline                   • allow        In order for this to succeed, however, destination servers must include support for pipelining.
     string                     • reject       If set to pass-through, pipelined data will cause the BIG-IP to immediately switch to pass-through mode and disable the HTTP filter.
                                • pass-through When creating a new profile, if this parameter is not specified, the default is provided by the parent profile.
     truncated_redirects        Choices:       Specifies what happens if a truncated redirect is seen from a server.
     boolean                    • no           If yes, the redirect will be forwarded to the client, otherwise the malformed HTTP will be silently ignored.
                                • yes          When creating a new profile, if this parameter is not specified, the default is provided by the parent profile.
                                Choices:
     unknown_method             • allow        Specifies whether to allow, reject or switch to pass-through mode when an unknown HTTP method is parsed.
     string                     • reject       When creating a new profile, if this parameter is not specified, the default is provided by the parent profile.
                                • pass-through
   fallback_host                               Specifies an HTTP fallback host.
   string                                      When creating a new profile, if this parameter is not specified, the default is provided by the parent profile.
   added in 2.9
                                               Specifies one or more HTTP error codes from server responses that should trigger a redirection to the fallback host.
   fallback_status_codes                       The accepted valid error codes are as defined by rfc2616.
   list                                        The codes can be specified as individual items or as valid ranges e.g. 400-417 or 500-505.
   added in 2.9                                Mixing response code range across error types is invalid e.g. defining 400-505 will raise an error.
                                               When creating a new profile, if this parameter is not specified, the default is provided by the parent profile.
   header_erase                                The name of a header, in an HTTP request, which the system removes from request.
   string                                      To remove the entry completely a value of none or '' should be set.
   added in 2.8                                The format of the header must be in KEY:VALUE format, otherwise error is raised.
                                               When creating a new profile, if this parameter is not specified, the default is provided by the parent profile.
   header_insert                               A string that the system inserts as a header in an HTTP request.
   string                                      To remove the entry completely a value of none or '' should be set.
   added in 2.8                                The format of the header must be in KEY:VALUE format, otherwise error is raised.
                                               When creating a new profile, if this parameter is not specified, the default is provided by the parent profile.
   hsts_mode                    Choices:       When set to yes, enables the HSTS settings.
   boolean                      • no           When creating a new profile, if this parameter is not specified, the default is provided by the parent profile.
   added in 2.8                 • yes
   include_subdomains           Choices:       When set to yes, applies the HSTS policy to the HSTS host and its sub-domains.
   boolean                      • no           When creating a new profile, if this parameter is not specified, the default is provided by the parent profile.
   added in 2.8                 • yes
   insert_xforwarded_for        Choices:       When specified system inserts an X-Forwarded-For header in an HTTP request with the client IP address, to use with connection pooling.
   boolean                      • no           When creating a new profile, if this parameter is not specified, the default is provided by the parent profile.
                                • yes
                                               Specifies the maximum length of time, in seconds, that HSTS functionality requests that clients only use HTTPS to connect to the current host and any
   maximum_age                                 sub-domains of the current host's domain name.
   string                                      The accepted value range is 0 - 4294967295 seconds, a value of 0 seconds re-enables plaintext HTTP access, while specifying indefinite will set it to
   added in 2.8                                the maximum value.
                                               When creating a new profile, if this parameter is not specified, the default is provided by the parent profile.
   name                                        Specifies the name of the profile.
   string / required
   oneconnect_transformations   Choices:       Enables the system to perform HTTP header transformations for the purpose of keeping server-side connections open. This feature requires configuration
   boolean                      • no           of a OneConnect profile.
   added in 2.9                 • yes          When creating a new profile, if this parameter is not specified, the default is provided by the parent profile.
   parent                     Default:         Specifies the profile from which this profile inherits settings.
   string                     "/Common/http"   When creating a new profile, if this parameter is not specified, the default is the system-supplied http profile.
   partition                  Default:         Device partition to manage resources on.
   string                     "Common"
   provider
   dictionary                                  A dict object containing connection details.
   added in 2.5
     auth_provider                             Configures the auth provider for to obtain authentication tokens from the remote device.
     string                                    This option is really used when working with BIG-IQ devices.
     password                                  The password for the user account used to connect to the BIG-IP.
     string / required                         You may omit this option by setting the environment variable F5_PASSWORD.
                                               aliases: pass, pwd
     server                                    The BIG-IP host.
     string / required                         You may omit this option by setting the environment variable F5_SERVER.
     server_port              Default:         The BIG-IP server port.
     integer                  443              You may omit this option by setting the environment variable F5_SERVER_PORT.
     ssh_keyfile                               Specifies the SSH keyfile to use to authenticate the connection to the remote device. This argument is only used for cli transports.
     path                                      You may omit this option by setting the environment variable ANSIBLE_NET_SSH_KEYFILE.
     timeout                                   Specifies the timeout in seconds for communicating with the network device for either connecting or sending commands. If the timeout is exceeded
     integer                                   before the operation is completed, the module will error.
     transport                  Choices:
     string                     • cli          Configures the transport connection to use when connecting to the remote device.
                                • rest ←
     user                                      The username to connect to the BIG-IP with. This user must have administrative privileges on the device.
     string / required                         You may omit this option by setting the environment variable F5_USER.
     validate_certs             Choices:       If no, SSL certificates are not validated. Use this only on personally controlled sites using self-signed certificates.
     boolean                    • no           You may omit this option by setting the environment variable F5_VALIDATE_CERTS.
                                • yes ←
                                Choices:
   proxy_type                   • reverse      Specifies the proxy mode for the profile.
   string                       • transparent  When creating a new profile, if this parameter is not specified, the default is provided by the parent profile.
                                • explicit
                                Choices:       Specifies whether the system rewrites the URIs that are part of HTTP redirect (3XX) responses.
                                • none         When set to none the system will not rewrite the URI in any HTTP redirect responses.
   redirect_rewrite             • all          When set to all the system rewrites the URI in all HTTP redirect responses.
   string                       • matching     When set to matching the system rewrites the URI in any HTTP redirect responses that match the request URI.
                                • nodes        When set to nodes if the URI contains a node IP address instead of a host name, the system changes it to the virtual server address.
                                               When creating a new profile, if this parameter is not specified, the default is provided by the parent profile.
   request_chunking             Choices:
   string                       • rechunk      Specifies how to handle chunked and unchunked requests.
   added in 2.9                 • selective    When creating a new profile, if this parameter is not specified, the default is provided by the parent profile.
                                • preserve
   response_chunking            Choices:
   string                       • rechunk      Specifies how to handle chunked and unchunked responses.
   added in 2.9                 • selective    When creating a new profile, if this parameter is not specified, the default is provided by the parent profile.
                                • preserve
   server_agent_name                           Specifies the string used as the server name in traffic generated by BIG-IP.
   string                                      To remove the entry completely a value of none or '' should be set.
   added in 2.8                                When creating a new profile, if this parameter is not specified, the default is provided by the parent profile.
   sflow                                       Specifies sFlow settings for the HTTP profile.
   dictionary                                  When creating a new profile, if this parameter is not specified, the default is provided by the parent profile.
   added in 2.9
                                               Specifies the maximum interval in seconds between two pollings.
     poll_interval                             The valid value range is between 0 and 4294967295 seconds inclusive.
     integer                                   For this setting to take effect the poll_interval_global parameter must be set to no.
                                               When creating a new profile, if this parameter is not specified, the default is provided by the parent profile.
     poll_interval_global       Choices:       Specifies whether the global HTTP poll-interval setting overrides the object-level Cpoll-interval setting.
     boolean                    • no           When creating a new profile, if this parameter is not specified, the default is provided by the parent profile.
                                • yes
                                               Specifies the ratio of packets observed to the samples generated. For example, a sampling rate of 2000 specifies that 1 sample will be randomly
     sampling_rate                             generated for every 2000 packets observed.
     integer                                   The valid value range is between 0 and 4294967295 packets inclusive.
                                               For this setting to take effect the sampling_rate_global parameter must be set to no.
                                               When creating a new profile, if this parameter is not specified, the default is provided by the parent profile.
     sampling_rate_global       Choices:       Specifies whether the global HTTP sampling-rate setting overrides the object-level sampling-rate setting.
     boolean                    • no           When creating a new profile, if this parameter is not specified, the default is provided by the parent profile.
                                • yes
   state                        Choices:       When present, ensures that the profile exists.
   string                       • present ←    When absent, ensures the profile is removed.
                                • absent
   update_password              Choices:       always will update passwords if the encrypt_cookie_secret is specified.
   string                       • always ←     on_create will only set the password for newly created profiles.
                                • on_create
   xff_alternative_names                       Specifies alternative XFF headers instead of the default X-forwarded-for header.
   list                                        When creating a new profile, if this parameter is not specified, the default is provided by the parent profile.
   added in 2.9

NOTES                   *bigip_profile_http-notes*

   Note

     • For more information on using Ansible to manage F5 Networks devices see https://www.ansible.com/integrations/networks/f5.
     • Requires BIG-IP software version >= 12.
     • The F5 modules only manipulate the running configuration of the F5 product. To ensure that BIG-IP specific configuration persists to disk, be sure to include at least one task that uses the
       bigip_config module to save the running configuration. Refer to the module’s documentation for the correct usage of the module to save your running configuration.

EXAMPLES                   *bigip_profile_http-examples*

 - name: Create HTTP profile
   bigip_profile_http:
     name: my_profile
     insert_xforwarded_for: yes
     redirect_rewrite: all
     state: present
     provider:
       user: admin
       password: secret
       server: lb.mydomain.com
   delegate_to: localhost

 - name: Remove HTTP profile
   bigip_profile_http:
     name: my_profile
     state: absent
     provider:
       server: lb.mydomain.com
       user: admin
       password: secret
   delegate_to: localhost

 - name: Add HTTP profile for transparent proxy
   bigip_profile_http:
     name: my_profile
     proxy_type: transparent
     provider:
       password: secret
       server: lb.mydomain.com
       user: admin
   delegate_to: localhost

RETURN VALUES                   *bigip_profile_http-return values*

   Common return values are documented here, the following are the fields unique to this module:

              Key             Returned                                                                          Description
   accept_xff                          Enables or disables trusting the client IP address, and statistics from the client IP address.
   boolean                    changed  Sample:
                                       True
   description                         Description of the profile.
   string                     changed  Sample:
                                       My profile
   dns_resolver                        Configured dns resolver.
   string                     changed  Sample:
                                       /Common/FooBar
   encrypt_cookies                     Cookie names to encrypt.
   list                       changed  Sample:
                                       ['MyCookie1', 'MyCookie2']
   enforcement                         Specifies protocol enforcement settings for the HTTP profile.
   complex                    changed  Sample:
                                       hash/dictionary of values
      excess_server_headers            Specifies the behavior when too many server headers are received.
      string                  changed  Sample:
                                       pass-through
      known_methods                    The list of known HTTP methods.
      list                    changed  Sample:
                                       ['default', 'FOO', 'BAR']
      max_header_count                 The maximum number of headers allowed in HTTP request/response.
      string                  changed  Sample:
                                       4096
      max_header_size                  The maximum header size specified in bytes.
      string                  changed  Sample:
                                       default
      max_requests                     The number of requests that the system accepts on a per-connection basis.
      string                  changed  Sample:
                                       default
      oversize_client_headers          Specifies the behavior when too-large client headers are received.
      string                  changed  Sample:
                                       reject
      oversize_server_headers          Specifies the behavior when too-large server headers are received.
      string                  changed  Sample:
                                       reject
      pipeline                         Allows, rejects or switches to pass-through mode when dealing with pipelined data.
      string                  changed  Sample:
                                       allow
      truncated_redirects              Specifies what happens if a truncated redirect is seen from a server.
      boolean                 changed  Sample:
                                       True
      unknown_method                   Allows, rejects or switches to pass-through mode when an unknown HTTP method is parsed.
      string                  changed  Sample:
                                       allow
   fallback_host                       Specifies an HTTP fallback host.
   string                     changed  Sample:
                                       foobar.com
   fallback_status_codes               HTTP error codes from server responses that should trigger a redirection to the fallback host.
   list                       changed  Sample:
                                       ['400-404', '500', '501']
   header_erase                        The name of a header, in an HTTP request, which the system removes from request.
   string                     changed  Sample:
                                       FOO:BAR
   header_insert                       The string that the system inserts as a header in an HTTP request.
   string                     changed  Sample:
                                       FOO:BAR
   hsts_mode                  changed  Enables the HSTS settings.
   boolean
   include_subdomains                  Applies the HSTS policy to the HSTS host and its sub-domains.
   boolean                    changed  Sample:
                                       True
   insert_xforwarded_for               Insert X-Forwarded-For-Header.
   boolean                    changed  Sample:
                                       True
   maximum_age                         The maximum length of time, in seconds, that HSTS functionality requests that clients only use HTTPS.
   string                     changed  Sample:
                                       indefinite
   oneconnect_transformations changed  Enables or disables HTTP header transformations.
   boolean
   parent                              Specifies the profile from which this profile inherits settings.
   string                     changed  Sample:
                                       /Common/http
   proxy_type                          Specify proxy mode of the profile.
   string                     changed  Sample:
                                       explicit
   redirect_rewrite                    Rewrite URI that are part of 3xx responses.
   string                     changed  Sample:
                                       all
   request_chunking                    Specifies how to handle chunked and unchunked requests.
   string                     changed  Sample:
                                       rechunk
   response_chunking                   Specifies how to handle chunked and unchunked responses.
   string                     changed  Sample:
                                       rechunk
   server_agent_name                   The string used as the server name in traffic generated by BIG-IP.
   string                     changed  Sample:
                                       foobar
   sflow                               Specifies sFlow settings for the HTTP profile.
   complex                    changed  Sample:
                                       hash/dictionary of values
      poll_interval                    Specifies the maximum interval in seconds between two pollings.
      integer                 changed  Sample:
                                       30
      poll_interval_global             Enables/Disables overriding HTTP poll-interval setting.
      boolean                 changed  Sample:
                                       True
      sampling_rate                    Specifies the ratio of packets observed to the samples generated.
      integer                 changed  Sample:
                                       2000
      sampling_rate_global             Enables/Disables overriding HTTP sampling-rate setting.
      boolean                 changed  Sample:
                                       True
   xff_alternative_names               Specifies alternative XFF headers instead of the default X-forwarded-for header.
   list                       changed  Sample:
                                       ['FooBar', 'client1']

STATUS                   *bigip_profile_http-status*

     • This module is not guaranteed to have a backwards compatible interface. [preview]
     • This module is maintained by an Ansible Partner. [certified]

     • Wojciech Wypior (@wojtek0806)

   Hint

   If you notice any issues in this documentation, you can edit this document to improve it.

   ══════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════

MORE INFO                          *bigip_profile_http-moreinfo*
>
All arguments are omni-completed, but if you really want to see the online docs:
https://docs.ansible.com/ansible/latest/modules/bigip_profile_http_module.html
