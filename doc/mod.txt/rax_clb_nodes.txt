SYNOPSIS                   *rax_clb_nodes*

     • Adds, modifies and removes nodes from a Rackspace Cloud Load Balancer

REQUIREMENTS                   *rax_clb_nodes-requirements*

   The below requirements are needed on the host that executes this module.

     • pyrax
     • python >= 2.6

PARAMETERS                   *rax_clb_nodes-parameters*

      Parameter                    Choices/Defaults                                                                             Comments
   address                                                          IP address or domain name of the node
   -
   api_key                                                          Rackspace API key, overrides credentials.
   string                                                           aliases: password
   auth_endpoint    Default:                                        The URI of the authentication service.
   -                "https://identity.api.rackspacecloud.com/v2.0/"
                      Choices:
   condition          • enabled                                     Condition for the node, which determines its role within the load balancer
   -                  • disabled
                      • draining
   credentials                                                      File to find the Rackspace credentials in. Ignored if api_key and username are provided.
   path                                                             aliases: creds_file
   env                                                              Environment as configured in ~/.pyrax.cfg, see
   string                                                           https://github.com/rackspace/pyrax/blob/master/docs/getting_started.md#pyrax-configuration.
   identity_type    Default:                                        Authentication mechanism to use, such as rackspace or keystone.
   -                "rackspace"
   load_balancer_id                                                 Load balancer id
   - / required
   node_id                                                          Node id
   -
   port                                                             Port number of the load balanced service on the node
   -
   region           Default:                                        Region to create an instance in.
   string           "DFW"
   state              Choices:
   -                  • present ←                                   Indicate desired state of the node
                      • absent
   tenant_id                                                        The tenant ID used for authentication.
   -
   tenant_name                                                      The tenant name used for authentication.
   -
   type               Choices:
   -                  • primary                                     Type of node
                      • secondary
   username                                                         Rackspace username, overrides credentials.
   string
   validate_certs     Choices:                                      Whether or not to require SSL validation of API endpoints.
   boolean            • no                                          aliases: verify_ssl
                      • yes
   wait               Choices:
   boolean            • no ←                                        Wait for the load balancer to become active before returning
                      • yes
   wait_timeout     Default:                                        How long to wait before giving up and returning an error
   -                30
   weight                                                           Weight of node
   -

NOTES                   *rax_clb_nodes-notes*

   Note

     • The following environment variables can be used, RAX_USERNAME, RAX_API_KEY, RAX_CREDS_FILE, RAX_CREDENTIALS, RAX_REGION.
     • RAX_CREDENTIALS and RAX_CREDS_FILE points to a credentials file appropriate for pyrax. See https://github.com/rackspace/pyrax/blob/master/docs/getting_started.md#authenticating
     • RAX_USERNAME and RAX_API_KEY obviate the use of a credentials file
     • RAX_REGION defines a Rackspace Public Cloud region (DFW, ORD, LON, …)
     • The following environment variables can be used, RAX_USERNAME, RAX_API_KEY, RAX_CREDS_FILE, RAX_CREDENTIALS, RAX_REGION.
     • RAX_CREDENTIALS and RAX_CREDS_FILE points to a credentials file appropriate for pyrax. See https://github.com/rackspace/pyrax/blob/master/docs/getting_started.md#authenticating
     • RAX_USERNAME and RAX_API_KEY obviate the use of a credentials file
     • RAX_REGION defines a Rackspace Public Cloud region (DFW, ORD, LON, …)

EXAMPLES                   *rax_clb_nodes-examples*

 # Add a new node to the load balancer
 - local_action:
     module: rax_clb_nodes
     load_balancer_id: 71
     address: 10.2.2.3
     port: 80
     condition: enabled
     type: primary
     wait: yes
     credentials: /path/to/credentials

 # Drain connections from a node
 - local_action:
     module: rax_clb_nodes
     load_balancer_id: 71
     node_id: 410
     condition: draining
     wait: yes
     credentials: /path/to/credentials

 # Remove a node from the load balancer
 - local_action:
     module: rax_clb_nodes
     load_balancer_id: 71
     node_id: 410
     state: absent
     wait: yes
     credentials: /path/to/credentials

STATUS                   *rax_clb_nodes-status*

     • This module is not guaranteed to have a backwards compatible interface. [preview]
     • This module is maintained by the Ansible Community. [community]

     • Lukasz Kawczynski (@neuroid)

   Hint

   If you notice any issues in this documentation, you can edit this document to improve it.

   ══════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════

MORE INFO                          *rax_clb_nodes-moreinfo*
>
All arguments are omni-completed, but if you really want to see the online docs:
https://docs.ansible.com/ansible/latest/modules/rax_clb_nodes_module.html
