SYNOPSIS                   *vmware_content_deploy_template*

     • Module to deploy virtual machine from template in content library.
     • Content Library feature is introduced in vSphere 6.0 version, so this module is not supported in the earlier versions of vSphere.
     • All variables and VMware object names are case sensitive.

REQUIREMENTS                   *vmware_content_deploy_template-requirements*

   The below requirements are needed on the host that executes this module.

     • python >= 2.6
     • PyVmomi
     • vSphere Automation SDK

PARAMETERS                   *vmware_content_deploy_template-parameters*

       Parameter     Choices/Defaults                                                                            Comments
   cluster                            Name of the cluster in datacenter in which to place deployed VM.
   string
   datacenter                         Name of the datacenter, where VM to be deployed.
   string / required
   datastore                          Name of the datastore to store deployed VM and disk.
   string / required
   folder                             Name of the folder in datacenter in which to place deployed VM.
   string / required
   host                               Name of the ESX Host in datacenter in which to place deployed VM.
   string / required
   hostname                           The hostname or IP address of the vSphere vCenter server.
   string                             If the value is not specified in the task, the value of environment variable VMWARE_HOST will be used instead.
   name                               The name of the VM to be deployed.
   string / required                  aliases: vm_name
   password                           The password of the vSphere vCenter server.
   string                             If the value is not specified in the task, the value of environment variable VMWARE_PASSWORD will be used instead.
                                      aliases: pass, pwd
   protocol            Choices:
   string              • http         The connection to protocol.
                       • https ←
   resource_pool                      Name of the resourcepool in datacenter in which to place deployed VM.
   string
                                      The state of Virtual Machine deployed from template in content library.
   state               Choices:       If set to present and VM does not exists, then VM is created.
   string              • present ←    If set to present and VM exists, no action is taken.
                       • poweredon    If set to poweredon and VM does not exists, then VM is created with powered on state.
                                      If set to poweredon and VM exists, no action is taken.
   template                           The name of template from which VM to be deployed.
   string / required                  aliases: template_src
   username                           The username of the vSphere vCenter server.
   string                             If the value is not specified in the task, the value of environment variable VMWARE_USER will be used instead.
                                      aliases: admin, user
   validate_certs      Choices:       Allows connection when SSL certificates are not valid.
   boolean             • no           Set to no when certificates are not trusted.
                       • yes ←        If the value is not specified in the task, the value of environment variable VMWARE_VALIDATE_CERTS will be used instead.

NOTES                   *vmware_content_deploy_template-notes*

   Note

     • Tested on vSphere 6.7 U3

EXAMPLES                   *vmware_content_deploy_template-examples*

 - name: Deploy Virtual Machine from template in content library
   vmware_content_deploy_template:
     hostname: '{{ vcenter_hostname }}'
     username: '{{ vcenter_username }}'
     password: '{{ vcenter_password }}'
     template: rhel_test_template
     datastore: Shared_NFS_Volume
     folder: vm
     datacenter: Sample_DC_1
     name: Sample_VM
     resource_pool: test_rp
     validate_certs: False
     state: present
   delegate_to: localhost

 - name: Deploy Virtual Machine from template in content library with PowerON State
   vmware_content_deploy_template:
     hostname: '{{ vcenter_hostname }}'
     username: '{{ vcenter_username }}'
     password: '{{ vcenter_password }}'
     template: rhel_test_template
     datastore: Shared_NFS_Volume
     folder: vm
     datacenter: Sample_DC_1
     name: Sample_VM
     resource_pool: test_rp
     validate_certs: False
     state: poweredon
   delegate_to: localhost

RETURN VALUES                   *vmware_content_deploy_template-return values*

   Common return values are documented here, the following are the fields unique to this module:

        Key        Returned                                                                                Description
   vm_deploy_info            Virtual machine deployment message and vm_id
   dictionary     on success Sample:
                             {'msg': "Deployed Virtual Machine 'Sample_VM'.", 'vm_id': 'vm-1009'}

STATUS                   *vmware_content_deploy_template-status*

     • This module is not guaranteed to have a backwards compatible interface. [preview]
     • This module is maintained by the Ansible Community. [community]

     • Pavan Bidkar (@pgbidkar)

   Hint

   If you notice any issues in this documentation, you can edit this document to improve it.

   ══════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════

MORE INFO                          *vmware_content_deploy_template-moreinfo*
>
All arguments are omni-completed, but if you really want to see the online docs:
https://docs.ansible.com/ansible/latest/modules/vmware_content_deploy_template_module.html
