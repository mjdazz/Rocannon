SYNOPSIS                   *avi_serviceenginegroup*

     • This module is used to configure ServiceEngineGroup object
     • more examples at https://github.com/avinetworks/devops

REQUIREMENTS                   *avi_serviceenginegroup-requirements*

   The below requirements are needed on the host that executes this module.

     • avisdk

PARAMETERS                   *avi_serviceenginegroup-parameters*

                 Parameter               Choices/Defaults                                                                  Comments
   accelerated_networking                  Choices:       Enable accelerated networking option for azure se.
   boolean                                 • no           Accelerated networking enables single root i/o virtualization (sr-iov) to a se vm.
   added in 2.9                            • yes          This improves networking performance.
                                                          Field introduced in 17.2.14,18.1.5,18.2.1.
   active_standby                          Choices:       Service engines in active/standby mode for ha failover.
   boolean                                 • no           Default value when not specified in API or module is interpreted by Avi Controller as False.
                                           • yes
   additional_config_memory                               Indicates the percent of config memory used for config updates.
   -                                                      Allowed values are 0-90.
   added in 2.9                                           Field deprecated in 18.1.2.
                                                          Field introduced in 18.1.1.
   advertise_backend_networks              Choices:       Advertise reach-ability of backend server networks via adc through bgp for default gateway feature.
   boolean                                 • no           Default value when not specified in API or module is interpreted by Avi Controller as False.
                                           • yes
   aggressive_failure_detection            Choices:       Enable aggressive failover configuration for ha.
   boolean                                 • no           Default value when not specified in API or module is interpreted by Avi Controller as False.
                                           • yes
   algo                                                   In compact placement, virtual services are placed on existing ses until max_vs_per_se limit is reached.
   -                                                      Enum options - PLACEMENT_ALGO_PACKED, PLACEMENT_ALGO_DISTRIBUTED.
                                                          Default value when not specified in API or module is interpreted by Avi Controller as PLACEMENT_ALGO_PACKED.
   allow_burst                             Choices:       Allow ses to be created using burst license.
   boolean                                 • no           Field introduced in 17.2.5.
   added in 2.5                            • yes
   api_context                                            Avi API context that includes current session ID and CSRF Token.
   dictionary                                             This allows user to perform single login and re-use the session.
   added in 2.5
   api_version                           Default:         Avi API version of to use for Avi API and objects.
   string                                "16.4.4"
                                                          A percent value of total se memory reserved for application caching.
   app_cache_percent                                      This is an se bootup property and requires se restart.
   -                                                      Allowed values are 0 - 100.
   added in 2.9                                           Special values are 0- 'disable'.
                                                          Field introduced in 18.2.3.
                                                          Default value when not specified in API or module is interpreted by Avi Controller as 0.
                                                          A percent value of total se memory reserved for application learning.
   app_learning_memory_percent                            This is an se bootup property and requires se restart.
   -                                                      Allowed values are 0 - 10.
   added in 2.9                                           Field introduced in 18.2.3.
                                                          Default value when not specified in API or module is interpreted by Avi Controller as 0.
   archive_shm_limit                                      Amount of se memory in gb until which shared memory is collected in core archive.
   -                                                      Field introduced in 17.1.3.
                                                          Default value when not specified in API or module is interpreted by Avi Controller as 8.
   async_ssl                               Choices:       Ssl handshakes will be handled by dedicated ssl threads.
   boolean                                 • no           Default value when not specified in API or module is interpreted by Avi Controller as False.
   added in 2.4                            • yes
   async_ssl_threads                                      Number of async ssl threads per se_dp.
   -                                                      Allowed values are 1-16.
   added in 2.4                                           Default value when not specified in API or module is interpreted by Avi Controller as 1.
   auto_rebalance                          Choices:       If set, virtual services will be automatically migrated when load on an se is less than minimum or more than maximum thresholds.
   boolean                                 • no           Only alerts are generated when the auto_rebalance is not set.
                                           • yes          Default value when not specified in API or module is interpreted by Avi Controller as False.
   auto_rebalance_capacity_per_se                         Capacities of se for auto rebalance for each criteria.
   -                                                      Field introduced in 17.2.4.
   added in 2.5
   auto_rebalance_criteria                                Set of criteria for se auto rebalance.
   -                                                      Enum options - SE_AUTO_REBALANCE_CPU, SE_AUTO_REBALANCE_PPS, SE_AUTO_REBALANCE_MBPS, SE_AUTO_REBALANCE_OPEN_CONNS, SE_AUTO_REBALANCE_CPS.
   added in 2.5                                           Field introduced in 17.2.3.
   auto_rebalance_interval                                Frequency of rebalance, if 'auto rebalance' is enabled.
   -                                                      Default value when not specified in API or module is interpreted by Avi Controller as 300.
   auto_redistribute_active_standby_load   Choices:       Redistribution of virtual services from the takeover se to the replacement se can cause momentary traffic loss.
   boolean                                 • no           If the auto-redistribute load option is left in its default off state, any desired rebalancing requires calls to rest api.
                                           • yes          Default value when not specified in API or module is interpreted by Avi Controller as False.
   avi_api_patch_op                        Choices:
   -                                       • add          Patch operation to use when using avi_api_update_method as patch.
   added in 2.5                            • replace
                                           • delete
   avi_api_update_method                   Choices:       Default method for object update is HTTP PUT.
   -                                       • put ←        Setting to patch will override that behavior to use HTTP PATCH.
   added in 2.5                            • patch
   avi_credentials
   dictionary                                             Avi Credentials dictionary which can be used in lieu of enumerating Avi Controller login details.
   added in 2.5
                 api_version             Default:         Avi controller version
                 -                       "16.4.4"
                 controller                               Avi controller IP or SQDN
                 -
                 csrftoken                                Avi controller API csrftoken to reuse existing session with session id
                 -
                 password                                 Avi controller password
                 -
                 port                                     Avi controller port
                 -
                 session_id                               Avi controller API session id to reuse existing session with csrftoken
                 -
                 tenant                  Default:         Avi controller tenant
                 -                       "admin"
                 tenant_uuid                              Avi controller tenant UUID
                 -
                 timeout                 Default:         Avi controller request timeout
                 -                       300
                 token                                    Avi controller API token
                 -
                 username                                 Avi controller username
                 -
   avi_disable_session_cache_as_fact       Choices:
   boolean                                 • no           It disables avi session information to be cached as a fact.
   added in 2.6                            • yes
   bgp_state_update_interval                              Bgp peer state update interval.
   -                                                      Allowed values are 5-100.
   added in 2.9                                           Field introduced in 17.2.14,18.1.5,18.2.1.
                                                          Default value when not specified in API or module is interpreted by Avi Controller as 10.
   buffer_se                                              Excess service engine capacity provisioned for ha failover.
   -                                                      Default value when not specified in API or module is interpreted by Avi Controller as 1.
   cloud_ref                                              It is a reference to an object of type cloud.
   -
   config_debugs_on_all_cores              Choices:       Enable config debugs on all cores of se.
   boolean                                 • no           Field introduced in 17.2.13,18.1.5,18.2.1.
   added in 2.9                            • yes          Default value when not specified in API or module is interpreted by Avi Controller as False.
                                                          Percentage of memory for connection state.
   connection_memory_percentage                           This will come at the expense of memory used for http in-memory cache.
   -                                                      Allowed values are 10-90.
                                                          Default value when not specified in API or module is interpreted by Avi Controller as 50.
   controller                            Default:         IP address or hostname of the controller. The default value is the environment variable AVI_CONTROLLER.
   string                                ""
   cpu_reserve                             Choices:       Boolean flag to set cpu_reserve.
   boolean                                 • no           Default value when not specified in API or module is interpreted by Avi Controller as False.
                                           • yes
   cpu_socket_affinity                     Choices:       Allocate all the cpu cores for the service engine virtual machines on the same cpu socket.
   boolean                                 • no           Applicable only for vcenter cloud.
                                           • yes          Default value when not specified in API or module is interpreted by Avi Controller as False.
   custom_securitygroups_data                             Custom security groups to be associated with data vnics for se instances in openstack and aws clouds.
   -                                                      Field introduced in 17.1.3.
   custom_securitygroups_mgmt                             Custom security groups to be associated with management vnic for se instances in openstack and aws clouds.
   -                                                      Field introduced in 17.1.3.
   custom_tag                                             Custom tag will be used to create the tags for se instance in aws.
   -                                                      Note this is not the same as the prefix for se name.
   data_network_id                                        Subnet used to spin up the data nic for service engines, used only for azure cloud.
   -                                                      Overrides the cloud level setting for service engine subnet.
   added in 2.9                                           Field introduced in 18.2.3.
   datascript_timeout                                     Number of instructions before datascript times out.
   -                                                      Allowed values are 0-100000000.
   added in 2.9                                           Field introduced in 18.2.3.
                                                          Default value when not specified in API or module is interpreted by Avi Controller as 1000000.
   dedicated_dispatcher_core               Choices:       Dedicate the core that handles packet receive/transmit from the network to just the dispatching function.
   boolean                                 • no           Don't use it for tcp/ip and ssl functions.
                                           • yes          Default value when not specified in API or module is interpreted by Avi Controller as False.
   description                                            User defined description for the object.
   -
                                                          By default, avi creates and manages security groups along with custom sg provided by user.
   disable_avi_securitygroups              Choices:       Set this to true to disallow avi to create and manage new security groups.
   boolean                                 • no           Avi will only make use of custom security groups provided by user.
   added in 2.9                            • yes          This option is only supported for aws cloud type.
                                                          Field introduced in 17.2.13,18.1.4,18.2.1.
                                                          Default value when not specified in API or module is interpreted by Avi Controller as False.
   disable_csum_offloads                   Choices:       Stop using tcp/udp and ip checksum offload features of nics.
   boolean                                 • no           Field introduced in 17.1.14, 17.2.5, 18.1.1.
   added in 2.5                            • yes          Default value when not specified in API or module is interpreted by Avi Controller as False.
   disable_gro                             Choices:       Disable generic receive offload (gro) in dpdk poll-mode driver packet receive path.
   boolean                                 • no           Gro is on by default on nics that do not support lro (large receive offload) or do not gain performance boost from lro.
   added in 2.5                            • yes          Field introduced in 17.2.5, 18.1.1.
                                                          Default value when not specified in API or module is interpreted by Avi Controller as True.
   disable_se_memory_check                 Choices:       If set, disable the config memory check done in service engine.
   boolean                                 • no           Field introduced in 18.1.2.
   added in 2.9                            • yes          Default value when not specified in API or module is interpreted by Avi Controller as False.
   disable_tso                             Choices:       Disable tcp segmentation offload (tso) in dpdk poll-mode driver packet transmit path.
   boolean                                 • no           Tso is on by default on nics that support it.
   added in 2.5                            • yes          Field introduced in 17.2.5, 18.1.1.
                                                          Default value when not specified in API or module is interpreted by Avi Controller as True.
   disk_per_se                                            Amount of disk space for each of the service engine virtual machines.
   -                                                      Default value when not specified in API or module is interpreted by Avi Controller as 10.
   distribute_load_active_standby          Choices:       Use both the active and standby service engines for virtual service placement in the legacy active standby ha mode.
   boolean                                 • no           Default value when not specified in API or module is interpreted by Avi Controller as False.
                                           • yes
   distribute_queues                       Choices:       Distributes queue ownership among cores so multiple cores handle dispatcher duties.
   boolean                                 • no           Field introduced in 17.2.8.
   added in 2.9                            • yes          Default value when not specified in API or module is interpreted by Avi Controller as False.
                                                          (this is a beta feature).
   enable_hsm_priming                      Choices:       Enable hsm key priming.
   boolean                                 • no           If enabled, key handles on the hsm will be synced to se before processing client connections.
   added in 2.6                            • yes          Field introduced in 17.2.7, 18.1.1.
                                                          Default value when not specified in API or module is interpreted by Avi Controller as False.
   enable_multi_lb                         Choices:       Applicable only for azure cloud with basic sku lb.
   boolean                                 • no           If set, additional azure lbs will be automatically created if resources in existing lb are exhausted.
   added in 2.9                            • yes          Field introduced in 17.2.10, 18.1.2.
                                                          Default value when not specified in API or module is interpreted by Avi Controller as False.
   enable_routing                          Choices:       Enable routing for this serviceenginegroup .
   boolean                                 • no           Default value when not specified in API or module is interpreted by Avi Controller as False.
                                           • yes
   enable_vip_on_all_interfaces            Choices:       Enable vip on all interfaces of se.
   boolean                                 • no           Field introduced in 17.1.1.
                                           • yes          Default value when not specified in API or module is interpreted by Avi Controller as True.
   enable_vmac                             Choices:       Use virtual mac address for interfaces on which floating interface ips are placed.
   boolean                                 • no           Default value when not specified in API or module is interpreted by Avi Controller as False.
                                           • yes
   ephemeral_portrange_end                                End local ephemeral port number for outbound connections.
   -                                                      Field introduced in 17.2.13, 18.1.5, 18.2.1.
   added in 2.9
   ephemeral_portrange_start                              Start local ephemeral port number for outbound connections.
   -                                                      Field introduced in 17.2.13, 18.1.5, 18.2.1.
   added in 2.9
   extra_config_multiplier                                Multiplier for extra config to support large vs/pool config.
   -                                                      Default value when not specified in API or module is interpreted by Avi Controller as 0.0.
   extra_shared_config_memory                             Extra config memory to support large geo db configuration.
   -                                                      Field introduced in 17.1.1.
                                                          Default value when not specified in API or module is interpreted by Avi Controller as 0.
                                                          If serviceenginegroup is configured for legacy 1+1 active standby ha mode, floating ip's will be advertised only by the active se in the
   floating_intf_ip                                       pair.
   -                                                      Virtual services in this group must be disabled/enabled for any changes to the floating ip's to take effect.
                                                          Only active se hosting vs tagged with active standby se 1 tag will advertise this floating ip when manual load distribution is enabled.
                                                          If serviceenginegroup is configured for legacy 1+1 active standby ha mode, floating ip's will be advertised only by the active se in the
   floating_intf_ip_se_2                                  pair.
   -                                                      Virtual services in this group must be disabled/enabled for any changes to the floating ip's to take effect.
                                                          Only active se hosting vs tagged with active standby se 2 tag will advertise this floating ip when manual load distribution is enabled.
   flow_table_new_syn_max_entries                         Maximum number of flow table entries that have not completed tcp three-way handshake yet.
   -                                                      Field introduced in 17.2.5.
   added in 2.5                                           Default value when not specified in API or module is interpreted by Avi Controller as 0.
   free_list_size                                         Number of entries in the free list.
   -                                                      Field introduced in 17.2.10, 18.1.2.
   added in 2.9                                           Default value when not specified in API or module is interpreted by Avi Controller as 1024.
   ha_mode                                                High availability mode for all the virtual services using this service engine group.
   -                                                      Enum options - HA_MODE_SHARED_PAIR, HA_MODE_SHARED, HA_MODE_LEGACY_ACTIVE_STANDBY.
                                                          Default value when not specified in API or module is interpreted by Avi Controller as HA_MODE_SHARED.
   hardwaresecuritymodulegroup_ref                        It is a reference to an object of type hardwaresecuritymodulegroup.
   -
   heap_minimum_config_memory                             Minimum required heap memory to apply any configuration.
   -                                                      Allowed values are 0-100.
   added in 2.9                                           Field introduced in 18.1.2.
                                                          Default value when not specified in API or module is interpreted by Avi Controller as 8.
   hm_on_standby                           Choices:       Enable active health monitoring from the standby se for all placed virtual services.
   boolean                                 • no           Default value when not specified in API or module is interpreted by Avi Controller as True.
                                           • yes
                                                          Key of a (key, value) pair identifying a label for a set of nodes usually in container clouds.
                                                          Needs to be specified together with host_attribute_value.
                                                          Ses can be configured differently including ha modes across different se groups.
   host_attribute_key                                     May also be used for isolation between different classes of virtualservices.
   -                                                      Virtualservices' se group may be specified via annotations/labels.
                                                          A openshift/kubernetes namespace maybe annotated with a matching se group label as openshift.io/node-selector apptype=prod.
                                                          When multiple se groups are used in a cloud with host attributes specified,just a single se group can exist as a match-all se group without
                                                          a
                                                          host_attribute_key.
   host_attribute_value                                   Value of a (key, value) pair identifying a label for a set of nodes usually in container clouds.
   -                                                      Needs to be specified together with host_attribute_key.
   host_gateway_monitor                    Choices:       Enable the host gateway monitor when service engine is deployed as docker container.
   boolean                                 • no           Disabled by default.
   added in 2.5                            • yes          Field introduced in 17.2.4.
                                                          Default value when not specified in API or module is interpreted by Avi Controller as False.
   hypervisor                                             Override default hypervisor.
   -                                                      Enum options - DEFAULT, VMWARE_ESX, KVM, VMWARE_VSAN, XEN.
   ignore_rtt_threshold                                   Ignore rtt samples if it is above threshold.
   -                                                      Field introduced in 17.1.6,17.2.2.
   added in 2.5                                           Default value when not specified in API or module is interpreted by Avi Controller as 5000.
   ingress_access_data                                    Program se security group ingress rules to allow vip data access from remote cidr type.
   -                                                      Enum options - SG_INGRESS_ACCESS_NONE, SG_INGRESS_ACCESS_ALL, SG_INGRESS_ACCESS_VPC.
   added in 2.5                                           Field introduced in 17.1.5.
                                                          Default value when not specified in API or module is interpreted by Avi Controller as SG_INGRESS_ACCESS_ALL.
   ingress_access_mgmt                                    Program se security group ingress rules to allow ssh/icmp management access from remote cidr type.
   -                                                      Enum options - SG_INGRESS_ACCESS_NONE, SG_INGRESS_ACCESS_ALL, SG_INGRESS_ACCESS_VPC.
   added in 2.5                                           Field introduced in 17.1.5.
                                                          Default value when not specified in API or module is interpreted by Avi Controller as SG_INGRESS_ACCESS_ALL.
   instance_flavor                                        Instance/flavor name for se instance.
   -
   iptables                                               Iptables rules.
   -
   least_load_core_selection               Choices:       Select core with least load for new flow.
   boolean                                 • no           Default value when not specified in API or module is interpreted by Avi Controller as True.
                                           • yes
   license_tier                                           Specifies the license tier which would be used.
   -                                                      This field by default inherits the value from cloud.
   added in 2.5                                           Enum options - ENTERPRISE_16, ENTERPRISE_18.
                                                          Field introduced in 17.2.5.
   license_type                                           If no license type is specified then default license enforcement for the cloud type is chosen.
   -                                                      Enum options - LIC_BACKEND_SERVERS, LIC_SOCKETS, LIC_CORES, LIC_HOSTS, LIC_SE_BANDWIDTH, LIC_METERED_SE_BANDWIDTH.
   added in 2.5                                           Field introduced in 17.2.5.
   log_disksz                                             Maximum disk capacity (in mb) to be allocated to an se.
   -                                                      This is exclusively used for debug and log data.
                                                          Default value when not specified in API or module is interpreted by Avi Controller as 10000.
                                                          When cpu usage on an se exceeds this threshold, virtual services hosted on this se may be rebalanced to other ses to reduce load.
   max_cpu_usage                                          A new se may be created as part of this process.
   -                                                      Allowed values are 40-90.
                                                          Default value when not specified in API or module is interpreted by Avi Controller as 80.
   max_memory_per_mempool                                 Max bytes that can be allocated in a single mempool.
   -                                                      Field introduced in 18.1.5.
   added in 2.9                                           Default value when not specified in API or module is interpreted by Avi Controller as 64.
   max_public_ips_per_lb                                  Applicable to azure platform only.
   -                                                      Maximum number of public ips per azure lb.
   added in 2.9                                           Field introduced in 17.2.12, 18.1.2.
                                                          Default value when not specified in API or module is interpreted by Avi Controller as 30.
   max_rules_per_lb                                       Applicable to azure platform only.
   -                                                      Maximum number of rules per azure lb.
   added in 2.9                                           Field introduced in 17.2.12, 18.1.2.
                                                          Default value when not specified in API or module is interpreted by Avi Controller as 150.
   max_scaleout_per_vs                                    Maximum number of active service engines for the virtual service.
   -                                                      Allowed values are 1-64.
                                                          Default value when not specified in API or module is interpreted by Avi Controller as 4.
   max_se                                                 Maximum number of services engines in this group.
   -                                                      Allowed values are 0-1000.
                                                          Default value when not specified in API or module is interpreted by Avi Controller as 10.
                                                          Maximum number of virtual services that can be placed on a single service engine.
   max_vs_per_se                                          East west virtual services are excluded from this limit.
   -                                                      Allowed values are 1-1000.
                                                          Default value when not specified in API or module is interpreted by Avi Controller as 10.
   mem_reserve                             Choices:       Boolean flag to set mem_reserve.
   boolean                                 • no           Default value when not specified in API or module is interpreted by Avi Controller as True.
                                           • yes
   memory_for_config_update                               Indicates the percent of memory reserved for config updates.
   -                                                      Allowed values are 0-100.
   added in 2.9                                           Field introduced in 18.1.2.
                                                          Default value when not specified in API or module is interpreted by Avi Controller as 15.
   memory_per_se                                          Amount of memory for each of the service engine virtual machines.
   -                                                      Default value when not specified in API or module is interpreted by Avi Controller as 2048.
   mgmt_network_ref                                       Management network to use for avi service engines.
   -                                                      It is a reference to an object of type network.
   mgmt_subnet                                            Management subnet to use for avi service engines.
   -
                                                          When cpu usage on an se falls below the minimum threshold, virtual services hosted on the se may be consolidated onto other underutilized
   min_cpu_usage                                          ses.
   -                                                      After consolidation, unused service engines may then be eligible for deletion.
                                                          Allowed values are 20-60.
                                                          Default value when not specified in API or module is interpreted by Avi Controller as 30.
   min_scaleout_per_vs                                    Minimum number of active service engines for the virtual service.
   -                                                      Allowed values are 1-64.
                                                          Default value when not specified in API or module is interpreted by Avi Controller as 1.
   min_se                                                 Minimum number of services engines in this group (relevant for se autorebalance only).
   -                                                      Allowed values are 0-1000.
   added in 2.9                                           Field introduced in 17.2.13,18.1.3,18.2.1.
                                                          Default value when not specified in API or module is interpreted by Avi Controller as 1.
   minimum_connection_memory                              Indicates the percent of memory reserved for connections.
   -                                                      Allowed values are 0-100.
   added in 2.9                                           Field introduced in 18.1.2.
                                                          Default value when not specified in API or module is interpreted by Avi Controller as 20.
   minimum_required_config_memory                         Required available config memory to apply any configuration.
   -                                                      Allowed values are 0-90.
   added in 2.9                                           Field deprecated in 18.1.2.
                                                          Field introduced in 18.1.1.
   n_log_streaming_threads                                Number of threads to use for log streaming.
   -                                                      Allowed values are 1-100.
   added in 2.9                                           Field introduced in 17.2.12, 18.1.2.
                                                          Default value when not specified in API or module is interpreted by Avi Controller as 1.
   name                                                   Name of the object.
   - / required
                                                          This setting limits the number of non-significant logs generated per second per core on this se.
   non_significant_log_throttle                           Default is 100 logs per second.
   -                                                      Set it to zero (0) to disable throttling.
                                                          Field introduced in 17.1.3.
                                                          Default value when not specified in API or module is interpreted by Avi Controller as 100.
                                                          Number of dispatcher cores (0,1,2,4,8 or 16).
   num_dispatcher_cores                                   If set to 0, then number of dispatcher cores is deduced automatically.
   -                                                      Allowed values are 0,1,2,4,8,16.
   added in 2.9                                           Field introduced in 17.2.12, 18.1.3, 18.2.1.
                                                          Default value when not specified in API or module is interpreted by Avi Controller as 0.
   num_flow_cores_sum_changes_to_ignore                   Number of changes in num flow cores sum to ignore.
   -                                                      Default value when not specified in API or module is interpreted by Avi Controller as 8.
   openstack_availability_zone                            Field deprecated in 17.1.1.
   -
   openstack_availability_zones                           Field introduced in 17.1.1.
   -
   openstack_mgmt_network_name                            Avi management network name.
   -
   openstack_mgmt_network_uuid                            Management network uuid.
   -
   os_reserved_memory                                     Amount of extra memory to be reserved for use by the operating system on a service engine.
   -                                                      Default value when not specified in API or module is interpreted by Avi Controller as 0.
   password                              Default:         Password of Avi user in Avi controller. The default value is the environment variable AVI_PASSWORD.
   string                                ""
                                           Choices:       Per-app se mode is designed for deploying dedicated load balancers per app (vs).
   per_app                                 • no           In this mode, each se is limited to a max of 2 vss.
   boolean                                 • yes          Vcpus in per-app ses count towards licensing usage at 25% rate.
                                                          Default value when not specified in API or module is interpreted by Avi Controller as False.
   placement_mode                                         If placement mode is 'auto', virtual services are automatically placed on service engines.
   -                                                      Enum options - PLACEMENT_MODE_AUTO.
                                                          Default value when not specified in API or module is interpreted by Avi Controller as PLACEMENT_MODE_AUTO.
   realtime_se_metrics                                    Enable or disable real time se metrics.
   -
   reboot_on_stop                          Choices:       Reboot the system if the se is stopped.
   boolean                                 • no           Field introduced in 17.2.16,18.2.3.
   added in 2.9                            • yes          Default value when not specified in API or module is interpreted by Avi Controller as False.
   se_bandwidth_type                                      Select the se bandwidth for the bandwidth license.
   -                                                      Enum options - SE_BANDWIDTH_UNLIMITED, SE_BANDWIDTH_25M, SE_BANDWIDTH_200M, SE_BANDWIDTH_1000M, SE_BANDWIDTH_10000M.
   added in 2.5                                           Field introduced in 17.2.5.
                                                          Duration to preserve unused service engine virtual machines before deleting them.
                                                          If traffic to a virtual service were to spike up abruptly, this se would still be available to be utilized again rather than creating a new
   se_deprovision_delay                                   se.
   -                                                      If this value is set to 0, controller will never delete any ses and administrator has to manually cleanup unused ses.
                                                          Allowed values are 0-525600.
                                                          Default value when not specified in API or module is interpreted by Avi Controller as 120.
   se_dos_profile                                         Dosthresholdprofile settings for serviceenginegroup.
   -
                                                          Determines if dpdk pool mode driver should be used or not 0 automatically determine based on hypervisor/nic type 1 unconditionally use dpdk
   se_dpdk_pmd                                            poll mode driver 2 don't use dpdk poll mode driver.
   -                                                      Allowed values are 0-2.
   added in 2.9                                           Field introduced in 18.1.3.
                                                          Default value when not specified in API or module is interpreted by Avi Controller as 0.
   se_flow_probe_retries                                  Flow probe retry count if no replies are received.
   -                                                      Allowed values are 0-5.
   added in 2.9                                           Field introduced in 18.1.4, 18.2.1.
                                                          Default value when not specified in API or module is interpreted by Avi Controller as 2.
   se_flow_probe_timer                                    Timeout in milliseconds for flow probe entries.
   -                                                      Allowed values are 10-200.
   added in 2.9                                           Field introduced in 18.1.4, 18.2.1.
                                                          Default value when not specified in API or module is interpreted by Avi Controller as 100.
   se_ipc_udp_port                                        Udp port for se_dp ipc in docker bridge mode.
   -                                                      Field introduced in 17.1.2.
   added in 2.4                                           Default value when not specified in API or module is interpreted by Avi Controller as 1500.
   se_name_prefix                                         Prefix to use for virtual machine name of service engines.
   -                                                      Default value when not specified in API or module is interpreted by Avi Controller as Avi.
                                                          Enables lookahead mode of packet receive in pcap mode.
   se_pcap_lookahead                       Choices:       Introduced to overcome an issue with hv_netvsc driver.
   boolean                                 • no           Lookahead mode attempts to ensure that application and kernel's view of the receive rings are consistent.
   added in 2.9                            • yes          Field introduced in 18.2.3.
                                                          Default value when not specified in API or module is interpreted by Avi Controller as False.
                                                          Frequency in seconds at which periodically a pcap reinit check is triggered.
                                                          May be used in conjunction with the configuration pcap_reinit_threshold.
   se_pcap_reinit_frequency                               (valid range 15 mins - 12 hours, 0 - disables).
   -                                                      Allowed values are 900-43200.
   added in 2.9                                           Special values are 0- 'disable'.
                                                          Field introduced in 17.2.13, 18.1.3, 18.2.1.
                                                          Default value when not specified in API or module is interpreted by Avi Controller as 0.
                                                          Threshold for input packet receive errors in pcap mode exceeding which a pcap reinit is triggered.
   se_pcap_reinit_threshold                               If not set, an unconditional reinit is performed.
   -                                                      This value is checked every pcap_reinit_frequency interval.
   added in 2.9                                           Field introduced in 17.2.13, 18.1.3, 18.2.1.
                                                          Default value when not specified in API or module is interpreted by Avi Controller as 0.
   se_probe_port                                          Tcp port on se where echo service will be run.
   -                                                      Field introduced in 17.2.2.
   added in 2.5                                           Default value when not specified in API or module is interpreted by Avi Controller as 7.
   se_remote_punt_udp_port                                Udp port for punted packets in docker bridge mode.
   -                                                      Field introduced in 17.1.2.
   added in 2.4                                           Default value when not specified in API or module is interpreted by Avi Controller as 1501.
                                                          Enable routing via service engine datapath.
   se_routing                              Choices:       When disabled, routing is done by the linux kernel.
   boolean                                 • no           Ip routing needs to be enabled in service engine group for se routing to be effective.
   added in 2.9                            • yes          Field introduced in 18.2.3.
                                                          Default value when not specified in API or module is interpreted by Avi Controller as True.
   se_sb_dedicated_core                    Choices:       Sideband traffic will be handled by a dedicated core.
   boolean                                 • no           Field introduced in 16.5.2, 17.1.9, 17.2.3.
   added in 2.5                            • yes          Default value when not specified in API or module is interpreted by Avi Controller as False.
   se_sb_threads                                          Number of sideband threads per se.
   -                                                      Allowed values are 1-128.
   added in 2.5                                           Field introduced in 16.5.2, 17.1.9, 17.2.3.
                                                          Default value when not specified in API or module is interpreted by Avi Controller as 1.
   se_thread_multiplier                                   Multiplier for se threads based on vcpu.
   -                                                      Allowed values are 1-10.
                                                          Default value when not specified in API or module is interpreted by Avi Controller as 1.
   se_tracert_port_range                                  Traceroute port range.
   -                                                      Field introduced in 17.2.8.
   added in 2.9
                                                          Determines if dsr from secondary se is active or not 0 automatically determine based on hypervisor type.
                                                          1 disable dsr unconditionally.
   se_tunnel_mode                                         2 enable dsr unconditionally.
   -                                                      Allowed values are 0-2.
                                                          Field introduced in 17.1.1.
                                                          Default value when not specified in API or module is interpreted by Avi Controller as 0.
   se_tunnel_udp_port                                     Udp port for tunneled packets from secondary to primary se in docker bridge mode.
   -                                                      Field introduced in 17.1.3.
                                                          Default value when not specified in API or module is interpreted by Avi Controller as 1550.
                                                          Determines if se-se ipc messages are encapsulated in a udp header 0 automatically determine based on hypervisor type.
   se_udp_encap_ipc                                       1 use udp encap unconditionally.
   -                                                      Allowed values are 0-1.
   added in 2.4                                           Field introduced in 17.1.2.
                                                          Default value when not specified in API or module is interpreted by Avi Controller as 0.
                                                          Determines if dpdk library should be used or not 0 automatically determine based on hypervisor type 1 use dpdk if pcap is not enabled 2
   se_use_dpdk                                            don't use dpdk.
   -                                                      Allowed values are 0-2.
   added in 2.9                                           Field introduced in 18.1.3.
                                                          Default value when not specified in API or module is interpreted by Avi Controller as 0.
                                                          Maximum number of aggregated vs heartbeat packets to send in a batch.
   se_vs_hb_max_pkts_in_batch                             Allowed values are 1-256.
   -                                                      Field introduced in 17.1.1.
                                                          Default value when not specified in API or module is interpreted by Avi Controller as 64.
                                                          Maximum number of virtualservices for which heartbeat messages are aggregated in one packet.
   se_vs_hb_max_vs_in_pkt                                 Allowed values are 1-1024.
   -                                                      Field introduced in 17.1.1.
                                                          Default value when not specified in API or module is interpreted by Avi Controller as 256.
   self_se_election                        Choices:       Enable ses to elect a primary amongst themselves in the absence of a connectivity to controller.
   boolean                                 • no           Field introduced in 18.1.2.
   added in 2.9                            • yes          Default value when not specified in API or module is interpreted by Avi Controller as False.
   service_ip6_subnets                                    Ipv6 subnets assigned to the se group.
   -                                                      Required for vs group placement.
   added in 2.9                                           Field introduced in 18.1.1.
   service_ip_subnets                                     Subnets assigned to the se group.
   -                                                      Required for vs group placement.
                                                          Field introduced in 17.1.1.
   shm_minimum_config_memory                              Minimum required shared memory to apply any configuration.
   -                                                      Allowed values are 0-100.
   added in 2.9                                           Field introduced in 18.1.2.
                                                          Default value when not specified in API or module is interpreted by Avi Controller as 4.
                                                          This setting limits the number of significant logs generated per second per core on this se.
   significant_log_throttle                               Default is 100 logs per second.
   -                                                      Set it to zero (0) to disable throttling.
                                                          Field introduced in 17.1.3.
                                                          Default value when not specified in API or module is interpreted by Avi Controller as 100.
                                                          (beta) preprocess ssl client hello for sni hostname extension.if set to true, this will apply sni child's ssl protocol(s), if they are
   ssl_preprocess_sni_hostname             Choices:       different
   boolean                                 • no           from sni parent's allowed ssl protocol(s).
   added in 2.9                            • yes          Field introduced in 17.2.12, 18.1.3.
                                                          Default value when not specified in API or module is interpreted by Avi Controller as True.
   state                                   Choices:
   -                                       • absent       The state that should be applied on the entity.
                                           • present ←
   tenant                                Default:         Name of tenant used for all Avi API calls and context of object.
   string                                "admin"
   tenant_ref                                             It is a reference to an object of type tenant.
   -
   tenant_uuid                           Default:         UUID of tenant used for all Avi API calls and context of object.
   string                                ""
                                                          This setting limits the number of udf logs generated per second per core on this se.
                                                          Udf logs are generated due to the configured client log filters or the rules with logging enabled.
   udf_log_throttle                                       Default is 100 logs per second.
   -                                                      Set it to zero (0) to disable throttling.
                                                          Field introduced in 17.1.3.
                                                          Default value when not specified in API or module is interpreted by Avi Controller as 100.
   url                                                    Avi controller URL of the object.
   -
   use_standard_alb                        Choices:       Use standard sku azure load balancer.
   boolean                                 • no           By default cloud level flag is set.
   added in 2.9                            • yes          If not set, it inherits/uses the use_standard_alb flag from the cloud.
                                                          Field introduced in 18.2.3.
   username                              Default:         Username used for accessing Avi controller. The default value is the environment variable AVI_USERNAME.
   string                                ""
   uuid                                                   Unique object identifier of the object.
   -
   vcenter_clusters                                       Vcenterclusters settings for serviceenginegroup.
   -
   vcenter_datastore_mode                                 Enum options - vcenter_datastore_any, vcenter_datastore_local, vcenter_datastore_shared.
   -                                                      Default value when not specified in API or module is interpreted by Avi Controller as VCENTER_DATASTORE_ANY.
   vcenter_datastores                                     List of vcenterdatastore.
   -
   vcenter_datastores_include              Choices:       Boolean flag to set vcenter_datastores_include.
   boolean                                 • no           Default value when not specified in API or module is interpreted by Avi Controller as False.
                                           • yes
   vcenter_folder                                         Folder to place all the service engine virtual machines in vcenter.
   -                                                      Default value when not specified in API or module is interpreted by Avi Controller as AviSeFolder.
   vcenter_hosts                                          Vcenterhosts settings for serviceenginegroup.
   -
   vcpus_per_se                                           Number of vcpus for each of the service engine virtual machines.
   -                                                      Default value when not specified in API or module is interpreted by Avi Controller as 1.
   vip_asg                                                When vip_asg is set, vip configuration will be managed by avi.user will be able to configure vip_asg or vips individually at the time of
   -                                                      create.
   added in 2.9                                           Field introduced in 17.2.12, 18.1.2.
   vs_host_redundancy                      Choices:       Ensure primary and secondary service engines are deployed on different physical hosts.
   boolean                                 • no           Default value when not specified in API or module is interpreted by Avi Controller as True.
                                           • yes
   vs_scalein_timeout                                     Time to wait for the scaled in se to drain existing flows before marking the scalein done.
   -                                                      Default value when not specified in API or module is interpreted by Avi Controller as 30.
   vs_scalein_timeout_for_upgrade                         During se upgrade, time to wait for the scaled-in se to drain existing flows before marking the scalein done.
   -                                                      Default value when not specified in API or module is interpreted by Avi Controller as 30.
   vs_scaleout_timeout                                    Time to wait for the scaled out se to become ready before marking the scaleout done.
   -                                                      Default value when not specified in API or module is interpreted by Avi Controller as 600.
                                                          Wait time for sending scaleout ready notification after virtual service is marked up.
   vs_se_scaleout_additional_wait_time                    In certain deployments, there may be an additional delay to accept traffic.
   -                                                      For example, for bgp, some time is needed for route advertisement.
   added in 2.9                                           Allowed values are 0-20.
                                                          Field introduced in 18.1.5,18.2.1.
                                                          Default value when not specified in API or module is interpreted by Avi Controller as 0.
   vs_se_scaleout_ready_timeout                           Timeout in seconds for service engine to sendscaleout ready notification of a virtual service.
   -                                                      Allowed values are 0-60.
   added in 2.9                                           Field introduced in 18.1.5,18.2.1.
                                                          Default value when not specified in API or module is interpreted by Avi Controller as 25.
   vs_switchover_timeout                                  During se upgrade in a legacy active/standby segroup, time to wait for the new primary se to accept flows before marking the switchover
   -                                                      done.
   added in 2.9                                           Field introduced in 17.2.13,18.1.4,18.2.1.
                                                          Default value when not specified in API or module is interpreted by Avi Controller as 300.
   vss_placement                                          Parameters to place virtual services on only a subset of the cores of an se.
   -                                                      Field introduced in 17.2.5.
   added in 2.5
   vss_placement_enabled                   Choices:       If set, virtual services will be placed on only a subset of the cores of an se.
   boolean                                 • no           Field introduced in 18.1.1.
   added in 2.9                            • yes          Default value when not specified in API or module is interpreted by Avi Controller as False.
                                                          Frequency with which se publishes waf learning.
   waf_learning_interval                                  Allowed values are 1-43200.
   -                                                      Field deprecated in 18.2.3.
   added in 2.9                                           Field introduced in 18.1.2.
                                                          Default value when not specified in API or module is interpreted by Avi Controller as 10.
                                                          Amount of memory reserved on se for waf learning.
   waf_learning_memory                                    Cannot exceed 5% of se memory.
   -                                                      Field deprecated in 18.2.3.
   added in 2.9                                           Field introduced in 18.1.2.
                                                          Default value when not specified in API or module is interpreted by Avi Controller as 0.
   waf_mempool                             Choices:       Enable memory pool for waf.
   boolean                                 • no           Field introduced in 17.2.3.
   added in 2.5                            • yes          Default value when not specified in API or module is interpreted by Avi Controller as True.
   waf_mempool_size                                       Memory pool size used for waf.
   -                                                      Field introduced in 17.2.3.
   added in 2.5                                           Default value when not specified in API or module is interpreted by Avi Controller as 64.

NOTES                   *avi_serviceenginegroup-notes*

   Note

     • For more information on using Ansible to manage Avi Network devices see https://www.ansible.com/ansible-avi-networks.

EXAMPLES                   *avi_serviceenginegroup-examples*

 - name: Example to create ServiceEngineGroup object
   avi_serviceenginegroup:
     controller: 10.10.25.42
     username: admin
     password: something
     state: present
     name: sample_serviceenginegroup

RETURN VALUES                   *avi_serviceenginegroup-return values*

   Common return values are documented here, the following are the fields unique to this module:

      Key         Returned                                                                                  Description
   obj        success, changed ServiceEngineGroup (api/serviceenginegroup) object
   dictionary

STATUS                   *avi_serviceenginegroup-status*

     • This module is not guaranteed to have a backwards compatible interface. [preview]
     • This module is maintained by the Ansible Community. [community]

     • Gaurav Rastogi (@grastogi23) <grastogi@avinetworks.com>

   Hint

   If you notice any issues in this documentation, you can edit this document to improve it.

   ══════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════

MORE INFO                          *avi_serviceenginegroup-moreinfo*
>
All arguments are omni-completed, but if you really want to see the online docs:
https://docs.ansible.com/ansible/latest/modules/avi_serviceenginegroup_module.html
