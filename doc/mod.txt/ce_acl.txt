SYNOPSIS                   *ce_acl*

     • Manages base ACL configurations on HUAWEI CloudEngine switches.

PARAMETERS                   *ce_acl-parameters*

      Parameter      Choices/Defaults                                                                             Comments
   acl_description                     ACL description. The value is a string of 1 to 127 characters.
   -
   acl_name                            ACL number or name. For a numbered rule group, the value ranging from 2000 to 2999 indicates a basic ACL. For a named rule group, the value is a string of 1
   - / required                        to 32 case-sensitive characters starting with a letter, spaces not supported.
   acl_num                             ACL number. The value is an integer ranging from 2000 to 2999.
   -
   acl_step                            ACL step. The value is an integer ranging from 1 to 20. The default value is 5.
   -
   frag_type          Choices:
   -                  • fragment       Type of packet fragmentation.
                      • clear_fragment
   log_flag           Choices:
   boolean            • no ←           Flag of logging matched data packets.
                      • yes
   rule_action        Choices:
   -                  • permit         Matching mode of basic ACL rules.
                      • deny
   rule_description                    Description about an ACL rule. The value is a string of 1 to 127 characters.
   -
   rule_id                             ID of a basic ACL rule in configuration mode. The value is an integer ranging from 0 to 4294967294.
   -
   rule_name                           Name of a basic ACL rule. The value is a string of 1 to 32 characters. The value is case-insensitive, and cannot contain spaces or begin with an underscore
   -                                   (_).
   source_ip                           Source IP address. The value is a string of 0 to 255 characters.The default value is 0.0.0.0. The value is in dotted decimal notation.
   -
   src_mask                            Mask of a source IP address. The value is an integer ranging from 1 to 32.
   -
                      Choices:
   state              • present ←      Specify desired state of the resource.
   -                  • absent
                      • delete_acl
   time_range                          Name of a time range in which an ACL rule takes effect. The value is a string of 1 to 32 characters. The value is case-insensitive, and cannot contain spaces.
   -                                   The name must start with an uppercase or lowercase letter. In addition, the word "all" cannot be specified as a time range name.
   vrf_name                            VPN instance name. The value is a string of 1 to 31 characters.The default value is _public_.
   -

NOTES                   *ce_acl-notes*

   Note

     • This module requires the netconf system service be enabled on the remote device being managed.
     • Recommended connection is netconf.
     • This module also works with local connections for legacy playbooks.

EXAMPLES                   *ce_acl-examples*

 - name: CloudEngine acl test
   hosts: cloudengine
   connection: local
   gather_facts: no
   vars:
     cli:
       host: "{{ inventory_hostname }}"
       port: "{{ ansible_ssh_port }}"
       username: "{{ username }}"
       password: "{{ password }}"
       transport: cli

   tasks:

   - name: "Config ACL"
     ce_acl:
       state: present
       acl_name: 2200
       provider: "{{ cli }}"

   - name: "Undo ACL"
     ce_acl:
       state: delete_acl
       acl_name: 2200
       provider: "{{ cli }}"

   - name: "Config ACL base rule"
     ce_acl:
       state: present
       acl_name: 2200
       rule_name: test_rule
       rule_id: 111
       rule_action: permit
       source_ip: 10.10.10.10
       src_mask: 24
       frag_type: fragment
       time_range: wdz_acl_time
       provider: "{{ cli }}"

   - name: "undo ACL base rule"
     ce_acl:
       state: absent
       acl_name: 2200
       rule_name: test_rule
       rule_id: 111
       rule_action: permit
       source_ip: 10.10.10.10
       src_mask: 24
       frag_type: fragment
       time_range: wdz_acl_time
       provider: "{{ cli }}"

RETURN VALUES                   *ce_acl-return values*

   Common return values are documented here, the following are the fields unique to this module:

      Key     Returned                                                                                  Description
   changed             check to see if a change was made on the device
   boolean    always   Sample:
                       True
   end_state  always   k/v pairs of aaa params after module execution
   dictionary
   existing            k/v pairs of existing aaa server
   dictionary always   Sample:
                       {'aclNumOrName': 'test', 'aclType': 'Basic'}
   proposed            k/v pairs of parameters passed into module
   dictionary always   Sample:
                       {'acl_name': 'test', 'state': 'delete_acl'}
   updates             command sent to the device
   list       always   Sample:
                       ['undo acl name test']

STATUS                   *ce_acl-status*

     • This module is not guaranteed to have a backwards compatible interface. [preview]
     • This module is maintained by the Ansible Community. [community]

     • wangdezhuang (@QijunPan)

   Hint

   If you notice any issues in this documentation, you can edit this document to improve it.

   ══════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════

MORE INFO                          *ce_acl-moreinfo*
>
All arguments are omni-completed, but if you really want to see the online docs:
https://docs.ansible.com/ansible/latest/modules/ce_acl_module.html
