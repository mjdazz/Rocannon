SYNOPSIS                   *cloudscale_floating_ip*

     • Create, assign and delete floating IPs on the cloudscale.ch IaaS service.

PARAMETERS                   *cloudscale_floating_ip-parameters*

     Parameter   Choices/Defaults                                                                              Comments
   api_timeout   Default:         Timeout in seconds for calls to the cloudscale.ch API.
   -             30
   api_token                      cloudscale.ch API token.
   -                              This can also be passed in the CLOUDSCALE_API_TOKEN environment variable.
   ip                             Floating IP address to change.
   string                         Required to assign the IP to a different server or if state is absent.
                                  aliases: network
   ip_version      Choices:
   integer         • 4            IP protocol version of the floating IP.
                   • 6
   prefix_length   Choices:       Only valid if ip_version is 6.
   integer         • 56           Prefix length for the IPv6 network. Currently only a prefix of /56 can be requested. If no prefix_length is present, a single address is created.
   reverse_ptr                    Reverse PTR entry for this address.
   string                         You cannot set a reverse PTR entry for IPv6 floating networks. Reverse PTR entries are only allowed for single addresses.
   server                         UUID of the server assigned to this floating IP.
   string                         Required unless state is absent.
   state           Choices:
   string          • present ←    State of the floating IP.
                   • absent

NOTES                   *cloudscale_floating_ip-notes*

   Note

     • To create a new floating IP at least the ip_version and server options are required.
     • Once a floating_ip is created all parameters except server are read-only.
     • It’s not possible to request a floating IP without associating it with a server at the same time.
     • This module requires the ipaddress python library. This library is included in Python since version 3.3. It is available as a module on PyPI for earlier versions.
     • Instead of the api_token parameter the CLOUDSCALE_API_TOKEN environment variable can be used.
     • All operations are performed using the cloudscale.ch public API v1.
     • For details consult the full API documentation: https://www.cloudscale.ch/en/api/v1.
     • A valid API token is required for all operations. You can create as many tokens as you like using the cloudscale.ch control panel at https://control.cloudscale.ch.

EXAMPLES                   *cloudscale_floating_ip-examples*

 # Request a new floating IP
 - name: Request a floating IP
   cloudscale_floating_ip:
     ip_version: 4
     server: 47cec963-fcd2-482f-bdb6-24461b2d47b1
     reverse_ptr: my-server.example.com
     api_token: xxxxxx
   register: floating_ip

 # Assign an existing floating IP to a different server
 - name: Move floating IP to backup server
   cloudscale_floating_ip:
     ip: 192.0.2.123
     server: ea3b39a3-77a8-4d0b-881d-0bb00a1e7f48
     api_token: xxxxxx

 # Request a new floating IPv6 network
 - name: Request a floating IP
   cloudscale_floating_ip:
     ip_version: 6
     prefix_length: 56
     server: 47cec963-fcd2-482f-bdb6-24461b2d47b1
     api_token: xxxxxx
   register: floating_ip

 # Assign an existing floating network to a different server
 - name: Move floating IP to backup server
   cloudscale_floating_ip:
     ip: '{{ floating_ip.network | ip }}'
     server: ea3b39a3-77a8-4d0b-881d-0bb00a1e7f48
     api_token: xxxxxx

 # Release a floating IP
 - name: Release floating IP
   cloudscale_floating_ip:
     ip: 192.0.2.123
     state: absent
     api_token: xxxxxx

RETURN VALUES                   *cloudscale_floating_ip-return values*

   Common return values are documented here, the following are the fields unique to this module:

       Key               Returned                                                                                  Description
   href                                      The API URL to get details about this floating IP.
   string      success when state == present Sample:
                                             https://api.cloudscale.ch/v1/floating-ips/2001:db8::cafe
   ip                                        The floating IP address or network. This is always present and used to identify floating IPs after creation.
   string      success                       Sample:
                                             185.98.122.176
   network                                   The CIDR notation of the network that is routed to your server.
   string      success when state == present Sample:
                                             2001:db8::cafe/128
   next_hop                                  Your floating IP is routed to this IP address.
   string      success when state == present Sample:
                                             2001:db8:dead:beef::42
   reverse_ptr                               The reverse pointer for this floating IP address.
   string      success when state == present Sample:
                                             185-98-122-176.cust.cloudscale.ch
   server                                    The floating IP is routed to this server.
   string      success when state == present Sample:
                                             47cec963-fcd2-482f-bdb6-24461b2d47b1
   state                                     The current status of the floating IP.
   string      success                       Sample:
                                             present

STATUS                   *cloudscale_floating_ip-status*

     • This module is not guaranteed to have a backwards compatible interface. [preview]
     • This module is maintained by the Ansible Community. [community]

     • Gaudenz Steinlin (@gaudenz)

   Hint

   If you notice any issues in this documentation, you can edit this document to improve it.

   ══════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════

MORE INFO                          *cloudscale_floating_ip-moreinfo*
>
All arguments are omni-completed, but if you really want to see the online docs:
https://docs.ansible.com/ansible/latest/modules/cloudscale_floating_ip_module.html
