SYNOPSIS                   *na_ontap_nvme_subsystem*

     • Create/Delete NVME subsystem
     • Associate(modify) host/map to NVME subsystem
     • NVMe service should be existing in the data vserver with NVMe protocol as a pre-requisite

REQUIREMENTS                   *na_ontap_nvme_subsystem-requirements*

   The below requirements are needed on the host that executes this module.

     • A physical or virtual clustered Data ONTAP system. The modules support Data ONTAP 9.1 and onward
     • Ansible 2.6
     • Python2 netapp-lib (2017.10.30) or later. Install using ‘pip install netapp-lib’
     • Python3 netapp-lib (2018.11.13) or later. Install using ‘pip install netapp-lib’
     • To enable http on the cluster you must run the following commands ‘set -privilege advanced;’ ‘system services web modify -http-enabled true;’

PARAMETERS                   *na_ontap_nvme_subsystem-parameters*

       Parameter     Choices/Defaults                                                                            Comments
   hostname                           The hostname or IP address of the ONTAP instance.
   string / required
   hosts                              List of host NQNs (NVMe Qualification Name) associated to the controller.
   list
   http_port                          Override the default port (80 or 443) with this port
   integer
   https               Choices:
   boolean             • no ←         Enable and disable https
                       • yes
   ontapi                             The ontap api version to use
   integer
                       Choices:
                       • windows
   ostype              • linux        Specifies the ostype for initiators
   -                   • vmware
                       • xen
                       • hyper_v
   password                           Password for the specified user.
   string / required                  aliases: pass
   paths                              List of Namespace paths to be associated with the subsystem.
   list
   skip_host_check     Choices:       Skip host check
   boolean             • no ←         Required to delete an NVMe Subsystem with attached NVMe namespaces
                       • yes
   skip_mapped_check   Choices:       Skip mapped namespace check
   boolean             • no ←         Required to delete an NVMe Subsystem with attached NVMe namespaces
                       • yes
   state               Choices:
   -                   • present ←    Whether the specified subsystem should exist or not.
                       • absent
   subsystem                          Specifies the subsystem
   - / required
                       Choices:       REST API if supported by the target system for all the resources and attributes the module requires. Otherwise will revert to ZAPI.
   use_rest            • Never        Always -- will always use the REST API
   string              • Always       Never -- will always use the ZAPI
                       • Auto ←       Auto -- will try to use the REST Api
   username                           This can be a Cluster-scoped or SVM-scoped account, depending on whether a Cluster-level or SVM-level API is required. For more information, please read the
   string / required                  documentation https://mysupport.netapp.com/NOW/download/software/nmsdk/9.4/.
                                      aliases: user
   validate_certs      Choices:       If set to no, the SSL certificates will not be validated.
   boolean             • no           This should only set to False used on personally controlled sites using self-signed certificates.
                       • yes ←
   vserver                            Name of the vserver to use.
   - / required

NOTES                   *na_ontap_nvme_subsystem-notes*

   Note

     • The modules prefixed with na\_ontap are built to support the ONTAP storage platform.

EXAMPLES                   *na_ontap_nvme_subsystem-examples*

 - name: Create NVME Subsystem
   na_ontap_nvme_subsystem:
     state: present
     subsystem: test_sub
     vserver: test_dest
     ostype: linux
     hostname: "{{ netapp_hostname }}"
     username: "{{ netapp_username }}"
     password: "{{ netapp_password }}"

 - name: Delete NVME Subsystem
   na_ontap_nvme_subsystem:
     state: absent
     subsystem: test_sub
     vserver: test_dest
     skip_host_check: True
     skip_mapped_check: True
     hostname: "{{ netapp_hostname }}"
     username: "{{ netapp_username }}"
     password: "{{ netapp_password }}"

 - name: Associate NVME Subsystem host/map
   na_ontap_nvme_subsystem:
     state: present
     subsystem: "{{ subsystem }}"
     ostype: linux
     hosts: nqn.1992-08.com.netapp:sn.3017cfc1e2ba11e89c55005056b36338:subsystem.ansible
     paths: /vol/ansible/test,/vol/ansible/test1
     vserver: "{{ vserver }}"
     hostname: "{{ hostname }}"
     username: "{{ username }}"
     password: "{{ password }}"

 - name: Modify NVME subsystem map
   na_ontap_nvme_subsystem:
     state: present
     subsystem: test_sub
     vserver: test_dest
     skip_host_check: True
     skip_mapped_check: True
     paths: /vol/ansible/test
     hostname: "{{ netapp_hostname }}"
     username: "{{ netapp_username }}"
     password: "{{ netapp_password }}"

STATUS                   *na_ontap_nvme_subsystem-status*

     • This module is not guaranteed to have a backwards compatible interface. [preview]
     • This module is maintained by an Ansible Partner. [certified]

     • NetApp Ansible Team (@carchi8py) <ng-ansibleteam@netapp.com>

   Hint

   If you notice any issues in this documentation, you can edit this document to improve it.

   ══════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════

MORE INFO                          *na_ontap_nvme_subsystem-moreinfo*
>
All arguments are omni-completed, but if you really want to see the online docs:
https://docs.ansible.com/ansible/latest/modules/na_ontap_nvme_subsystem_module.html
