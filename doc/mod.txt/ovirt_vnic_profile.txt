SYNOPSIS                   *ovirt_vnic_profile*

     • Module to manage vNIC profile of network in oVirt/RHV

REQUIREMENTS                   *ovirt_vnic_profile-requirements*

   The below requirements are needed on the host that executes this module.

     • python >= 2.7
     • ovirt-engine-sdk-python >= 4.3.0

PARAMETERS                   *ovirt_vnic_profile-parameters*

         Parameter        Choices/Defaults                                                                          Comments
   auth                                    Dictionary with values needed to create HTTP/HTTPS connection to oVirt:
   dictionary / required
                                           A PEM file containing the trusted CA certificates.
       ca_file                             The certificate presented by the server will be verified using these CA certificates.
       string                              If ca_file parameter is not set, system wide CA certificate store is used.
                                           Default value is set by OVIRT_CAFILE environment variable.
       headers                             Dictionary of HTTP headers to be added to each API call.
       dictionary
       hostname                            A string containing the hostname of the server, usually something like `server.example.com`.
       string                              Default value is set by OVIRT_HOSTNAME environment variable.
                                           Either url or hostname is required.
       insecure             Choices:
       boolean              • no           A boolean flag that indicates if the server TLS certificate and host name should be checked.
                            • yes
       kerberos             Choices:
       boolean              • no           A boolean flag indicating if Kerberos authentication should be used instead of the default basic authentication.
                            • yes
       password                            The password of the user.
       string / required                   Default value is set by OVIRT_PASSWORD environment variable.
       token                               Token to be used instead of login with username/password.
       string                              Default value is set by OVIRT_TOKEN environment variable.
       url                                 A string containing the API URL of the server, usually something like `https://server.example.com/ovirt-engine/api`.
       string                              Default value is set by OVIRT_URL environment variable.
                                           Either url or hostname is required.
       username                            The name of the user, something like [email protected].
       string / required                   Default value is set by OVIRT_USERNAME environment variable.
   custom_properties                       Custom properties applied to the vNIC profile.
   -                                       Custom properties is a list of dictionary which can have following values:
       name                                Name of the custom property. For example: hugepages, vhost, sap_agent, etc.
       -
       regexp                              Regular expression to set for custom property.
       -
       value                               Value to set for custom property.
       -
   data_center                             Datacenter name where network reside.
   - / required
   description                             A human-readable description in plain text.
   -
   fetch_nested             Choices:       If True the module will fetch additional data from the API.
   boolean                  • no           It will fetch IDs of the VMs disks, snapshots, etc. User can configure to fetch other attributes of the nested entities by specifying nested_attributes.
                            • yes
   migratable               Choices:
   boolean                  • no           Marks whether pass_through NIC is migratable or not.
                            • yes
   name                                    A human-readable name in plain text.
   - / required
   nested_attributes                       Specifies list of the attributes which should be fetched from the API.
   list                                    This parameter apply only when fetch_nested is true.
   network                                 Name of network to which is vNIC attached.
   - / required
   network_filter                          The network filter enables to filter packets send to/from the VM's nic according to defined rules.
   -
                            Choices:       Enables passthrough to an SR-IOV-enabled host NIC.
   pass_through             • disabled     When enabled qos and network_filter are automatically set to None and port_mirroring to False.
   -                        • enabled      When enabled and migratable not specified then migratable is enabled.
                                           Port mirroring, QoS and network filters are not supported on passthrough profiles.
   poll_interval          Default:         Number of the seconds the module waits until another poll request on entity status is sent.
   integer                3
   port_mirroring           Choices:
   boolean                  • no           Enables port mirroring.
                            • yes
   qos                                     Quality of Service attributes regulate inbound and outbound network traffic of the NIC.
   -
   state                    Choices:
   -                        • absent       Should the vNIC be absent/present.
                            • present ←
   timeout                Default:         The amount of time in seconds the module should wait for the instance to get into desired state.
   integer                180
   wait                     Choices:
   boolean                  • no           yes if the module should wait for the entity to get into desired state.
                            • yes ←

NOTES                   *ovirt_vnic_profile-notes*

   Note

     • In order to use this module you have to install oVirt Python SDK. To ensure it’s installed with correct version you can create the following task: pip: name=ovirt-engine-sdk-python
       version=4.3.0

EXAMPLES                   *ovirt_vnic_profile-examples*

 # Examples don't contain auth parameter for simplicity,
 # look at ovirt_auth module to see how to reuse authentication:
 - name: Add vNIC
   ovirt_vnic_profile:
     name: myvnic
     network: mynetwork
     state: present
     data_center: datacenter

 - name: Editing vNICs network_filter, custom_properties, qos
   ovirt_vnic_profile:
     name: myvnic
     network: mynetwork
     data_center: datacenter
     qos: myqos
     custom_properties:
       - name: SecurityGroups
         value: 9bd9bde9-39da-44a8-9541-aa39e1a81c9d
     network_filter: allow-dhcp

 - name: Remove vNICs network_filter, custom_properties, qos
   ovirt_vnic_profile:
     name: myvnic
     network: mynetwork
     data_center: datacenter
     qos: ""
     custom_properties: ""
     network_filter: ""

 - name: Dont use migratable
   ovirt_vnic_profile:
     name: myvnic
     network: mynetwork
     data_center: datacenter
     migratable: False
     pass_through: enabled

 - name: Remove vNIC
   ovirt_vnic_profile:
     name: myvnic
     network: mynetwork
     state: absent
     data_center: datacenter

RETURN VALUES                   *ovirt_vnic_profile-return values*

   Common return values are documented here, the following are the fields unique to this module:

      Key     Returned                                                                                  Description
              On
              success  ID of the vNIC profile which is managed
   id         if vNIC  Sample:
   string     profile  7de90f31-222c-436c-a1ca-7e655bd5b60c
              is
              found.
              On
              success
   vnic       if vNIC  Dictionary of all the vNIC profile attributes. Network interface attributes can be found on your oVirt/RHV instance at following url:
   dictionary profile  http://ovirt.github.io/ovirt-engine-api-model/master/#types/nic.
              is
              found.

STATUS                   *ovirt_vnic_profile-status*

     • This module is not guaranteed to have a backwards compatible interface. [preview]
     • This module is maintained by the Ansible Community. [community]

     • Ondra Machacek (@machacekondra)
     • Martin Necas (@mnecas)

   Hint

   If you notice any issues in this documentation, you can edit this document to improve it.

   ══════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════

MORE INFO                          *ovirt_vnic_profile-moreinfo*
>
All arguments are omni-completed, but if you really want to see the online docs:
https://docs.ansible.com/ansible/latest/modules/ovirt_vnic_profile_module.html
