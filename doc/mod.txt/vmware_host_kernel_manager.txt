SYNOPSIS                   *vmware_host_kernel_manager*

     • This module can be used to manage kernel module options on ESXi hosts.
     • All connected ESXi hosts in scope will be configured when specified.
     • If a host is not connected at time of configuration, it will be marked as such in the output.
     • Kernel module options may require a reboot to take effect which is not covered here.
     • You can use reboot or vmware_host_powerstate module to reboot all ESXi host systems.

REQUIREMENTS                   *vmware_host_kernel_manager-requirements*

   The below requirements are needed on the host that executes this module.

     • python >= 2.7
     • PyVmomi

PARAMETERS                   *vmware_host_kernel_manager-parameters*

        Parameter       Choices/Defaults                                                                           Comments
   cluster_name                          Name of the VMware cluster to work on.
   string                                All ESXi hosts in this cluster will be configured.
                                         This parameter is required if esxi_hostname is not specified.
   esxi_hostname                         Name of the ESXi host to work on.
   string                                This parameter is required if cluster_name is not specified.
   hostname                              The hostname or IP address of the vSphere vCenter or ESXi server.
   string                                If the value is not specified in the task, the value of environment variable VMWARE_HOST will be used instead.
                                         Environment variable support added in Ansible 2.6.
   kernel_module_name                    Name of the kernel module to be configured.
   string / required
   kernel_module_option                  Specified configurations will be applied to the given module.
   string / required                     These values are specified in key=value pairs and separated by a space when there are multiple options.
                                         The password of the vSphere vCenter or ESXi server.
   password                              If the value is not specified in the task, the value of environment variable VMWARE_PASSWORD will be used instead.
   string                                Environment variable support added in Ansible 2.6.
                                         aliases: pass, pwd
   port                 Default:         The port number of the vSphere vCenter or ESXi server.
   integer              443              If the value is not specified in the task, the value of environment variable VMWARE_PORT will be used instead.
   added in 2.5                          Environment variable support added in Ansible 2.6.
   proxy_host                            Address of a proxy that will receive all HTTPS requests and relay them.
   string                                The format is a hostname or a IP.
   added in 2.9                          If the value is not specified in the task, the value of environment variable VMWARE_PROXY_HOST will be used instead.
                                         This feature depends on a version of pyvmomi greater than v6.7.1.2018.12
   proxy_port                            Port of the HTTP proxy that will receive all HTTPS requests and relay them.
   integer                               If the value is not specified in the task, the value of environment variable VMWARE_PROXY_PORT will be used instead.
   added in 2.9
                                         The username of the vSphere vCenter or ESXi server.
   username                              If the value is not specified in the task, the value of environment variable VMWARE_USER will be used instead.
   string                                Environment variable support added in Ansible 2.6.
                                         aliases: admin, user
                          Choices:       Allows connection when SSL certificates are not valid. Set to false when certificates are not trusted.
   validate_certs         • no           If the value is not specified in the task, the value of environment variable VMWARE_VALIDATE_CERTS will be used instead.
   boolean                • yes ←        Environment variable support added in Ansible 2.6.
                                         If set to yes, please make sure Python >= 2.7.9 is installed on the given machine.

NOTES                   *vmware_host_kernel_manager-notes*

   Note

     • Tested on vSphere 6.0

EXAMPLES                   *vmware_host_kernel_manager-examples*

 - name: Configure IPv6 to be off via tcpip4 kernel module
   vmware_host_kernel_manager:
     hostname: '{{ vcenter_hostname }}'
     username: '{{ vcenter_username }}'
     password: '{{ vcenter_password }}'
     esxi_hostname: '{{ esxi_hostname }}'
     kernel_module_name: "tcpip4"
     kernel_module_option: "ipv6=0"

 - name: Using cluster_name, configure vmw_psp_rr options
   vmware_host_kernel_manager:
     hostname: '{{ vcenter_hostname }}'
     username: '{{ vcenter_username }}'
     password: '{{ vcenter_password }}'
     cluster_name: '{{ virtual_cluster_name }}'
     kernel_module_name: "vmw_psp_rr"
     kernel_module_option: "maxPathsPerDevice=2"

RETURN VALUES                   *vmware_host_kernel_manager-return values*

   Common return values are documented here, the following are the fields unique to this module:

      Key     Returned                                                                                  Description
                       dict with information on what was changed, by ESXi host in scope.
   results    success  Sample:
   dictionary          {'results': {'myhost01.example.com': {'changed': True, 'configured_options': 'ipv6=0', 'msg': 'Options have been changed on the kernel module', 'original_options':
                       'ipv6=1'}}}

STATUS                   *vmware_host_kernel_manager-status*

     • This module is not guaranteed to have a backwards compatible interface. [preview]
     • This module is maintained by the Ansible Community. [community]

     • Aaron Longchamps (@alongchamps)

   Hint

   If you notice any issues in this documentation, you can edit this document to improve it.

   ══════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════

MORE INFO                          *vmware_host_kernel_manager-moreinfo*
>
All arguments are omni-completed, but if you really want to see the online docs:
https://docs.ansible.com/ansible/latest/modules/vmware_host_kernel_manager_module.html
