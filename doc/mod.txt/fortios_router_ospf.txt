SYNOPSIS                   *fortios_router_ospf*

     • This module is able to configure a FortiGate or FortiOS (FOS) device by allowing the user to set and modify router feature and ospf category. Examples include all parameters and values need
       to be adjusted to datasources before usage. Tested with FOS v6.0.5

REQUIREMENTS                   *fortios_router_ospf-requirements*

   The below requirements are needed on the host that executes this module.

     • fortiosapi>=0.9.8

PARAMETERS                   *fortios_router_ospf-parameters*

                      Parameter                               Choices/Defaults                                                             Comments
   host                                                                                   FortiOS or FortiGate IP address.
   string
   https                                              Choices:
   boolean                                            • no                                Indicates if the requests towards FortiGate must use HTTPS protocol.
                                                      • yes ←
   password                                         Default:                              FortiOS or FortiGate password.
   string                                           ""
   router_ospf                                      Default:                              Configure OSPF.
   dictionary                                       null
                                                      Choices:
    abr_type                                          • cisco
    string                                            • ibm                               Area border router type.
                                                      • shortcut
                                                      • standard
    area                                                                                  OSPF area configuration.
    list
                                                      Choices:
     authentication                                   • none                              Authentication type.
     string                                           • text
                                                      • md5
     default_cost                                                                         Summary default cost of stub or NSSA area.
     integer
     filter_list                                                                          OSPF area filter-list configuration.
     list
                    direction                         Choices:
                    string                            • in                                Direction.
                                                      • out
                    id                                                                    Filter list entry ID.
                    integer / required
                    list                                                                  Access-list or prefix-list name. Source router.access-list.name router.prefix-list.name.
                    string
     id                                                                                   Area entry IP address.
     string / required
                                                      Choices:
     nssa_default_information_originate               • enable                            Redistribute, advertise, or do not originate Type-7 default route into NSSA area.
     string                                           • always
                                                      • disable
     nssa_default_information_originate_metric                                            OSPF default metric.
     integer
     nssa_default_information_originate_metric_type   Choices:
     string                                           • 1                                 OSPF metric type for default routes.
                                                      • 2
     nssa_redistribution                              Choices:
     string                                           • enable                            Enable/disable redistribute into NSSA area.
                                                      • disable
                                                      Choices:
     nssa_translator_role                             • candidate                         NSSA translator role type.
     string                                           • never
                                                      • always
     range                                                                                OSPF area range configuration.
     list
                    advertise                         Choices:
                    string                            • disable                           Enable/disable advertise status.
                                                      • enable
                    id                                                                    Range entry ID.
                    integer / required
                    prefix                                                                Prefix.
                    string
                    substitute                                                            Substitute prefix.
                    string
                    substitute_status                 Choices:
                    string                            • enable                            Enable/disable substitute status.
                                                      • disable
                                                      Choices:
     shortcut                                         • disable                           Enable/disable shortcut option.
     string                                           • enable
                                                      • default
     stub_type                                        Choices:
     string                                           • no-summary                        Stub summary setting.
                                                      • summary
                                                      Choices:
     type                                             • regular                           Area type setting.
     string                                           • nssa
                                                      • stub
     virtual_link                                                                         OSPF virtual link configuration.
     list
                                                      Choices:
                    authentication                    • none                              Authentication type.
                    string                            • text
                                                      • md5
                    authentication_key                                                    Authentication key.
                    string
                    dead_interval                                                         Dead interval.
                    integer
                    hello_interval                                                        Hello interval.
                    integer
                    md5_key                                                               MD5 key.
                    string
                    name                                                                  Virtual link entry name.
                    string / required
                    peer                                                                  Peer IP.
                    string
                    retransmit_interval                                                   Retransmit interval.
                    integer
                    transmit_delay                                                        Transmit delay.
                    integer
    auto_cost_ref_bandwidth                                                               Reference bandwidth in terms of megabits per second.
    integer
    bfd                                               Choices:
    string                                            • enable                            Bidirectional Forwarding Detection (BFD).
                                                      • disable
    database_overflow                                 Choices:
    string                                            • enable                            Enable/disable database overflow.
                                                      • disable
    database_overflow_max_lsas                                                            Database overflow maximum LSAs.
    integer
    database_overflow_time_to_recover                                                     Database overflow time to recover (sec).
    integer
    default_information_metric                                                            Default information metric.
    integer
    default_information_metric_type                   Choices:
    string                                            • 1                                 Default information metric type.
                                                      • 2
                                                      Choices:
    default_information_originate                     • enable                            Enable/disable generation of default route.
    string                                            • always
                                                      • disable
    default_information_route_map                                                         Default information route map. Source router.route-map.name.
    string
    default_metric                                                                        Default metric of redistribute routes.
    integer
    distance                                                                              Distance of the route.
    integer
    distance_external                                                                     Administrative external distance.
    integer
    distance_inter_area                                                                   Administrative inter-area distance.
    integer
    distance_intra_area                                                                   Administrative intra-area distance.
    integer
    distribute_list                                                                       Distribute list configuration.
    list
     access_list                                                                          Access list name. Source router.access-list.name.
     string
     id                                                                                   Distribute list entry ID.
     integer / required
                                                      Choices:
     protocol                                         • connected                         Protocol type.
     string                                           • static
                                                      • rip
    distribute_list_in                                                                    Filter incoming routes. Source router.access-list.name router.prefix-list.name.
    string
    distribute_route_map_in                                                               Filter incoming external routes by route-map. Source router.route-map.name.
    string
    log_neighbour_changes                             Choices:
    string                                            • enable                            Enable logging of OSPF neighbour's changes
                                                      • disable
    neighbor                                                                              OSPF neighbor configuration are used when OSPF runs on non-broadcast media
    list
     cost                                                                                 Cost of the interface, value range from 0 to 65535, 0 means auto-cost.
     integer
     id                                                                                   Neighbor entry ID.
     integer / required
     ip                                                                                   Interface IP address of the neighbor.
     string
     poll_interval                                                                        Poll interval time in seconds.
     integer
     priority                                                                             Priority.
     integer
    network                                                                               OSPF network configuration.
    list
     area                                                                                 Attach the network to area.
     string
     id                                                                                   Network entry ID.
     integer / required
     prefix                                                                               Prefix.
     string
    ospf_interface                                                                        OSPF interface configuration.
    list
                                                      Choices:
     authentication                                   • none                              Authentication type.
     string                                           • text
                                                      • md5
     authentication_key                                                                   Authentication key.
     string
                                                      Choices:
     bfd                                              • global                            Bidirectional Forwarding Detection (BFD).
     string                                           • enable
                                                      • disable
     cost                                                                                 Cost of the interface, value range from 0 to 65535, 0 means auto-cost.
     integer
     database_filter_out                              Choices:
     string                                           • enable                            Enable/disable control of flooding out LSAs.
                                                      • disable
     dead_interval                                                                        Dead interval.
     integer
     hello_interval                                                                       Hello interval.
     integer
     hello_multiplier                                                                     Number of hello packets within dead interval.
     integer
     interface                                                                            Configuration interface name. Source system.interface.name.
     string
     ip                                                                                   IP address.
     string
     md5_key                                                                              MD5 key.
     string
     mtu                                                                                  MTU for database description packets.
     integer
     mtu_ignore                                       Choices:
     string                                           • enable                            Enable/disable ignore MTU.
                                                      • disable
     name                                                                                 Interface entry name.
     string / required
                                                      Choices:
                                                      • broadcast
     network_type                                     • non-broadcast                     Network type.
     string                                           • point-to-point
                                                      • point-to-multipoint
                                                      • point-to-multipoint-non-broadcast
     prefix_length                                                                        Prefix length.
     integer
     priority                                                                             Priority.
     integer
     resync_timeout                                                                       Graceful restart neighbor resynchronization timeout.
     integer
     retransmit_interval                                                                  Retransmit interval.
     integer
     status                                           Choices:
     string                                           • disable                           Enable/disable status.
                                                      • enable
     transmit_delay                                                                       Transmit delay.
     integer
    passive_interface                                                                     Passive interface configuration.
    list
     name                                                                                 Passive interface name. Source system.interface.name.
     string / required
    redistribute                                                                          Redistribute configuration.
    list
     metric                                                                               Redistribute metric setting.
     integer
     metric_type                                      Choices:
     string                                           • 1                                 Metric type.
                                                      • 2
     name                                                                                 Redistribute name.
     string / required
     routemap                                                                             Route map name. Source router.route-map.name.
     string
     status                                           Choices:
     string                                           • enable                            status
                                                      • disable
     tag                                                                                  Tag value.
     integer
                                                      Choices:
    restart_mode                                      • none                              OSPF restart mode (graceful or LLS).
    string                                            • lls
                                                      • graceful-restart
    restart_period                                                                        Graceful restart period.
    integer
    rfc1583_compatible                                Choices:
    string                                            • enable                            Enable/disable RFC1583 compatibility.
                                                      • disable
    router_id                                                                             Router ID.
    string
    spf_timers                                                                            SPF calculation frequency.
    string
    summary_address                                                                       IP address summary configuration.
    list
     advertise                                        Choices:
     string                                           • disable                           Enable/disable advertise status.
                                                      • enable
     id                                                                                   Summary address entry ID.
     integer / required
     prefix                                                                               Prefix.
     string
     tag                                                                                  Tag value.
     integer
   ssl_verify                                         Choices:
   boolean                                            • no                                Ensures FortiGate certificate must be verified by a proper CA.
   added in 2.9                                       • yes ←
   username                                                                               FortiOS or FortiGate username.
   string
   vdom                                             Default:                              Virtual domain, among those defined previously. A vdom is a virtual instance of the FortiGate that can be
   string                                           "root"                                configured and used as a different unit.

NOTES                   *fortios_router_ospf-notes*

   Note

     • Requires fortiosapi library developed by Fortinet
     • Run as a local_action in your playbook

EXAMPLES                   *fortios_router_ospf-examples*

 - hosts: localhost
   vars:
    host: "192.168.122.40"
    username: "admin"
    password: ""
    vdom: "root"
    ssl_verify: "False"
   tasks:
   - name: Configure OSPF.
     fortios_router_ospf:
       host:  "{{ host }}"
       username: "{{ username }}"
       password: "{{ password }}"
       vdom:  "{{ vdom }}"
       https: "False"
       router_ospf:
         abr_type: "cisco"
         area:
          -
             authentication: "none"
             default_cost: "6"
             filter_list:
              -
                 direction: "in"
                 id:  "9"
                 list: "<your_own_value> (source router.access-list.name router.prefix-list.name)"
             id:  "11"
             nssa_default_information_originate: "enable"
             nssa_default_information_originate_metric: "13"
             nssa_default_information_originate_metric_type: "1"
             nssa_redistribution: "enable"
             nssa_translator_role: "candidate"
             range:
              -
                 advertise: "disable"
                 id:  "19"
                 prefix: "<your_own_value>"
                 substitute: "<your_own_value>"
                 substitute_status: "enable"
             shortcut: "disable"
             stub_type: "no-summary"
             type: "regular"
             virtual_link:
              -
                 authentication: "none"
                 authentication_key: "<your_own_value>"
                 dead_interval: "29"
                 hello_interval: "30"
                 md5_key: "<your_own_value>"
                 name: "default_name_32"
                 peer: "<your_own_value>"
                 retransmit_interval: "34"
                 transmit_delay: "35"
         auto_cost_ref_bandwidth: "36"
         bfd: "enable"
         database_overflow: "enable"
         database_overflow_max_lsas: "39"
         database_overflow_time_to_recover: "40"
         default_information_metric: "41"
         default_information_metric_type: "1"
         default_information_originate: "enable"
         default_information_route_map: "<your_own_value> (source router.route-map.name)"
         default_metric: "45"
         distance: "46"
         distance_external: "47"
         distance_inter_area: "48"
         distance_intra_area: "49"
         distribute_list:
          -
             access_list: "<your_own_value> (source router.access-list.name)"
             id:  "52"
             protocol: "connected"
         distribute_list_in: "<your_own_value> (source router.access-list.name router.prefix-list.name)"
         distribute_route_map_in: "<your_own_value> (source router.route-map.name)"
         log_neighbour_changes: "enable"
         neighbor:
          -
             cost: "58"
             id:  "59"
             ip: "<your_own_value>"
             poll_interval: "61"
             priority: "62"
         network:
          -
             area: "<your_own_value>"
             id:  "65"
             prefix: "<your_own_value>"
         ospf_interface:
          -
             authentication: "none"
             authentication_key: "<your_own_value>"
             bfd: "global"
             cost: "71"
             database_filter_out: "enable"
             dead_interval: "73"
             hello_interval: "74"
             hello_multiplier: "75"
             interface: "<your_own_value> (source system.interface.name)"
             ip: "<your_own_value>"
             md5_key: "<your_own_value>"
             mtu: "79"
             mtu_ignore: "enable"
             name: "default_name_81"
             network_type: "broadcast"
             prefix_length: "83"
             priority: "84"
             resync_timeout: "85"
             retransmit_interval: "86"
             status: "disable"
             transmit_delay: "88"
         passive_interface:
          -
             name: "default_name_90 (source system.interface.name)"
         redistribute:
          -
             metric: "92"
             metric_type: "1"
             name: "default_name_94"
             routemap: "<your_own_value> (source router.route-map.name)"
             status: "enable"
             tag: "97"
         restart_mode: "none"
         restart_period: "99"
         rfc1583_compatible: "enable"
         router_id: "<your_own_value>"
         spf_timers: "<your_own_value>"
         summary_address:
          -
             advertise: "disable"
             id:  "105"
             prefix: "<your_own_value>"
             tag: "107"

RETURN VALUES                   *fortios_router_ospf-return values*

   Common return values are documented here, the following are the fields unique to this module:

       Key     Returned                                                                                  Description
   build                Build number of the fortigate image
   string      always   Sample:
                        1547
   http_method          Last method used to provision the content into FortiGate
   string      always   Sample:
                        PUT
   http_status          Last result given by FortiGate on last operation applied
   string      always   Sample:
                        200
   mkey                 Master key (id) used in the last call to FortiGate
   string      success  Sample:
                        id
   name                 Name of the table used to fulfill the request
   string      always   Sample:
                        urlfilter
   path                 Path of the table used to fulfill the request
   string      always   Sample:
                        webfilter
   revision             Internal revision number
   string      always   Sample:
                        17.0.2.10658
   serial               Serial number of the unit
   string      always   Sample:
                        FGVMEVYYQT3AB5352
   status               Indication of the operation's result
   string      always   Sample:
                        success
   vdom                 Virtual domain used
   string      always   Sample:
                        root
   version              Version of the FortiGate
   string      always   Sample:
                        v5.6.3

STATUS                   *fortios_router_ospf-status*

     • This module is not guaranteed to have a backwards compatible interface. [preview]
     • This module is maintained by the Ansible Community. [community]

     • Miguel Angel Munoz (@mamunozgonzalez)
     • Nicolas Thomas (@thomnico)

   Hint

   If you notice any issues in this documentation, you can edit this document to improve it.

   ══════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════

MORE INFO                          *fortios_router_ospf-moreinfo*
>
All arguments are omni-completed, but if you really want to see the online docs:
https://docs.ansible.com/ansible/latest/modules/fortios_router_ospf_module.html
