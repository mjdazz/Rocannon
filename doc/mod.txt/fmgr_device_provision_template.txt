SYNOPSIS                   *fmgr_device_provision_template*

     • Allows the editing and assignment of device provisioning templates in FortiManager.

PARAMETERS                   *fmgr_device_provision_template-parameters*

            Parameter            Choices/Defaults                                                                       Comments
                                  Choices:
   admin_enable_fortiguard        • none            Enables FortiGuard security updates to their default settings.
   -                              • direct
                                  • this-fmg
   admin_fortianalyzer_target                       Configures faz target.
   -
   admin_fortiguard_target                          Configures fortiguard target.
   -                                                admin_enable_fortiguard must be set to "direct".
                                  Choices:
                                  • green
   admin_gui_theme                • red             Changes the admin gui theme.
   -                              • blue
                                  • melongene
                                  • mariner
   admin_http_port                                  Non-SSL admin gui port number.
   -
   admin_https_port                                 SSL admin gui port number.
   -
   admin_https_redirect           Choices:
   -                              • enable          Enables or disables https redirect from http.
                                  • disable
                                  Choices:
                                  • english
                                  • simch
   admin_language                 • japanese
   -                              • korean          Sets the admin gui language.
                                  • spanish
                                  • trach
                                  • french
                                  • portuguese
   admin_switch_controller        Choices:
   -                              • enable          Enables or disables the switch controller.
                                  • disable
   admin_timeout                                    Admin timeout in minutes.
   -
   adom                                             The ADOM the configuration should belong to.
   - / required
   delete_provisioning_template                     If specified, all other options are ignored. The specified provisioning template will be deleted.
   -
   device_unique_name                               The unique device's name that you are editing.
   - / required
   dns_primary_ipv4                                 primary ipv4 dns forwarder.
   -
   dns_secondary_ipv4                               secondary ipv4 dns forwarder.
   -
   dns_suffix                                       Sets the local dns domain suffix.
   -
                                  Choices:
   mode                           • add ←           Sets one of three modes for managing the object.
   -                              • set             Allows use of soft-adds instead of overwriting existing values.
                                  • delete
                                  • update
   ntp_auth                       Choices:
   -                              • enable          Enables or disables ntp authentication.
                                  • disable
   ntp_auth_pwd                                     Sets the ntp auth password.
   -
   ntp_server                                       Only used with custom ntp_type -- specifies IP of server to sync to -- comma separated ip addresses for multiples.
   -
   ntp_status                     Choices:
   -                              • enable          Enables or disables ntp.
                                  • disable
   ntp_sync_interval                                Sets the interval in minutes for ntp sync.
   -
   ntp_type                       Choices:
   -                              • fortiguard      Enables fortiguard servers or custom servers are the ntp source.
                                  • custom
   ntp_v3                         Choices:
   -                              • enable          Enables or disables ntpv3 (default is ntpv4).
                                  • disable
   provision_targets                                The friendly names of devices in FortiManager to assign the provisioning template to. CSV separated list.
   - / required
   provisioning_template                            The provisioning template you want to apply (default = default).
   - / required
                                  Choices:
   smtp_conn_sec                  • none            defines the ssl level for smtp.
   -                              • starttls
                                  • smtps
   smtp_password                                    SMTP password.
   -
   smtp_port                                        SMTP port number.
   -
   smtp_replyto                                     SMTP reply to address.
   -
   smtp_server                                      SMTP server ipv4 address.
   -
   smtp_source_ipv4                                 SMTP source ip address.
   -
   smtp_username                                    SMTP auth username.
   -
   smtp_validate_cert             Choices:
   -                              • enable          Enables or disables valid certificate checking for smtp.
                                  • disable
   snmp_status                    Choices:
   -                              • enable          Enables or disables SNMP globally.
                                  • disable
   snmp_v2c_id                                      Primary key for the snmp community. this must be unique!
   -
   snmp_v2c_name                                    Specifies the v2c community name.
   -
   snmp_v2c_query_hosts_ipv4                        - IPv4 addresses or subnets that are allowed to query SNMP v2c, comma separated ("10.7.220.59 255.255.255.0, 10.7.220.0 255.255.255.0").
   -
   snmp_v2c_query_port                              Sets the snmp v2c community query port.
   -
   snmp_v2c_query_status          Choices:
   -                              • enable          Enables or disables the v2c community specified for queries.
                                  • disable
   snmp_v2c_status                Choices:
   -                              • enable          Enables or disables the v2c community specified.
                                  • disable
   snmp_v2c_trap_hosts_ipv4                         - IPv4 addresses of the hosts that should get SNMP v2c traps, comma separated, must include mask ("10.7.220.59 255.255.255.255, 10.7.220.60
   -                                                255.255.255.255").
   snmp_v2c_trap_port                               Sets the snmp v2c community trap port.
   -
   snmp_v2c_trap_src_ipv4                           Source ip the traps should come from IPv4.
   -
   snmp_v2c_trap_status           Choices:
   -                              • enable          Enables or disables the v2c community specified for traps.
                                  • disable
   snmpv3_auth_proto              Choices:
   -                              • md5             SNMPv3 auth protocol.
                                  • sha
   snmpv3_auth_pwd                                  SNMPv3 auth pwd __ currently not encrypted! ensure this file is locked down permissions wise!
   -
   snmpv3_name                                      SNMPv3 user name.
   -
   snmpv3_notify_hosts                              List of ipv4 hosts to send snmpv3 traps to. Comma separated IPv4 list.
   -
                                  Choices:
   snmpv3_priv_proto              • aes
   -                              • des             SNMPv3 priv protocol.
                                  • aes256
                                  • aes256cisco
   snmpv3_priv_pwd                                  SNMPv3 priv pwd currently not encrypted! ensure this file is locked down permissions wise!
   -
   snmpv3_queries                 Choices:
   -                              • enable          Allow snmpv3_queries.
                                  • disable
   snmpv3_query_port                                SNMPv3 query port.
   -
                                  Choices:
   snmpv3_security_level          • no-auth-no-priv SNMPv3 security level.
   -                              • auth-no-priv
                                  • auth-priv
   snmpv3_source_ip                                 SNMPv3 source ipv4 address for traps.
   -
   snmpv3_status                  Choices:
   -                              • enable          SNMPv3 user is enabled or disabled.
                                  • disable
   snmpv3_trap_rport                                SNMPv3 trap remote port.
   -
   snmpv3_trap_status             Choices:
   -                              • enable          SNMPv3 traps is enabled or disabled.
                                  • disable
   syslog_certificate                               Certificate used to communicate with Syslog server if encryption on.
   -
                                  Choices:          Enable/disable reliable syslogging with TLS encryption.
   syslog_enc_algorithm           • high            choice | high | SSL communication with high encryption algorithms.
   -                              • low             choice | low | SSL communication with low encryption algorithms.
                                  • disable ←       choice | disable | Disable SSL communication.
                                  • high-medium     choice | high-medium | SSL communication with high and medium encryption algorithms.
                                  Choices:          Remote syslog facility.
                                  • kernel          choice | kernel | Kernel messages.
                                  • user            choice | user | Random user-level messages.
                                  • mail            choice | mail | Mail system.
                                  • daemon          choice | daemon | System daemons.
                                  • auth            choice | auth | Security/authorization messages.
                                  • syslog ←        choice | syslog | Messages generated internally by syslog.
                                  • lpr             choice | lpr | Line printer subsystem.
                                  • news            choice | news | Network news subsystem.
                                  • uucp            choice | uucp | Network news subsystem.
                                  • cron            choice | cron | Clock daemon.
   syslog_facility                • authpriv        choice | authpriv | Security/authorization messages (private).
   -                              • ftp             choice | ftp | FTP daemon.
                                  • ntp             choice | ntp | NTP daemon.
                                  • audit           choice | audit | Log audit.
                                  • alert           choice | alert | Log alert.
                                  • clock           choice | clock | Clock daemon.
                                  • local0          choice | local0 | Reserved for local use.
                                  • local1          choice | local1 | Reserved for local use.
                                  • local2          choice | local2 | Reserved for local use.
                                  • local3          choice | local3 | Reserved for local use.
                                  • local4          choice | local4 | Reserved for local use.
                                  • local5          choice | local5 | Reserved for local use.
                                  • local6          choice | local6 | Reserved for local use.
                                  • local7          choice | local7 | Reserved for local use.
                                  Choices:
                                  • emergency
                                  • alert
   syslog_filter                  • critical
   -                              • error           Sets the logging level for syslog.
                                  • warning
                                  • notification
                                  • information
                                  • debug
                                  Choices:          Remote syslog logging over UDP/Reliable TCP.
   syslog_mode                    • udp ←           choice | udp | Enable syslogging over UDP.
   -                              • legacy-reliable choice | legacy-reliable | Enable legacy reliable syslogging by RFC3195 (Reliable Delivery for Syslog).
                                  • reliable        choice | reliable | Enable reliable syslogging by RFC6587 (Transmission of Syslog Messages over TCP).
   syslog_port                                      Syslog port that will be set.
   -
   syslog_server                                    Server the syslogs will be sent to.
   -
   syslog_status                  Choices:
   -                              • enable          Enables or disables syslogs.
                                  • disable

NOTES                   *fmgr_device_provision_template-notes*

   Note

     • Full Documentation at https://ftnt-ansible-docs.readthedocs.io/en/latest/.

EXAMPLES                   *fmgr_device_provision_template-examples*

 - name: SET SNMP SYSTEM INFO
   fmgr_device_provision_template:
     provisioning_template: "default"
     snmp_status: "enable"
     mode: "set"

 - name: SET SNMP SYSTEM INFO ANSIBLE ADOM
   fmgr_device_provision_template:
     provisioning_template: "default"
     snmp_status: "enable"
     mode: "set"
     adom: "ansible"

 - name: SET SNMP SYSTEM INFO different template (SNMPv2)
   fmgr_device_provision_template:
     provisioning_template: "ansibleTest"
     snmp_status: "enable"
     mode: "set"
     adom: "ansible"
     snmp_v2c_query_port: "162"
     snmp_v2c_trap_port: "161"
     snmp_v2c_status: "enable"
     snmp_v2c_trap_status: "enable"
     snmp_v2c_query_status: "enable"
     snmp_v2c_name: "ansibleV2c"
     snmp_v2c_id: "1"
     snmp_v2c_trap_src_ipv4: "10.7.220.41"
     snmp_v2c_trap_hosts_ipv4: "10.7.220.59 255.255.255.255, 10.7.220.60 255.255.255.255"
     snmp_v2c_query_hosts_ipv4: "10.7.220.59 255.255.255.255, 10.7.220.0 255.255.255.0"

 - name: SET SNMP SYSTEM INFO different template (SNMPv3)
   fmgr_device_provision_template:
     provisioning_template: "ansibleTest"
     snmp_status: "enable"
     mode: "set"
     adom: "ansible"
     snmpv3_auth_proto: "sha"
     snmpv3_auth_pwd: "fortinet"
     snmpv3_name: "ansibleSNMPv3"
     snmpv3_notify_hosts: "10.7.220.59,10.7.220.60"
     snmpv3_priv_proto: "aes256"
     snmpv3_priv_pwd: "fortinet"
     snmpv3_queries: "enable"
     snmpv3_query_port: "161"
     snmpv3_security_level: "auth_priv"
     snmpv3_source_ip: "0.0.0.0"
     snmpv3_status: "enable"
     snmpv3_trap_rport: "162"
     snmpv3_trap_status: "enable"

 - name: SET SYSLOG INFO
   fmgr_device_provision_template:
     provisioning_template: "ansibleTest"
     mode: "set"
     adom: "ansible"
     syslog_server: "10.7.220.59"
     syslog_port: "514"
     syslog_mode: "disable"
     syslog_status: "enable"
     syslog_filter: "information"

 - name: SET NTP TO FORTIGUARD
   fmgr_device_provision_template:
     provisioning_template: "ansibleTest"
     mode: "set"
     adom: "ansible"
     ntp_status: "enable"
     ntp_sync_interval: "60"
     type: "fortiguard"

 - name: SET NTP TO CUSTOM SERVER
   fmgr_device_provision_template:
     provisioning_template: "ansibleTest"
     mode: "set"
     adom: "ansible"
     ntp_status: "enable"
     ntp_sync_interval: "60"
     ntp_type: "custom"
     ntp_server: "10.7.220.32,10.7.220.1"
     ntp_auth: "enable"
     ntp_auth_pwd: "fortinet"
     ntp_v3: "disable"

 - name: SET ADMIN GLOBAL SETTINGS
   fmgr_device_provision_template:
     provisioning_template: "ansibleTest"
     mode: "set"
     adom: "ansible"
     admin_https_redirect: "enable"
     admin_https_port: "4433"
     admin_http_port: "8080"
     admin_timeout: "30"
     admin_language: "english"
     admin_switch_controller: "enable"
     admin_gui_theme: "blue"
     admin_enable_fortiguard: "direct"
     admin_fortiguard_target: "10.7.220.128"
     admin_fortianalyzer_target: "10.7.220.61"

 - name: SET CUSTOM SMTP SERVER
   fmgr_device_provision_template:
     provisioning_template: "ansibleTest"
     mode: "set"
     adom: "ansible"
     smtp_username: "ansible"
     smtp_password: "fortinet"
     smtp_port: "25"
     smtp_replyto: "[email protected]"
     smtp_conn_sec: "starttls"
     smtp_server: "10.7.220.32"
     smtp_source_ipv4: "0.0.0.0"
     smtp_validate_cert: "disable"

 - name: SET DNS SERVERS
   fmgr_device_provision_template:
     provisioning_template: "ansibleTest"
     mode: "set"
     adom: "ansible"
     dns_suffix: "ansible.local"
     dns_primary_ipv4: "8.8.8.8"
     dns_secondary_ipv4: "4.4.4.4"

 - name: SET PROVISIONING TEMPLATE DEVICE TARGETS IN FORTIMANAGER
   fmgr_device_provision_template:
     provisioning_template: "ansibleTest"
     mode: "set"
     adom: "ansible"
     provision_targets: "FGT1, FGT2"

 - name: DELETE ENTIRE PROVISIONING TEMPLATE
   fmgr_device_provision_template:
     delete_provisioning_template: "ansibleTest"
     mode: "delete"
     adom: "ansible"

RETURN VALUES                   *fmgr_device_provision_template-return values*

   Common return values are documented here, the following are the fields unique to this module:

      Key     Returned                                                                                  Description
   api_result always   full API response, includes status code and message
   string

STATUS                   *fmgr_device_provision_template-status*

     • This module is not guaranteed to have a backwards compatible interface. [preview]
     • This module is maintained by the Ansible Community. [community]

     • Luke Weighall (@lweighall)
     • Andrew Welsh (@Ghilli3)
     • Jim Huber (@p4r4n0y1ng)

   Hint

   If you notice any issues in this documentation, you can edit this document to improve it.

   ══════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════

MORE INFO                          *fmgr_device_provision_template-moreinfo*
>
All arguments are omni-completed, but if you really want to see the online docs:
https://docs.ansible.com/ansible/latest/modules/fmgr_device_provision_template_module.html
