SYNOPSIS                   *gcp_bigquery_table_info*

     • Gather info for GCP Table
     • This module was called gcp_bigquery_table_facts before Ansible 2.9. The usage has not changed.

   Aliases: gcp_bigquery_table_facts

REQUIREMENTS                   *gcp_bigquery_table_info-requirements*

   The below requirements are needed on the host that executes this module.

     • python >= 2.6
     • requests >= 2.18.4
     • google-auth >= 1.3.0

PARAMETERS                   *gcp_bigquery_table_info-parameters*

          Parameter           Choices/Defaults                                                                         Comments
                              Choices:
   auth_kind                  • application      The type of credential used.
   string / required          • machineaccount
                              • serviceaccount
   dataset                                       Name of the dataset.
   string
   env_type                                      Specifies which Ansible environment you're running this module within.
   string                                        This should not be set unless you know what you're doing.
                                                 This only alters the User Agent string for any API requests.
   project                                       The Google Cloud Platform project to use.
   string
   scopes                                        Array of scopes to be used.
   list
   service_account_contents                      The contents of a Service Account JSON file, either in a dictionary or as a JSON string that represents it.
   jsonarg
   service_account_email                         An optional service account email address if machineaccount is selected and the user does not wish to use the default email.
   string
   service_account_file                          The path of a Service Account JSON file if serviceaccount is selected as type.
   path

NOTES                   *gcp_bigquery_table_info-notes*

   Note

     • for authentication, you can set service_account_file using the c(gcp_service_account_file) env variable.
     • for authentication, you can set service_account_contents using the c(GCP_SERVICE_ACCOUNT_CONTENTS) env variable.
     • For authentication, you can set service_account_email using the GCP_SERVICE_ACCOUNT_EMAIL env variable.
     • For authentication, you can set auth_kind using the GCP_AUTH_KIND env variable.
     • For authentication, you can set scopes using the GCP_SCOPES env variable.
     • Environment variables values will only be used if the playbook values are not set.
     • The service_account_email and service_account_file options are mutually exclusive.

EXAMPLES                   *gcp_bigquery_table_info-examples*

 - name: get info on a table
   gcp_bigquery_table_info:
     dataset: example_dataset
     project: test_project
     auth_kind: serviceaccount
     service_account_file: "/tmp/auth.pem"

RETURN VALUES                   *gcp_bigquery_table_info-return values*

   Common return values are documented here, the following are the fields unique to this module:

                    Key                  Returned                                                                     Description
   resources                             always   List of resources
   complex
     clustering                          success  One or more fields on which data should be clustered. Only top-level, non-repeated, simple-type fields are supported. When you cluster a table
     list                                         using multiple columns, the order of columns you specify is important. The order of the specified columns determines the sort order of the data.
     creationTime                        success  The time when this dataset was created, in milliseconds since the epoch.
     integer
     dataset                             success  Name of the dataset.
     string
     description                         success  A user-friendly description of the dataset.
     string
     encryptionConfiguration             success  Custom encryption configuration.
     complex
       kmsKeyName                        success  Describes the Cloud KMS encryption key that will be used to protect destination BigQuery table. The BigQuery Service Account associated with your
       string                                     project requires access to this encryption key.
     expirationTime                      success  The time when this table expires, in milliseconds since the epoch. If not present, the table will persist indefinitely.
     integer
     externalDataConfiguration           success  Describes the data format, location, and other properties of a table stored outside of BigQuery. By defining these properties, the data source can
     complex                                      then be queried as if it were a standard BigQuery table.
       autodetect                        success  Try to detect schema and format options automatically. Any option specified explicitly will be honored.
       boolean
       bigtableOptions                   success  Additional options if sourceFormat is set to BIGTABLE.
       complex
         columnFamilies                  success  List of column families to expose in the table schema along with their types.
         complex
               columns                   success  Lists of columns that should be exposed as individual fields as opposed to a list of (column name, value) pairs.
               complex
                     encoding            success  The encoding of the values when the type is not STRING.
                     string
                     fieldName           success  If the qualifier is not a valid BigQuery field identifier, a valid identifier must be provided as the column field name and is used as field name
                     string                       in queries.
                     onlyReadLatest      success  If this is set, only the latest version of value in this column are exposed .
                     boolean
                     qualifierString     success  Qualifier of the column.
                     string
                     type                success  The type to convert the value in cells of this column.
                     string
               encoding                  success  The encoding of the values when the type is not STRING.
               string
               familyId                  success  Identifier of the column family.
               string
               onlyReadLatest            success  If this is set only the latest version of value are exposed for all columns in this column family .
               boolean
               type                      success  The type to convert the value in cells of this column family.
               string
         ignoreUnspecifiedColumnFamilies success  If field is true, then the column families that are not specified in columnFamilies list are not exposed in the table schema .
         boolean
         readRowkeyAsString              success  If field is true, then the rowkey column families will be read and converted to string.
         boolean
       compression                       success  The compression type of the data source.
       string
       csvOptions                        success  Additional properties to set if sourceFormat is set to CSV.
       complex
         allowJaggedRows                 success  Indicates if BigQuery should accept rows that are missing trailing optional columns .
         boolean
         allowQuotedNewlines             success  Indicates if BigQuery should allow quoted data sections that contain newline characters in a CSV file .
         boolean
         encoding                        success  The character encoding of the data.
         string
         fieldDelimiter                  success  The separator for fields in a CSV file.
         string
         quote                           success  The value that is used to quote data sections in a CSV file.
         string
         skipLeadingRows                 success  The number of rows at the top of a CSV file that BigQuery will skip when reading the data.
         integer
       googleSheetsOptions               success  Additional options if sourceFormat is set to GOOGLE_SHEETS.
       complex
         skipLeadingRows                 success  The number of rows at the top of a Google Sheet that BigQuery will skip when reading the data.
         integer
       ignoreUnknownValues               success  Indicates if BigQuery should allow extra values that are not represented in the table schema .
       boolean
       maxBadRecords                     success  The maximum number of bad records that BigQuery can ignore when reading data .
       integer
       schema                            success  The schema for the data. Schema is required for CSV and JSON formats.
       complex
         fields                          success  Describes the fields in a table.
         complex
               description               success  The field description.
               string
               fields                    success  Describes the nested schema fields if the type property is set to RECORD .
               list
               mode                      success  Field mode.
               string
               name                      success  Field name.
               string
               type                      success  Field data type.
               string
       sourceFormat                      success  The data format.
       string
                                                  The fully-qualified URIs that point to your data in Google Cloud.
       sourceUris                                 For Google Cloud Storage URIs: Each URI can contain one '"' wildcard character and it must come after the 'bucket' name. Size limits related to
       list                              success  load jobs apply to external data sources. For Google Cloud Bigtable URIs: Exactly one URI can be specified and it has be a fully specified and
                                                  valid HTTPS URL for a Google Cloud Bigtable table. For Google Cloud Datastore backups, exactly one URI can be specified. Also, the '"' wildcard
                                                  character is not allowed.
     friendlyName                        success  A descriptive name for this table.
     string
     id                                  success  An opaque ID uniquely identifying the table.
     string
     labels                              success  The labels associated with this dataset. You can use these to organize and group your datasets .
     dictionary
     lastModifiedTime                    success  The time when this table was last modified, in milliseconds since the epoch.
     integer
     location                            success  The geographic location where the table resides. This value is inherited from the dataset.
     string
     name                                success  Name of the table.
     string
     numBytes                            success  The size of this table in bytes, excluding any data in the streaming buffer.
     integer
     numLongTermBytes                    success  The number of bytes in the table that are considered "long-term storage".
     integer
     numRows                             success  The number of rows of data in this table, excluding any data in the streaming buffer.
     integer
     requirePartitionFilter              success  If set to true, queries over this table require a partition filter that can be used for partition elimination to be specified.
     boolean
     schema                              success  Describes the schema of this table.
     complex
       fields                            success  Describes the fields in a table.
       complex
         description                     success  The field description. The maximum length is 1,024 characters.
         string
         fields                          success  Describes the nested schema fields if the type property is set to RECORD.
         list
         mode                            success  The field mode.
         string
         name                            success  The field name.
         string
         type                            success  The field data type.
         string
     streamingBuffer                     success  Contains information regarding this table's streaming buffer, if one is present. This field will be absent if the table is not being streamed to or
     complex                                      if there is no data in the streaming buffer.
       estimatedBytes                    success  A lower-bound estimate of the number of bytes currently in the streaming buffer.
       integer
       estimatedRows                     success  A lower-bound estimate of the number of rows currently in the streaming buffer.
       integer
       oldestEntryTime                   success  Contains the timestamp of the oldest entry in the streaming buffer, in milliseconds since the epoch, if the streaming buffer is available.
       integer
     tableReference                      success  Reference describing the ID of this table.
     complex
       datasetId                         success  The ID of the dataset containing this table.
       string
       projectId                         success  The ID of the project containing this table.
       string
       tableId                           success  The ID of the the table.
       string
     timePartitioning                    success  If specified, configures time-based partitioning for this table.
     complex
       expirationMs                      success  Number of milliseconds for which to keep the storage for a partition.
       integer
       field                                      If not set, the table is partitioned by pseudo column, referenced via either '_PARTITIONTIME' as TIMESTAMP type, or '_PARTITIONDATE' as DATE type.
       string                            success  If field is specified, the table is instead partitioned by this field. The field must be a top-level TIMESTAMP or DATE field. Its mode must be
                                                  NULLABLE or REQUIRED.
       type                              success  The only type supported is DAY, which will generate one partition per day.
       string
     type                                success  Describes the table type.
     string
     view                                success  The view definition.
     complex
       useLegacySql                      success  Specifies whether to use BigQuery's legacy SQL for this view .
       boolean
       userDefinedFunctionResources      success  Describes user-defined function resources used in the query.
       complex
         inlineCode                      success  An inline resource that contains code for a user-defined function (UDF). Providing a inline code resource is equivalent to providing a URI for a
         string                                   file containing the same code.
         resourceUri                     success  A code resource to load from a Google Cloud Storage URI (gs://bucket/path).
         string

STATUS                   *gcp_bigquery_table_info-status*

     • This module is not guaranteed to have a backwards compatible interface. [preview]
     • This module is maintained by the Ansible Community. [community]

     • Google Inc. (@googlecloudplatform)

   Hint

   If you notice any issues in this documentation, you can edit this document to improve it.

   ══════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════

MORE INFO                          *gcp_bigquery_table_info-moreinfo*
>
All arguments are omni-completed, but if you really want to see the online docs:
https://docs.ansible.com/ansible/latest/modules/gcp_bigquery_table_info_module.html
