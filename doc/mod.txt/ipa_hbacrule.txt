SYNOPSIS                   *ipa_hbacrule*

     • Add, modify or delete an IPA HBAC rule using IPA API.

PARAMETERS                   *ipa_hbacrule-parameters*

       Parameter      Choices/Defaults                                                                            Comments
   cn                                   Canonical name.
   - / required                         Can not be changed as it is the unique identifier.
                                        aliases: name
   description                          Description
   -
   host                                 List of host names to assign.
   -                                    If an empty list is passed all hosts will be removed from the rule.
                                        If option is omitted hosts will not be checked or changed.
   hostcategory         Choices:        Host category
   -                    • all
   hostgroup                            List of hostgroup names to assign.
   -                                    If an empty list is passed all hostgroups will be removed. from the rule
                                        If option is omitted hostgroups will not be checked or changed.
                                        IP or hostname of IPA server.
                                        If the value is not specified in the task, the value of environment variable IPA_HOST will be used instead.
   ipa_host           Default:          If both the environment variable IPA_HOST and the value are not specified in the task, then DNS will be used to try to discover the FreeIPA server.
   string             "ipa.example.com" The relevant entry needed in FreeIPA is the 'ipa-ca' entry.
                                        If neither the DNS entry, nor the environment IPA_HOST, nor the value are available in the task, then the default value will be used.
                                        Environment variable fallback mechanism is added in Ansible 2.5.
                                        Password of administrative user.
                                        If the value is not specified in the task, the value of environment variable IPA_PASS will be used instead.
   ipa_pass                             Note that if the 'urllib_gssapi' library is available, it is possible to use GSSAPI to authenticate to FreeIPA.
   string / required                    If the environment variable KRB5CCNAME is available, the module will use this kerberos credentials cache to authenticate to the FreeIPA server.
                                        If the environment variable KRB5_CLIENT_KTNAME is available, and KRB5CCNAME is not; the module will use this kerberos keytab to authenticate.
                                        If GSSAPI is not available, the usage of 'ipa_pass' is required.
                                        Environment variable fallback mechanism is added in Ansible 2.5.
                                        Port of FreeIPA / IPA server.
   ipa_port           Default:          If the value is not specified in the task, the value of environment variable IPA_PORT will be used instead.
   integer            443               If both the environment variable IPA_PORT and the value are not specified in the task, then default value is set.
                                        Environment variable fallback mechanism is added in Ansible 2.5.
                        Choices:        Protocol used by IPA server.
   ipa_prot             • http          If the value is not specified in the task, the value of environment variable IPA_PROT will be used instead.
   string               • https ←       If both the environment variable IPA_PROT and the value are not specified in the task, then default value is set.
                                        Environment variable fallback mechanism is added in Ansible 2.5.
   ipa_timeout                          Specifies idle timeout (in seconds) for the connection.
   integer            Default:          For bulk operations, you may want to increase this in order to avoid timeout from IPA server.
   added in 2.7       10                If the value is not specified in the task, the value of environment variable IPA_TIMEOUT will be used instead.
                                        If both the environment variable IPA_TIMEOUT and the value are not specified in the task, then default value is set.
                                        Administrative account used on IPA server.
   ipa_user           Default:          If the value is not specified in the task, the value of environment variable IPA_USER will be used instead.
   string             "admin"           If both the environment variable IPA_USER and the value are not specified in the task, then default value is set.
                                        Environment variable fallback mechanism is added in Ansible 2.5.
   service                              List of service names to assign.
   -                                    If an empty list is passed all services will be removed from the rule.
                                        If option is omitted services will not be checked or changed.
   servicecategory      Choices:        Service category
   -                    • all
   servicegroup                         List of service group names to assign.
   -                                    If an empty list is passed all assigned service groups will be removed from the rule.
                                        If option is omitted service groups will not be checked or changed.
   sourcehost                           List of source host names to assign.
   -                                    If an empty list if passed all assigned source hosts will be removed from the rule.
                                        If option is omitted source hosts will not be checked or changed.
   sourcehostcategory   Choices:        Source host category
   -                    • all
   sourcehostgroup                      List of source host group names to assign.
   -                                    If an empty list if passed all assigned source host groups will be removed from the rule.
                                        If option is omitted source host groups will not be checked or changed.
                        Choices:
   state                • present ←
   -                    • absent        State to ensure
                        • enabled
                        • disabled
   user                                 List of user names to assign.
   -                                    If an empty list if passed all assigned users will be removed from the rule.
                                        If option is omitted users will not be checked or changed.
   usercategory         Choices:        User category
   -                    • all
   usergroup                            List of user group names to assign.
   -                                    If an empty list if passed all assigned user groups will be removed from the rule.
                                        If option is omitted user groups will not be checked or changed.
   validate_certs       Choices:        This only applies if ipa_prot is https.
   boolean              • no            If set to no, the SSL certificates will not be validated.
                        • yes ←         This should only set to no used on personally controlled sites using self-signed certificates.

EXAMPLES                   *ipa_hbacrule-examples*

 # Ensure rule to allow all users to access any host from any host
 - ipa_hbacrule:
     name: allow_all
     description: Allow all users to access any host from any host
     hostcategory: all
     servicecategory: all
     usercategory: all
     state: present
     ipa_host: ipa.example.com
     ipa_user: admin
     ipa_pass: topsecret

 # Ensure rule with certain limitations
 - ipa_hbacrule:
     name: allow_all_developers_access_to_db
     description: Allow all developers to access any database from any host
     hostgroup:
     - db-server
     usergroup:
     - developers
     state: present
     ipa_host: ipa.example.com
     ipa_user: admin
     ipa_pass: topsecret

 # Ensure rule is absent
 - ipa_hbacrule:
     name: rule_to_be_deleted
     state: absent
     ipa_host: ipa.example.com
     ipa_user: admin
     ipa_pass: topsecret

RETURN VALUES                   *ipa_hbacrule-return values*

   Common return values are documented here, the following are the fields unique to this module:

      Key     Returned                                                                                  Description
   hbacrule   always   HBAC rule as returned by IPA API.
   dictionary

STATUS                   *ipa_hbacrule-status*

     • This module is not guaranteed to have a backwards compatible interface. [preview]
     • This module is maintained by the Ansible Community. [community]

     • Thomas Krahn (@Nosmoht)

   Hint

   If you notice any issues in this documentation, you can edit this document to improve it.

   ══════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════

MORE INFO                          *ipa_hbacrule-moreinfo*
>
All arguments are omni-completed, but if you really want to see the online docs:
https://docs.ansible.com/ansible/latest/modules/ipa_hbacrule_module.html
