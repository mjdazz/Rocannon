SYNOPSIS                   *ce_evpn_bgp*

     • This module offers the ability to configure a BGP EVPN peer relationship on HUAWEI CloudEngine switches.

PARAMETERS                   *ce_evpn_bgp-parameters*

         Parameter       Choices/Defaults                                                                          Comments
   advertise_l2vpn_evpn    Choices:
   -                       • enable       Enable or disable a device to advertise IP routes imported to a VPN instance to its EVPN instance.
                           • disable
   advertise_router_type   Choices:
   -                       • arp          Configures a device to advertise routes to its BGP EVPN peers.
                           • irb
   as_number                              Specifies integral AS number. The value is an integer ranging from 1 to 4294967295.
   -
   bgp_instance                           Name of a BGP instance. The value is a string of 1 to 31 case-sensitive characters, spaces not supported.
   - / required
   peer_address                           Specifies the IPv4 address of a BGP EVPN peer. The value is in dotted decimal notation.
   -
   peer_enable             Choices:
   -                       • true         Enable or disable a BGP device to exchange routes with a specified peer or peer group in the address family view.
                           • false
   peer_group_name                        Specify the name of a peer group that BGP peers need to join. The value is a string of 1 to 47 case-sensitive characters, spaces not supported.
   -
   state                   Choices:
   -                       • present ←    Manage the state of the resource.
                           • absent
   vpn_name                               Associates a specified VPN instance with the IPv4 address family. The value is a string of 1 to 31 case-sensitive characters, spaces not supported.
   -

NOTES                   *ce_evpn_bgp-notes*

   Note

     • Recommended connection is network_cli.
     • This module also works with local connections for legacy playbooks.

EXAMPLES                   *ce_evpn_bgp-examples*

 - name: evpn bgp module test
   hosts: cloudengine
   connection: local
   gather_facts: no
   vars:
     cli:
       host: "{{ inventory_hostname }}"
       port: "{{ ansible_ssh_port }}"
       username: "{{ username }}"
       password: "{{ password }}"
       transport: cli

   tasks:

   - name: Enable peer address.
     ce_evpn_bgp:
       bgp_instance: 100
       peer_address: 1.1.1.1
       as_number: 100
       peer_enable: true
       provider: "{{ cli }}"

   - name: Enable peer group arp.
     ce_evpn_bgp:
       bgp_instance: 100
       peer_group_name: aaa
       advertise_router_type: arp
       provider: "{{ cli }}"

   - name: Enable advertise l2vpn evpn.
     ce_evpn_bgp:
       bgp_instance: 100
       vpn_name: aaa
       advertise_l2vpn_evpn: enable
       provider: "{{ cli }}"

RETURN VALUES                   *ce_evpn_bgp-return values*

   Common return values are documented here, the following are the fields unique to this module:

      Key       Returned                                                                                  Description
   changed                 check to see if a change was made on the device
   boolean    always       Sample:
                           True
   end_state               k/v pairs of configuration after module execution
   dictionary verbose mode Sample:
                           {'advertise_l2vpn_evpn': 'enable', 'bgp_instance': '100', 'vpn_name': 'aaa'}
   existing                k/v pairs of existing rollback
   dictionary always       Sample:
                           {'bgp_instance': '100', 'peer_group_advertise_type': []}
   proposed                k/v pairs of parameters passed into module
   dictionary always       Sample:
                           {'advertise_router_type': 'arp', 'bgp_instance': '100', 'peer_group_name': 'aaa', 'state': 'present'}
   updates                 command sent to the device
   list       always       Sample:
                           ['peer 1.1.1.1 enable', 'peer aaa advertise arp']

STATUS                   *ce_evpn_bgp-status*

     • This module is not guaranteed to have a backwards compatible interface. [preview]
     • This module is maintained by the Ansible Community. [community]

     • Li Yanfeng (@QijunPan)

   Hint

   If you notice any issues in this documentation, you can edit this document to improve it.

   ══════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════

MORE INFO                          *ce_evpn_bgp-moreinfo*
>
All arguments are omni-completed, but if you really want to see the online docs:
https://docs.ansible.com/ansible/latest/modules/ce_evpn_bgp_module.html
