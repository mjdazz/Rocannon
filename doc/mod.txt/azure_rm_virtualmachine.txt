SYNOPSIS                   *azure_rm_virtualmachine*

     • Manage and configure virtual machines (VMs) and associated resources on Azure.
     • Requires a resource group containing at least one virtual network with at least one subnet.
     • Supports images from the Azure Marketplace, which can be discovered with azure_rm_virtualmachineimage_facts.
     • Supports custom images since Ansible 2.5.
     • To use custom_data on a Linux image, the image must have cloud-init enabled. If cloud-init is not enabled, custom_data is ignored.

REQUIREMENTS                   *azure_rm_virtualmachine-requirements*

   The below requirements are needed on the host that executes this module.

     • python >= 2.7
     • azure >= 2.0.0

PARAMETERS                   *azure_rm_virtualmachine-parameters*

             Parameter             Choices/Defaults                                                                      Comments
   accept_terms                     Choices:          Accept terms for Marketplace images that require it.
   boolean                          • no ←            Only Azure service admin/account admin users can purchase images from the Marketplace.
   added in 2.7                     • yes             Only valid when a plan is specified.
   ad_user                                            Active Directory username. Use when authenticating with an Active Directory user rather than service principal.
   string
   adfs_authority_url
   string                                             Azure AD authority url. Use when authenticating with Username/password, and has your own ADFS authority.
   added in 2.6
   admin_password                                     Password for the admin username.
   -                                                  Not required if the os_type=Linux and SSH password authentication is disabled by setting ssh_password_enabled=false.
   admin_username                                     Admin username used to access the VM after it is created.
   -                                                  Required when creating a VM.
   allocated                        Choices:
   boolean                          • no              Whether the VM is allocated or deallocated, only useful with state=present.
                                    • yes ←
   api_profile                    Default:            Selects an API profile to use when communicating with Azure services. Default value of latest is appropriate for public clouds; future values
   string                         "latest"            will allow use with Azure Stack.
   added in 2.5
   append_tags                      Choices:          Use to control if tags field is canonical or just appends to existing tags.
   boolean                          • no              When canonical, any tags not found in the tags parameter will be removed from the object's metadata.
                                    • yes ←
                                                      Controls the source of the credentials to use for authentication.
                                                      If not specified, ANSIBLE_AZURE_AUTH_SOURCE environment variable will be used and default to auto if variable is not defined.
                                    Choices:          auto will follow the default precedence of module parameters -> environment variables -> default profile in credential file
   auth_source                      • auto            ~/.azure/credentials.
   string                           • cli             When set to cli, the credentials will be sources from the default Azure CLI profile.
   added in 2.5                     • credential_file Can also be set via the ANSIBLE_AZURE_AUTH_SOURCE environment variable.
                                    • env             When set to msi, the host machine must be an azure resource with an enabled MSI extension. subscription_id or the environment variable
                                    • msi             AZURE_SUBSCRIPTION_ID can be used to identify the subscription ID if the resource is granted access to more than one subscription, otherwise
                                                      the first subscription is chosen.
                                                      The msi was added in Ansible 2.6.
   availability_set
   -                                                  Name or ID of an existing availability set to add the VM to. The availability_set should be in the same resource group as VM.
   added in 2.5
   boot_diagnostics                                   Manage boot diagnostics settings for a VM.
   -                                                  Boot diagnostics includes a serial console and remote console screenshots.
   added in 2.9
        enabled                     Choices:
        boolean / required          • no              Flag indicating if boot diagnostics are enabled.
                                    • yes
        storage_account                               The name of an existing storage account to use for boot diagnostics.
        -                                             If not specified, uses storage_account_name defined one level up.
                                                      If storage account is not specified anywhere, and enabled is true, a default storage account is created for boot diagnostics data.
   cert_validation_mode             Choices:          Controls the certificate validation behavior for Azure endpoints. By default, all modules will validate the server certificate, but when an
   string                           • ignore          HTTPS proxy is in use, or against Azure Stack, it may be necessary to disable this behavior by passing ignore. Can also be set via credential
   added in 2.5                     • validate        file profile or the AZURE_CERT_VALIDATION environment variable.
   client_id                                          Azure client ID. Use when authenticating with a Service Principal.
   string
   cloud_environment              Default:            For cloud environments other than the US public cloud, the environment name (as defined by Azure Python SDK, eg, AzureChinaCloud,
   string                         "AzureCloud"        AzureUSGovernment), or a metadata discovery endpoint URL (required for Azure Stack). Can also be set via credential file profile or the
   added in 2.4                                       AZURE_CLOUD_ENVIRONMENT environment variable.
   custom_data                                        Data made available to the VM and used by cloud-init.
   -                                                  Only used on Linux images with cloud-init enabled.
   added in 2.5                                       Consult https://docs.microsoft.com/en-us/azure/virtual-machines/linux/using-cloud-init#cloud-init-overview for cloud-init ready images.
                                                      To enable cloud-init on a Linux image, follow https://docs.microsoft.com/en-us/azure/virtual-machines/linux/cloudinit-prepare-custom-image.
   data_disks                                         Describes list of data disks.
   -                                                  Use azure_rm_mangeddisk to manage the specific disk.
   added in 2.4
        caching                     Choices:
        -                           • ReadOnly ←      Type of data disk caching.
        added in 2.4                • ReadWrite
        disk_size_gb                                  The initial disk size in GB for blank data disks.
        -                                             This value cannot be larger than 1023 GB.
        added in 2.4                                  Size can be changed only when the virtual machine is deallocated.
                                                      Not sure when managed_disk_id defined.
        lun                                           The logical unit number for data disk.
        - / required                                  This value is used to identify data disks within the VM and therefore must be unique for each data disk attached to a VM.
        added in 2.4
        managed_disk_type           Choices:
        -                           • Standard_LRS    Managed data disk type.
        added in 2.4                • StandardSSD_LRS Only used when OS disk created with managed disk.
                                    • Premium_LRS
                                                      Name of an existing storage account that supports creation of VHD blobs.
        storage_account_name                          If not specified for a new VM, a new storage account started with name will be created using storage type Standard_LRS.
        -                                             Only used when OS disk created with virtual hard disk (VHD).
        added in 2.4                                  Used when managed_disk_type not defined.
                                                      Cannot be updated unless lun updated.
                                                      Name of the storage blob used to hold the OS disk image of the VM.
        storage_blob_name                             Must end with '.vhd'.
        -                                             Default to the name + timestamp + lun + '.vhd'.
        added in 2.4                                  Only used when OS disk created with virtual hard disk (VHD).
                                                      Used when managed_disk_type not defined.
                                                      Cannot be updated unless lun updated.
                                                      Name of the container to use within the storage account to store VHD blobs.
        storage_container_name    Default:            If no name is specified a default container named 'vhds' will created.
        -                         "vhds"              Only used when OS disk created with virtual hard disk (VHD).
        added in 2.4                                  Used when managed_disk_type not defined.
                                                      Cannot be updated unless lun updated.
   generalized                      Choices:          Whether the VM is generalized or not.
   boolean                          • no              Set to true with state=present to generalize the VM.
   added in 2.8                     • yes             Generalizing a VM is irreversible.
                                                      The image used to build the VM.
   image                                              For custom images, the name of the image. To narrow the search to a specific resource group, a dict with the keys name and resource_group.
   - / required                                       For Marketplace images, a dict with the keys publisher, offer, sku, and version.
                                                      Set version=latest to get the most recent version of a given image.
   license_type                     Choices:          On-premise license for the image or disk.
   -                                • Windows_Server  Only used for images that contain the Windows Server operating system.
   added in 2.8                     • Windows_Client  To remove all license type settings, set to the string None.
   location                                           Valid Azure location for the VM. Defaults to location of the resource group.
   -
   managed_disk_type                Choices:          Managed OS disk type.
   -                                • Standard_LRS    Create OS disk with managed disk if defined.
   added in 2.4                     • StandardSSD_LRS If not defined, the OS disk will be created with virtual hard disk (VHD).
                                    • Premium_LRS
   name                                               Name of the VM.
   - / required
                                                      Network interface names to add to the VM.
                                                      Can be a string of name or resource ID of the network interface.
   network_interface_names                            Can be a dict containing resource_group and name of the network interface.
   list                                               If a network interface name is not provided when the VM is created, a default network interface will be created.
                                                      To create a new network interface, at least one Virtual Network with one Subnet must exist.
                                                      aliases: network_interfaces
   open_ports                                         List of ports to open in the security group for the VM, when a security group and network interface are created with a VM.
   -                                                  For Linux hosts, defaults to allowing inbound TCP connections to port 22.
                                                      For Windows hosts, defaults to opening ports 3389 and 5986.
   os_disk_caching                  Choices:          Type of OS disk caching.
   -                                • ReadOnly ←      aliases: disk_caching
                                    • ReadWrite
   os_disk_name
   -                                                  OS disk name.
   added in 2.8
   os_disk_size_gb
   -                                                  Type of OS disk size in GB.
   added in 2.7
   os_type                          Choices:
   -                                • Windows         Base type of operating system.
                                    • Linux ←
   password                                           Active Directory user password. Use when authenticating with an Active Directory user rather than service principal.
   string
   plan
   dictionary                                         Third-party billing plan for the VM.
   added in 2.5
        name                                          Billing plan name.
        - / required
        product                                       Product name.
        - / required
        promotion_code                                Optional promotion code.
        -
        publisher                                     Publisher offering the plan.
        - / required
   profile                                            Security profile found in ~/.azure/credentials file.
   string
                                    Choices:          Allocation method for the public IP of the VM.
   public_ip_allocation_method      • Dynamic         Used only if a network interface is not specified.
   -                                • Static ←        When set to Dynamic, the public IP address may change any time the VM is rebooted or power cycled.
                                    • Disabled        The Disabled choice was added in Ansible 2.6.
                                                      aliases: public_ip_allocation
                                                      Associated resources to remove when removing a VM using state=absent.
   remove_on_absent               Default:            To remove all resources related to the VM being removed, including auto-created resources, set to all.
   list                           ["all"]             To remove only resources that were automatically created while provisioning the VM being removed, set to all_autocreated.
                                                      To remove only specific resources, set to network_interfaces, virtual_storage or public_ips.
                                                      Any other input will be ignored.
   resource_group                                     Name of the resource group containing the VM.
   - / required
   restarted                        Choices:
   boolean                          • no              Set to true with state=present to restart a running VM.
                                    • yes
   secret                                             Azure client secret. Use when authenticating with a Service Principal.
   string
   short_hostname                                     Name assigned internally to the host. On a Linux VM this is the name returned by the hostname command.
   -                                                  When creating a VM, short_hostname defaults to name.
   ssh_password_enabled             Choices:          Whether to enable or disable SSH passwords.
   boolean                          • no              When os_type=Linux, set to false to disable SSH password authentication and require use of SSH keys.
                                    • yes ←
                                                      For os_type=Linux provide a list of SSH keys.
   ssh_public_keys                                    Accepts a list of dicts where each dictionary contains two keys, path and key_data.
   -                                                  Set path to the default location of the authorized_keys files. For example, path=/home/<admin username>/.ssh/authorized_keys.
                                                      Set key_data to the actual value of the public key.
   started                          Choices:          Whether the VM is started or stopped.
   boolean                          • no              Set to (true) with state=present to start the VM.
                                    • yes ←           Set to false to stop the VM.
                                    Choices:          State of the VM.
   state                            • absent          Set to present to create a VM with the configuration specified by other options, or to update the configuration of an existing VM.
   -                                • present ←       Set to absent to remove a VM.
                                                      Does not affect power state. Use started/allocated/restarted parameters to change the power state of a VM.
   storage_account_name                               Name of a storage account that supports creation of VHD blobs.
   -                                                  If not specified for a new VM, a new storage account named <vm name>01 will be created using storage type Standard_LRS.
                                                      aliases: storage_account
                                                      Name of the storage blob used to hold the OS disk image of the VM.
   storage_blob_name                                  Must end with '.vhd'.
   -                                                  If not specified, defaults to the VM name + '.vhd'.
                                                      aliases: storage_blob
   storage_container_name         Default:            Name of the container to use within the storage account to store VHD blobs.
   -                              "vhds"              If not specified, a default container will be created.
                                                      aliases: storage_container
                                                      Subnet for the VM.
   subnet_name                                        Defaults to the first subnet found in the virtual network or the subnet of the network_interface_name, if provided.
   -                                                  If the subnet is in another resource group, specify the resource group with virtual_network_resource_group.
                                                      aliases: subnet
   subscription_id                                    Your Azure subscription Id.
   string
   tags                                               Dictionary of string:string pairs to assign as metadata to the object.
   dictionary                                         Metadata tags on the object will be updated with any provided values.
                                                      To remove tags set append_tags option to false.
   tenant                                             Azure tenant ID. Use when authenticating with a Service Principal.
   string
                                                      The virtual network to use when creating a VM.
   virtual_network_name                               If not specified, a new network interface will be created and assigned to the first virtual network found in the resource group.
   -                                                  Use with virtual_network_resource_group to place the virtual network in another resource group.
                                                      aliases: virtual_network
   virtual_network_resource_group
   -                                                  The resource group to use when creating a VM with another resource group's virtual network.
   added in 2.4
   vm_identity                      Choices:
   -                                • SystemAssigned  Identity for the VM.
   added in 2.8
   vm_size                                            A valid Azure VM size value. For example, Standard_D4.
   -                                                  Choices vary depending on the subscription and location. Check your subscription for available choices.
                                                      Required when creating a VM.
   winrm
   -                                                  List of Windows Remote Management configurations of the VM.
   added in 2.8
        certificate_store                             The certificate store on the VM to which the certificate should be added.
        -                                             The specified certificate store is implicitly in the LocalMachine account.
        certificate_url                               The URL of a certificate that has been uploaded to Key Vault as a secret.
        -
        protocol                    Choices:
        - / required                • http            The protocol of the winrm listener.
                                    • https
        source_vault                                  The relative URL of the Key Vault containing the certificate.
        -
   zones
   list                                               A list of Availability Zones for your VM.
   added in 2.8

NOTES                   *azure_rm_virtualmachine-notes*

   Note

     • For authentication with Azure you can pass parameters, set environment variables, use a profile stored in ~/.azure/credentials, or log in before you run your tasks or playbook with az login.
     • Authentication is also possible using a service principal or Active Directory user.
     • To authenticate via service principal, pass subscription_id, client_id, secret and tenant or set environment variables AZURE_SUBSCRIPTION_ID, AZURE_CLIENT_ID, AZURE_SECRET and AZURE_TENANT.
     • To authenticate via Active Directory user, pass ad_user and password, or set AZURE_AD_USER and AZURE_PASSWORD in the environment.
     • Alternatively, credentials can be stored in ~/.azure/credentials. This is an ini file containing a [default] section and the following keys: subscription_id, client_id, secret and tenant or
       subscription_id, ad_user and password. It is also possible to add additional profiles. Specify the profile by passing profile or setting AZURE_PROFILE in the environment.

SEE ALSO                   *azure_rm_virtualmachine-see also*

   See also

   Sign in with Azure CLI
   How to authenticate using the az login command.

EXAMPLES                   *azure_rm_virtualmachine-examples*

 - name: Create VM with defaults
   azure_rm_virtualmachine:
     resource_group: myResourceGroup
     name: testvm10
     admin_username: chouseknecht
     admin_password: <your password here>
     image:
       offer: CentOS
       publisher: OpenLogic
       sku: '7.1'
       version: latest

 - name: Create an availability set for managed disk vm
   azure_rm_availabilityset:
     name: avs-managed-disk
     resource_group: myResourceGroup
     platform_update_domain_count: 5
     platform_fault_domain_count: 2
     sku: Aligned

 - name: Create a VM with managed disk
   azure_rm_virtualmachine:
     resource_group: myResourceGroup
     name: vm-managed-disk
     admin_username: adminUser
     availability_set: avs-managed-disk
     managed_disk_type: Standard_LRS
     image:
       offer: CoreOS
       publisher: CoreOS
       sku: Stable
       version: latest
     vm_size: Standard_D4

 - name: Create a VM with existing storage account and NIC
   azure_rm_virtualmachine:
     resource_group: myResourceGroup
     name: testvm002
     vm_size: Standard_D4
     storage_account: testaccount001
     admin_username: adminUser
     ssh_public_keys:
       - path: /home/adminUser/.ssh/authorized_keys
         key_data: < insert yor ssh public key here... >
     network_interfaces: testvm001
     image:
       offer: CentOS
       publisher: OpenLogic
       sku: '7.1'
       version: latest

 - name: Create a VM with OS and multiple data managed disks
   azure_rm_virtualmachine:
     resource_group: myResourceGroup
     name: testvm001
     vm_size: Standard_D4
     managed_disk_type: Standard_LRS
     admin_username: adminUser
     ssh_public_keys:
       - path: /home/adminUser/.ssh/authorized_keys
         key_data: < insert yor ssh public key here... >
     image:
       offer: CoreOS
       publisher: CoreOS
       sku: Stable
       version: latest
     data_disks:
       - lun: 0
         managed_disk_id: "/subscriptions/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxxxxxx/resourceGroups/myResourceGroup/providers/Microsoft.Compute/disks/myDisk"
       - lun: 1
         disk_size_gb: 128
         managed_disk_type: Premium_LRS

 - name: Create a VM with OS and multiple data storage accounts
   azure_rm_virtualmachine:
     resource_group: myResourceGroup
     name: testvm001
     vm_size: Standard_DS1_v2
     admin_username: adminUser
     ssh_password_enabled: false
     ssh_public_keys:
       - path: /home/adminUser/.ssh/authorized_keys
         key_data: < insert yor ssh public key here... >
     network_interfaces: testvm001
     storage_container: osdisk
     storage_blob: osdisk.vhd
     boot_diagnostics:
       enabled: yes
     image:
       offer: CoreOS
       publisher: CoreOS
       sku: Stable
       version: latest
     data_disks:
       - lun: 0
         disk_size_gb: 64
         storage_container_name: datadisk1
         storage_blob_name: datadisk1.vhd
       - lun: 1
         disk_size_gb: 128
         storage_container_name: datadisk2
         storage_blob_name: datadisk2.vhd

 - name: Create a VM with a custom image
   azure_rm_virtualmachine:
     resource_group: myResourceGroup
     name: testvm001
     vm_size: Standard_DS1_v2
     admin_username: adminUser
     admin_password: password01
     image: customimage001

 - name: Create a VM with a custom image from a particular resource group
   azure_rm_virtualmachine:
     resource_group: myResourceGroup
     name: testvm001
     vm_size: Standard_DS1_v2
     admin_username: adminUser
     admin_password: password01
     image:
       name: customimage001
       resource_group: myResourceGroup

 - name: Create a VM with an image id
   azure_rm_virtualmachine:
     resource_group: myResourceGroup
     name: testvm001
     vm_size: Standard_DS1_v2
     admin_username: adminUser
     admin_password: password01
     image:
       id: '{{image_id}}'

 - name: Create VM with specified OS disk size
   azure_rm_virtualmachine:
     resource_group: myResourceGroup
     name: big-os-disk
     admin_username: chouseknecht
     admin_password: <your password here>
     os_disk_size_gb: 512
     image:
       offer: CentOS
       publisher: OpenLogic
       sku: '7.1'
       version: latest

 - name: Create VM with OS and Plan, accepting the terms
   azure_rm_virtualmachine:
     resource_group: myResourceGroup
     name: f5-nva
     admin_username: chouseknecht
     admin_password: <your password here>
     image:
       publisher: f5-networks
       offer: f5-big-ip-best
       sku: f5-bigip-virtual-edition-200m-best-hourly
       version: latest
     plan:
       name: f5-bigip-virtual-edition-200m-best-hourly
       product: f5-big-ip-best
       publisher: f5-networks

 - name: Power Off
   azure_rm_virtualmachine:
     resource_group: myResourceGroup
     name: testvm002
     started: no

 - name: Deallocate
   azure_rm_virtualmachine:
     resource_group: myResourceGroup
     name: testvm002
     allocated: no

 - name: Power On
   azure_rm_virtualmachine:
     resource_group: myResourceGroup
     name: testvm002

 - name: Restart
   azure_rm_virtualmachine:
     resource_group: myResourceGroup
     name: testvm002
     restarted: yes

 - name: Create a VM with an Availability Zone
   azure_rm_virtualmachine:
     resource_group: myResourceGroup
     name: testvm001
     vm_size: Standard_DS1_v2
     admin_username: adminUser
     admin_password: password01
     image: customimage001
     zones: [1]

 - name: Remove a VM and all resources that were autocreated
   azure_rm_virtualmachine:
     resource_group: myResourceGroup
     name: testvm002
     remove_on_absent: all_autocreated
     state: absent

RETURN VALUES                   *azure_rm_virtualmachine-return values*

   Common return values are documented here, the following are the fields unique to this module:

           Key             Returned                                                                                 Description
                                    Facts about the current state of the object. Note that facts are not part of the registered output but available directly.
                                    Sample:
                                    {'properties': {'availabilitySet': {'id':
                                    '/subscriptions/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx/resourceGroup/myResourceGroup/providers/Microsoft.Compute/availabilitySets/MYAVAILABILITYSET'}, 'hardwareProfile':
                                    {'vmSize': 'Standard_D1'}, 'instanceView': {'disks': [{'name': 'testvm10.vhd', 'statuses': [{'code': 'ProvisioningState/succeeded', 'displayStatus': 'Provisioning
                                    succeeded', 'level': 'Info', 'time': '2016-03-30T07:11:16.187272Z'}]}], 'statuses': [{'code': 'ProvisioningState/succeeded', 'displayStatus': 'Provisioning succeeded',
                                    'level': 'Info', 'time': '2016-03-30T20:33:38.946916Z'}, {'code': 'PowerState/running', 'displayStatus': 'VM running', 'level': 'Info'}], 'vmAgent': {'extensionHandlers':
                                    [], 'statuses': [{'code': 'ProvisioningState/succeeded', 'displayStatus': 'Ready', 'level': 'Info', 'message': 'GuestAgent is running and accepting new configurations.',
                                    'time': '2016-03-30T20:31:16.000Z'}], 'vmAgentVersion': 'WALinuxAgent-2.0.16'}}, 'networkProfile': {'networkInterfaces': [{'id':
                                    '/subscriptions/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx/resourceGroup/myResourceGroup/providers/Microsoft.Network/networkInterfaces/testvm10_NIC01', 'name': 'testvm10_NIC01',
                                    'properties': {'dnsSettings': {'appliedDnsServers': [], 'dnsServers': []}, 'enableIPForwarding': False, 'ipConfigurations': [{'etag':
azure_vm                            'W/"041c8c2a-d5dd-4cd7-8465-9125cfbe2cf8"', 'id':
dictionary                 always   '/subscriptions/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx/resourceGroup/myResourceGroup/providers/Microsoft.Network/networkInterfaces/testvm10_NIC01/ipConfigurations/default',
                                    'name': 'default', 'properties': {'privateIPAddress': '10.10.0.5', 'privateIPAllocationMethod': 'Dynamic', 'provisioningState': 'Succeeded', 'publicIPAddress': {'id':
                                    '/subscriptions/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx/resourceGroup/myResourceGroup/providers/Microsoft.Network/publicIPAddresses/testvm10_PIP01', 'name': 'testvm10_PIP01',
                                    'properties': {'idleTimeoutInMinutes': 4, 'ipAddress': '13.92.246.197', 'ipConfiguration': {'id':
                                    '/subscriptions/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx/resourceGroup/myResourceGroup/providers/Microsoft.Network/networkInterfaces/testvm10_NIC01/ipConfigurations/default'},
                                    'provisioningState': 'Succeeded', 'publicIPAllocationMethod': 'Static', 'resourceGuid': '3447d987-ca0d-4eca-818b-5dddc0625b42'}}}}], 'macAddress': '00-0D-3A-12-AA-14',
                                    'primary': True, 'provisioningState': 'Succeeded', 'resourceGuid': '10979e12-ccf9-42ee-9f6d-ff2cc63b3844', 'virtualMachine': {'id':
                                    '/subscriptions/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx/resourceGroup/myResourceGroup/providers/Microsoft.Compute/virtualMachines/testvm10'}}}]}, 'osProfile':
                                    {'adminUsername': 'chouseknecht', 'computerName': 'test10', 'linuxConfiguration': {'disablePasswordAuthentication': False}, 'secrets': []}, 'provisioningState':
                                    'Succeeded', 'storageProfile': {'dataDisks': [{'caching': 'ReadWrite', 'createOption': 'empty', 'diskSizeGB': 64, 'lun': 0, 'name': 'datadisk1.vhd', 'vhd': {'uri':
                                    'https://testvm10sa1.blob.core.windows.net/datadisk/datadisk1.vhd'}}], 'imageReference': {'offer': 'CentOS', 'publisher': 'OpenLogic', 'sku': '7.1', 'version':
                                    '7.1.20160308'}, 'osDisk': {'caching': 'ReadOnly', 'createOption': 'fromImage', 'name': 'testvm10.vhd', 'osType': 'Linux', 'vhd': {'uri':
                                    'https://testvm10sa1.blob.core.windows.net/vhds/testvm10.vhd'}}}}, 'type': 'Microsoft.Compute/virtualMachines'}
deleted_network_interfaces on       List of deleted NICs.
list                       delete   Sample:
                                    ['testvm1001']
deleted_public_ips         on       List of deleted public IP address names.
list                       delete   Sample:
                                    ['testvm1001']
deleted_vhd_uris           on       List of deleted Virtual Hard Disk URIs.
list                       delete   Sample:
                                    ['https://testvm104519.blob.core.windows.net/vhds/testvm10.vhd']
powerstate                          Indicates if the state is running, stopped, deallocated, generalized.
string                     always   Sample:
                                    running

STATUS                   *azure_rm_virtualmachine-status*

     • This module is not guaranteed to have a backwards compatible interface. [preview]
     • This module is maintained by the Ansible Community. [community]

     • Chris Houseknecht (@chouseknecht)
     • Matt Davis (@nitzmahone)
     • Christopher Perrin (@cperrin88)
     • James E. King III (@jeking3)

   Hint

   If you notice any issues in this documentation, you can edit this document to improve it.

   ══════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════

MORE INFO                          *azure_rm_virtualmachine-moreinfo*
>
All arguments are omni-completed, but if you really want to see the online docs:
https://docs.ansible.com/ansible/latest/modules/azure_rm_virtualmachine_module.html
